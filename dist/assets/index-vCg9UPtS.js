(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pf(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var xc={exports:{}},ji={},_c={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var as=Symbol.for("react.element"),mf=Symbol.for("react.portal"),gf=Symbol.for("react.fragment"),vf=Symbol.for("react.strict_mode"),yf=Symbol.for("react.profiler"),wf=Symbol.for("react.provider"),xf=Symbol.for("react.context"),_f=Symbol.for("react.forward_ref"),bf=Symbol.for("react.suspense"),kf=Symbol.for("react.memo"),Sf=Symbol.for("react.lazy"),Fa=Symbol.iterator;function jf(t){return t===null||typeof t!="object"?null:(t=Fa&&t[Fa]||t["@@iterator"],typeof t=="function"?t:null)}var bc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kc=Object.assign,Sc={};function cr(t,e,n){this.props=t,this.context=e,this.refs=Sc,this.updater=n||bc}cr.prototype.isReactComponent={};cr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};cr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jc(){}jc.prototype=cr.prototype;function Rl(t,e,n){this.props=t,this.context=e,this.refs=Sc,this.updater=n||bc}var $l=Rl.prototype=new jc;$l.constructor=Rl;kc($l,cr.prototype);$l.isPureReactComponent=!0;var Ba=Array.isArray,Nc=Object.prototype.hasOwnProperty,Ul={current:null},Ec={key:!0,ref:!0,__self:!0,__source:!0};function Cc(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Nc.call(e,r)&&!Ec.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:as,type:t,key:i,ref:o,props:s,_owner:Ul.current}}function Nf(t,e){return{$$typeof:as,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Dl(t){return typeof t=="object"&&t!==null&&t.$$typeof===as}function Ef(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Va=/\/+/g;function Ji(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ef(""+t.key):e.toString(36)}function Fs(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case as:case mf:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ji(o,0):r,Ba(s)?(n="",t!=null&&(n=t.replace(Va,"$&/")+"/"),Fs(s,e,n,"",function(c){return c})):s!=null&&(Dl(s)&&(s=Nf(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Va,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Ba(t))for(var l=0;l<t.length;l++){i=t[l];var u=r+Ji(i,l);o+=Fs(i,e,n,u,s)}else if(u=jf(t),typeof u=="function")for(t=u.call(t),l=0;!(i=t.next()).done;)i=i.value,u=r+Ji(i,l++),o+=Fs(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xs(t,e,n){if(t==null)return t;var r=[],s=0;return Fs(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Cf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pe={current:null},Bs={transition:null},Pf={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:Bs,ReactCurrentOwner:Ul};function Pc(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:xs,forEach:function(t,e,n){xs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xs(t,function(){e++}),e},toArray:function(t){return xs(t,function(e){return e})||[]},only:function(t){if(!Dl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};H.Component=cr;H.Fragment=gf;H.Profiler=yf;H.PureComponent=Rl;H.StrictMode=vf;H.Suspense=bf;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pf;H.act=Pc;H.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=kc({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ul.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Nc.call(e,u)&&!Ec.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:as,type:t.type,key:s,ref:i,props:r,_owner:o}};H.createContext=function(t){return t={$$typeof:xf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:wf,_context:t},t.Consumer=t};H.createElement=Cc;H.createFactory=function(t){var e=Cc.bind(null,t);return e.type=t,e};H.createRef=function(){return{current:null}};H.forwardRef=function(t){return{$$typeof:_f,render:t}};H.isValidElement=Dl;H.lazy=function(t){return{$$typeof:Sf,_payload:{_status:-1,_result:t},_init:Cf}};H.memo=function(t,e){return{$$typeof:kf,type:t,compare:e===void 0?null:e}};H.startTransition=function(t){var e=Bs.transition;Bs.transition={};try{t()}finally{Bs.transition=e}};H.unstable_act=Pc;H.useCallback=function(t,e){return Pe.current.useCallback(t,e)};H.useContext=function(t){return Pe.current.useContext(t)};H.useDebugValue=function(){};H.useDeferredValue=function(t){return Pe.current.useDeferredValue(t)};H.useEffect=function(t,e){return Pe.current.useEffect(t,e)};H.useId=function(){return Pe.current.useId()};H.useImperativeHandle=function(t,e,n){return Pe.current.useImperativeHandle(t,e,n)};H.useInsertionEffect=function(t,e){return Pe.current.useInsertionEffect(t,e)};H.useLayoutEffect=function(t,e){return Pe.current.useLayoutEffect(t,e)};H.useMemo=function(t,e){return Pe.current.useMemo(t,e)};H.useReducer=function(t,e,n){return Pe.current.useReducer(t,e,n)};H.useRef=function(t){return Pe.current.useRef(t)};H.useState=function(t){return Pe.current.useState(t)};H.useSyncExternalStore=function(t,e,n){return Pe.current.useSyncExternalStore(t,e,n)};H.useTransition=function(){return Pe.current.useTransition()};H.version="18.3.1";_c.exports=H;var P=_c.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf=P,Of=Symbol.for("react.element"),Af=Symbol.for("react.fragment"),If=Object.prototype.hasOwnProperty,Lf=Tf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Rf={key:!0,ref:!0,__self:!0,__source:!0};function Tc(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)If.call(e,r)&&!Rf.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Of,type:t,key:i,ref:o,props:s,_owner:Lf.current}}ji.Fragment=Af;ji.jsx=Tc;ji.jsxs=Tc;xc.exports=ji;var a=xc.exports,Oc={exports:{}},Be={},Ac={exports:{}},Ic={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,L){var U=A.length;A.push(L);e:for(;0<U;){var J=U-1>>>1,ne=A[J];if(0<s(ne,L))A[J]=L,A[U]=ne,U=J;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var L=A[0],U=A.pop();if(U!==L){A[0]=U;e:for(var J=0,ne=A.length,yt=ne>>>1;J<yt;){var Xe=2*(J+1)-1,on=A[Xe],Ze=Xe+1,It=A[Ze];if(0>s(on,U))Ze<ne&&0>s(It,on)?(A[J]=It,A[Ze]=U,J=Ze):(A[J]=on,A[Xe]=U,J=Xe);else if(Ze<ne&&0>s(It,U))A[J]=It,A[Ze]=U,J=Ze;else break e}}return L}function s(A,L){var U=A.sortIndex-L.sortIndex;return U!==0?U:A.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,h=null,m=3,y=!1,w=!1,x=!1,j=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(A){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=A)r(c),L.sortIndex=L.expirationTime,e(u,L);else break;L=n(c)}}function v(A){if(x=!1,p(A),!w)if(n(u)!==null)w=!0,me(k);else{var L=n(c);L!==null&&Oe(v,L.startTime-A)}}function k(A,L){w=!1,x&&(x=!1,g(_),_=-1),y=!0;var U=m;try{for(p(L),h=n(u);h!==null&&(!(h.expirationTime>L)||A&&!Q());){var J=h.callback;if(typeof J=="function"){h.callback=null,m=h.priorityLevel;var ne=J(h.expirationTime<=L);L=t.unstable_now(),typeof ne=="function"?h.callback=ne:h===n(u)&&r(u),p(L)}else r(u);h=n(u)}if(h!==null)var yt=!0;else{var Xe=n(c);Xe!==null&&Oe(v,Xe.startTime-L),yt=!1}return yt}finally{h=null,m=U,y=!1}}var N=!1,C=null,_=-1,M=5,R=-1;function Q(){return!(t.unstable_now()-R<M)}function Ye(){if(C!==null){var A=t.unstable_now();R=A;var L=!0;try{L=C(!0,A)}finally{L?Ot():(N=!1,C=null)}}else N=!1}var Ot;if(typeof f=="function")Ot=function(){f(Ye)};else if(typeof MessageChannel<"u"){var Nn=new MessageChannel,At=Nn.port2;Nn.port1.onmessage=Ye,Ot=function(){At.postMessage(null)}}else Ot=function(){j(Ye,0)};function me(A){C=A,N||(N=!0,Ot())}function Oe(A,L){_=j(function(){A(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){w||y||(w=!0,me(k))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(A){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var U=m;m=L;try{return A()}finally{m=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,L){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var U=m;m=A;try{return L()}finally{m=U}},t.unstable_scheduleCallback=function(A,L,U){var J=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?J+U:J):U=J,A){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=U+ne,A={id:d++,callback:L,priorityLevel:A,startTime:U,expirationTime:ne,sortIndex:-1},U>J?(A.sortIndex=U,e(c,A),n(u)===null&&A===n(c)&&(x?(g(_),_=-1):x=!0,Oe(v,U-J))):(A.sortIndex=ne,e(u,A),w||y||(w=!0,me(k))),A},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(A){var L=m;return function(){var U=m;m=L;try{return A.apply(this,arguments)}finally{m=U}}}})(Ic);Ac.exports=Ic;var $f=Ac.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uf=P,Fe=$f;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lc=new Set,Vr={};function kn(t,e){nr(t,e),nr(t+"Capture",e)}function nr(t,e){for(Vr[t]=e,t=0;t<e.length;t++)Lc.add(e[t])}var Nt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oo=Object.prototype.hasOwnProperty,Df=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ha={},Wa={};function Mf(t){return Oo.call(Wa,t)?!0:Oo.call(Ha,t)?!1:Df.test(t)?Wa[t]=!0:(Ha[t]=!0,!1)}function zf(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ff(t,e,n,r){if(e===null||typeof e>"u"||zf(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Te(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var _e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_e[t]=new Te(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_e[e]=new Te(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_e[t]=new Te(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_e[t]=new Te(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_e[t]=new Te(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_e[t]=new Te(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_e[t]=new Te(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_e[t]=new Te(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_e[t]=new Te(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ml=/[\-:]([a-z])/g;function zl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ml,zl);_e[e]=new Te(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ml,zl);_e[e]=new Te(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ml,zl);_e[e]=new Te(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_e[t]=new Te(t,1,!1,t.toLowerCase(),null,!1,!1)});_e.xlinkHref=new Te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_e[t]=new Te(t,1,!1,t.toLowerCase(),null,!0,!0)});function Fl(t,e,n,r){var s=_e.hasOwnProperty(e)?_e[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ff(e,n,s,r)&&(n=null),r||s===null?Mf(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Tt=Uf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_s=Symbol.for("react.element"),Un=Symbol.for("react.portal"),Dn=Symbol.for("react.fragment"),Bl=Symbol.for("react.strict_mode"),Ao=Symbol.for("react.profiler"),Rc=Symbol.for("react.provider"),$c=Symbol.for("react.context"),Vl=Symbol.for("react.forward_ref"),Io=Symbol.for("react.suspense"),Lo=Symbol.for("react.suspense_list"),Hl=Symbol.for("react.memo"),Ut=Symbol.for("react.lazy"),Uc=Symbol.for("react.offscreen"),qa=Symbol.iterator;function vr(t){return t===null||typeof t!="object"?null:(t=qa&&t[qa]||t["@@iterator"],typeof t=="function"?t:null)}var oe=Object.assign,Qi;function Nr(t){if(Qi===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qi=e&&e[1]||""}return`
`+Qi+t}var Yi=!1;function Xi(t,e){if(!t||Yi)return"";Yi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Yi=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Nr(t):""}function Bf(t){switch(t.tag){case 5:return Nr(t.type);case 16:return Nr("Lazy");case 13:return Nr("Suspense");case 19:return Nr("SuspenseList");case 0:case 2:case 15:return t=Xi(t.type,!1),t;case 11:return t=Xi(t.type.render,!1),t;case 1:return t=Xi(t.type,!0),t;default:return""}}function Ro(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Dn:return"Fragment";case Un:return"Portal";case Ao:return"Profiler";case Bl:return"StrictMode";case Io:return"Suspense";case Lo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $c:return(t.displayName||"Context")+".Consumer";case Rc:return(t._context.displayName||"Context")+".Provider";case Vl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hl:return e=t.displayName||null,e!==null?e:Ro(t.type)||"Memo";case Ut:e=t._payload,t=t._init;try{return Ro(t(e))}catch{}}return null}function Vf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ro(e);case 8:return e===Bl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Dc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Hf(t){var e=Dc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bs(t){t._valueTracker||(t._valueTracker=Hf(t))}function Mc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Dc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Zs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $o(t,e){var n=e.checked;return oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ka(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function zc(t,e){e=e.checked,e!=null&&Fl(t,"checked",e,!1)}function Uo(t,e){zc(t,e);var n=Xt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Do(t,e.type,n):e.hasOwnProperty("defaultValue")&&Do(t,e.type,Xt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ga(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Do(t,e,n){(e!=="number"||Zs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Er=Array.isArray;function Qn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Mo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ja(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(Er(n)){if(1<n.length)throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xt(n)}}function Fc(t,e){var n=Xt(e.value),r=Xt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Qa(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Bc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Bc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ks,Vc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ks=ks||document.createElement("div"),ks.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ks.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Hr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wf=["Webkit","ms","Moz","O"];Object.keys(Or).forEach(function(t){Wf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Or[e]=Or[t]})});function Hc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Or.hasOwnProperty(t)&&Or[t]?(""+e).trim():e+"px"}function Wc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Hc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var qf=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fo(t,e){if(e){if(qf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function Bo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vo=null;function Wl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ho=null,Yn=null,Xn=null;function Ya(t){if(t=ds(t)){if(typeof Ho!="function")throw Error(E(280));var e=t.stateNode;e&&(e=Ti(e),Ho(t.stateNode,t.type,e))}}function qc(t){Yn?Xn?Xn.push(t):Xn=[t]:Yn=t}function Kc(){if(Yn){var t=Yn,e=Xn;if(Xn=Yn=null,Ya(t),e)for(t=0;t<e.length;t++)Ya(e[t])}}function Gc(t,e){return t(e)}function Jc(){}var Zi=!1;function Qc(t,e,n){if(Zi)return t(e,n);Zi=!0;try{return Gc(t,e,n)}finally{Zi=!1,(Yn!==null||Xn!==null)&&(Jc(),Kc())}}function Wr(t,e){var n=t.stateNode;if(n===null)return null;var r=Ti(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var Wo=!1;if(Nt)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){Wo=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{Wo=!1}function Kf(t,e,n,r,s,i,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ar=!1,ei=null,ti=!1,qo=null,Gf={onError:function(t){Ar=!0,ei=t}};function Jf(t,e,n,r,s,i,o,l,u){Ar=!1,ei=null,Kf.apply(Gf,arguments)}function Qf(t,e,n,r,s,i,o,l,u){if(Jf.apply(this,arguments),Ar){if(Ar){var c=ei;Ar=!1,ei=null}else throw Error(E(198));ti||(ti=!0,qo=c)}}function Sn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Yc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Xa(t){if(Sn(t)!==t)throw Error(E(188))}function Yf(t){var e=t.alternate;if(!e){if(e=Sn(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Xa(s),t;if(i===r)return Xa(s),e;i=i.sibling}throw Error(E(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function Xc(t){return t=Yf(t),t!==null?Zc(t):null}function Zc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Zc(t);if(e!==null)return e;t=t.sibling}return null}var ed=Fe.unstable_scheduleCallback,Za=Fe.unstable_cancelCallback,Xf=Fe.unstable_shouldYield,Zf=Fe.unstable_requestPaint,ue=Fe.unstable_now,ep=Fe.unstable_getCurrentPriorityLevel,ql=Fe.unstable_ImmediatePriority,td=Fe.unstable_UserBlockingPriority,ni=Fe.unstable_NormalPriority,tp=Fe.unstable_LowPriority,nd=Fe.unstable_IdlePriority,Ni=null,gt=null;function np(t){if(gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(Ni,t,void 0,(t.current.flags&128)===128)}catch{}}var at=Math.clz32?Math.clz32:ip,rp=Math.log,sp=Math.LN2;function ip(t){return t>>>=0,t===0?32:31-(rp(t)/sp|0)|0}var Ss=64,js=4194304;function Cr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ri(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Cr(l):(i&=o,i!==0&&(r=Cr(i)))}else o=n&~s,o!==0?r=Cr(o):i!==0&&(r=Cr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-at(e),s=1<<n,r|=t[n],e&=~s;return r}function op(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lp(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-at(i),l=1<<o,u=s[o];u===-1?(!(l&n)||l&r)&&(s[o]=op(l,e)):u<=e&&(t.expiredLanes|=l),i&=~l}}function Ko(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rd(){var t=Ss;return Ss<<=1,!(Ss&4194240)&&(Ss=64),t}function eo(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function us(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-at(e),t[e]=n}function ap(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-at(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Kl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-at(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var G=0;function sd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var id,Gl,od,ld,ad,Go=!1,Ns=[],Ht=null,Wt=null,qt=null,qr=new Map,Kr=new Map,Mt=[],up="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eu(t,e){switch(t){case"focusin":case"focusout":Ht=null;break;case"dragenter":case"dragleave":Wt=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":qr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kr.delete(e.pointerId)}}function wr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ds(e),e!==null&&Gl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function cp(t,e,n,r,s){switch(e){case"focusin":return Ht=wr(Ht,t,e,n,r,s),!0;case"dragenter":return Wt=wr(Wt,t,e,n,r,s),!0;case"mouseover":return qt=wr(qt,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return qr.set(i,wr(qr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Kr.set(i,wr(Kr.get(i)||null,t,e,n,r,s)),!0}return!1}function ud(t){var e=fn(t.target);if(e!==null){var n=Sn(e);if(n!==null){if(e=n.tag,e===13){if(e=Yc(n),e!==null){t.blockedOn=e,ad(t.priority,function(){od(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Jo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vo=r,n.target.dispatchEvent(r),Vo=null}else return e=ds(n),e!==null&&Gl(e),t.blockedOn=n,!1;e.shift()}return!0}function tu(t,e,n){Vs(t)&&n.delete(e)}function dp(){Go=!1,Ht!==null&&Vs(Ht)&&(Ht=null),Wt!==null&&Vs(Wt)&&(Wt=null),qt!==null&&Vs(qt)&&(qt=null),qr.forEach(tu),Kr.forEach(tu)}function xr(t,e){t.blockedOn===e&&(t.blockedOn=null,Go||(Go=!0,Fe.unstable_scheduleCallback(Fe.unstable_NormalPriority,dp)))}function Gr(t){function e(s){return xr(s,t)}if(0<Ns.length){xr(Ns[0],t);for(var n=1;n<Ns.length;n++){var r=Ns[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ht!==null&&xr(Ht,t),Wt!==null&&xr(Wt,t),qt!==null&&xr(qt,t),qr.forEach(e),Kr.forEach(e),n=0;n<Mt.length;n++)r=Mt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Mt.length&&(n=Mt[0],n.blockedOn===null);)ud(n),n.blockedOn===null&&Mt.shift()}var Zn=Tt.ReactCurrentBatchConfig,si=!0;function hp(t,e,n,r){var s=G,i=Zn.transition;Zn.transition=null;try{G=1,Jl(t,e,n,r)}finally{G=s,Zn.transition=i}}function fp(t,e,n,r){var s=G,i=Zn.transition;Zn.transition=null;try{G=4,Jl(t,e,n,r)}finally{G=s,Zn.transition=i}}function Jl(t,e,n,r){if(si){var s=Jo(t,e,n,r);if(s===null)co(t,e,r,ii,n),eu(t,r);else if(cp(s,t,e,n,r))r.stopPropagation();else if(eu(t,r),e&4&&-1<up.indexOf(t)){for(;s!==null;){var i=ds(s);if(i!==null&&id(i),i=Jo(t,e,n,r),i===null&&co(t,e,r,ii,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else co(t,e,r,null,n)}}var ii=null;function Jo(t,e,n,r){if(ii=null,t=Wl(r),t=fn(t),t!==null)if(e=Sn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Yc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ii=t,null}function cd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ep()){case ql:return 1;case td:return 4;case ni:case tp:return 16;case nd:return 536870912;default:return 16}default:return 16}}var Bt=null,Ql=null,Hs=null;function dd(){if(Hs)return Hs;var t,e=Ql,n=e.length,r,s="value"in Bt?Bt.value:Bt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Hs=s.slice(t,1<r?1-r:void 0)}function Ws(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Es(){return!0}function nu(){return!1}function Ve(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Es:nu,this.isPropagationStopped=nu,this}return oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Es)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Es)},persist:function(){},isPersistent:Es}),e}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yl=Ve(dr),cs=oe({},dr,{view:0,detail:0}),pp=Ve(cs),to,no,_r,Ei=oe({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_r&&(_r&&t.type==="mousemove"?(to=t.screenX-_r.screenX,no=t.screenY-_r.screenY):no=to=0,_r=t),to)},movementY:function(t){return"movementY"in t?t.movementY:no}}),ru=Ve(Ei),mp=oe({},Ei,{dataTransfer:0}),gp=Ve(mp),vp=oe({},cs,{relatedTarget:0}),ro=Ve(vp),yp=oe({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),wp=Ve(yp),xp=oe({},dr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_p=Ve(xp),bp=oe({},dr,{data:0}),su=Ve(bp),kp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Np(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jp[t])?!!e[t]:!1}function Xl(){return Np}var Ep=oe({},cs,{key:function(t){if(t.key){var e=kp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ws(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Sp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xl,charCode:function(t){return t.type==="keypress"?Ws(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ws(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Cp=Ve(Ep),Pp=oe({},Ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iu=Ve(Pp),Tp=oe({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xl}),Op=Ve(Tp),Ap=oe({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ip=Ve(Ap),Lp=oe({},Ei,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rp=Ve(Lp),$p=[9,13,27,32],Zl=Nt&&"CompositionEvent"in window,Ir=null;Nt&&"documentMode"in document&&(Ir=document.documentMode);var Up=Nt&&"TextEvent"in window&&!Ir,hd=Nt&&(!Zl||Ir&&8<Ir&&11>=Ir),ou=" ",lu=!1;function fd(t,e){switch(t){case"keyup":return $p.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mn=!1;function Dp(t,e){switch(t){case"compositionend":return pd(e);case"keypress":return e.which!==32?null:(lu=!0,ou);case"textInput":return t=e.data,t===ou&&lu?null:t;default:return null}}function Mp(t,e){if(Mn)return t==="compositionend"||!Zl&&fd(t,e)?(t=dd(),Hs=Ql=Bt=null,Mn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hd&&e.locale!=="ko"?null:e.data;default:return null}}var zp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function au(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zp[t.type]:e==="textarea"}function md(t,e,n,r){qc(r),e=oi(e,"onChange"),0<e.length&&(n=new Yl("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Lr=null,Jr=null;function Fp(t){Nd(t,0)}function Ci(t){var e=Bn(t);if(Mc(e))return t}function Bp(t,e){if(t==="change")return e}var gd=!1;if(Nt){var so;if(Nt){var io="oninput"in document;if(!io){var uu=document.createElement("div");uu.setAttribute("oninput","return;"),io=typeof uu.oninput=="function"}so=io}else so=!1;gd=so&&(!document.documentMode||9<document.documentMode)}function cu(){Lr&&(Lr.detachEvent("onpropertychange",vd),Jr=Lr=null)}function vd(t){if(t.propertyName==="value"&&Ci(Jr)){var e=[];md(e,Jr,t,Wl(t)),Qc(Fp,e)}}function Vp(t,e,n){t==="focusin"?(cu(),Lr=e,Jr=n,Lr.attachEvent("onpropertychange",vd)):t==="focusout"&&cu()}function Hp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ci(Jr)}function Wp(t,e){if(t==="click")return Ci(e)}function qp(t,e){if(t==="input"||t==="change")return Ci(e)}function Kp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ct=typeof Object.is=="function"?Object.is:Kp;function Qr(t,e){if(ct(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Oo.call(e,s)||!ct(t[s],e[s]))return!1}return!0}function du(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hu(t,e){var n=du(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=du(n)}}function yd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wd(){for(var t=window,e=Zs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zs(t.document)}return e}function ea(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Gp(t){var e=wd(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yd(n.ownerDocument.documentElement,n)){if(r!==null&&ea(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=hu(n,i);var o=hu(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Jp=Nt&&"documentMode"in document&&11>=document.documentMode,zn=null,Qo=null,Rr=null,Yo=!1;function fu(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yo||zn==null||zn!==Zs(r)||(r=zn,"selectionStart"in r&&ea(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Rr&&Qr(Rr,r)||(Rr=r,r=oi(Qo,"onSelect"),0<r.length&&(e=new Yl("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=zn)))}function Cs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fn={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionend:Cs("Transition","TransitionEnd")},oo={},xd={};Nt&&(xd=document.createElement("div").style,"AnimationEvent"in window||(delete Fn.animationend.animation,delete Fn.animationiteration.animation,delete Fn.animationstart.animation),"TransitionEvent"in window||delete Fn.transitionend.transition);function Pi(t){if(oo[t])return oo[t];if(!Fn[t])return t;var e=Fn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xd)return oo[t]=e[n];return t}var _d=Pi("animationend"),bd=Pi("animationiteration"),kd=Pi("animationstart"),Sd=Pi("transitionend"),jd=new Map,pu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function en(t,e){jd.set(t,e),kn(e,[t])}for(var lo=0;lo<pu.length;lo++){var ao=pu[lo],Qp=ao.toLowerCase(),Yp=ao[0].toUpperCase()+ao.slice(1);en(Qp,"on"+Yp)}en(_d,"onAnimationEnd");en(bd,"onAnimationIteration");en(kd,"onAnimationStart");en("dblclick","onDoubleClick");en("focusin","onFocus");en("focusout","onBlur");en(Sd,"onTransitionEnd");nr("onMouseEnter",["mouseout","mouseover"]);nr("onMouseLeave",["mouseout","mouseover"]);nr("onPointerEnter",["pointerout","pointerover"]);nr("onPointerLeave",["pointerout","pointerover"]);kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function mu(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Qf(r,e,void 0,t),t.currentTarget=null}function Nd(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;mu(s,l,c),i=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;mu(s,l,c),i=u}}}if(ti)throw t=qo,ti=!1,qo=null,t}function ee(t,e){var n=e[nl];n===void 0&&(n=e[nl]=new Set);var r=t+"__bubble";n.has(r)||(Ed(e,t,2,!1),n.add(r))}function uo(t,e,n){var r=0;e&&(r|=4),Ed(n,t,r,e)}var Ps="_reactListening"+Math.random().toString(36).slice(2);function Yr(t){if(!t[Ps]){t[Ps]=!0,Lc.forEach(function(n){n!=="selectionchange"&&(Xp.has(n)||uo(n,!1,t),uo(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ps]||(e[Ps]=!0,uo("selectionchange",!1,e))}}function Ed(t,e,n,r){switch(cd(e)){case 1:var s=hp;break;case 4:s=fp;break;default:s=Jl}n=s.bind(null,e,n,t),s=void 0,!Wo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function co(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=fn(l),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Qc(function(){var c=i,d=Wl(n),h=[];e:{var m=jd.get(t);if(m!==void 0){var y=Yl,w=t;switch(t){case"keypress":if(Ws(n)===0)break e;case"keydown":case"keyup":y=Cp;break;case"focusin":w="focus",y=ro;break;case"focusout":w="blur",y=ro;break;case"beforeblur":case"afterblur":y=ro;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=ru;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=gp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Op;break;case _d:case bd:case kd:y=wp;break;case Sd:y=Ip;break;case"scroll":y=pp;break;case"wheel":y=Rp;break;case"copy":case"cut":case"paste":y=_p;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=iu}var x=(e&4)!==0,j=!x&&t==="scroll",g=x?m!==null?m+"Capture":null:m;x=[];for(var f=c,p;f!==null;){p=f;var v=p.stateNode;if(p.tag===5&&v!==null&&(p=v,g!==null&&(v=Wr(f,g),v!=null&&x.push(Xr(f,v,p)))),j)break;f=f.return}0<x.length&&(m=new y(m,w,null,n,d),h.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==Vo&&(w=n.relatedTarget||n.fromElement)&&(fn(w)||w[Et]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=c,w=w?fn(w):null,w!==null&&(j=Sn(w),w!==j||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=c),y!==w)){if(x=ru,v="onMouseLeave",g="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(x=iu,v="onPointerLeave",g="onPointerEnter",f="pointer"),j=y==null?m:Bn(y),p=w==null?m:Bn(w),m=new x(v,f+"leave",y,n,d),m.target=j,m.relatedTarget=p,v=null,fn(d)===c&&(x=new x(g,f+"enter",w,n,d),x.target=p,x.relatedTarget=j,v=x),j=v,y&&w)t:{for(x=y,g=w,f=0,p=x;p;p=Pn(p))f++;for(p=0,v=g;v;v=Pn(v))p++;for(;0<f-p;)x=Pn(x),f--;for(;0<p-f;)g=Pn(g),p--;for(;f--;){if(x===g||g!==null&&x===g.alternate)break t;x=Pn(x),g=Pn(g)}x=null}else x=null;y!==null&&gu(h,m,y,x,!1),w!==null&&j!==null&&gu(h,j,w,x,!0)}}e:{if(m=c?Bn(c):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var k=Bp;else if(au(m))if(gd)k=qp;else{k=Hp;var N=Vp}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=Wp);if(k&&(k=k(t,c))){md(h,k,n,d);break e}N&&N(t,m,c),t==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&Do(m,"number",m.value)}switch(N=c?Bn(c):window,t){case"focusin":(au(N)||N.contentEditable==="true")&&(zn=N,Qo=c,Rr=null);break;case"focusout":Rr=Qo=zn=null;break;case"mousedown":Yo=!0;break;case"contextmenu":case"mouseup":case"dragend":Yo=!1,fu(h,n,d);break;case"selectionchange":if(Jp)break;case"keydown":case"keyup":fu(h,n,d)}var C;if(Zl)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Mn?fd(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(hd&&n.locale!=="ko"&&(Mn||_!=="onCompositionStart"?_==="onCompositionEnd"&&Mn&&(C=dd()):(Bt=d,Ql="value"in Bt?Bt.value:Bt.textContent,Mn=!0)),N=oi(c,_),0<N.length&&(_=new su(_,t,null,n,d),h.push({event:_,listeners:N}),C?_.data=C:(C=pd(n),C!==null&&(_.data=C)))),(C=Up?Dp(t,n):Mp(t,n))&&(c=oi(c,"onBeforeInput"),0<c.length&&(d=new su("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=C))}Nd(h,e)})}function Xr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function oi(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Wr(t,n),i!=null&&r.unshift(Xr(t,i,s)),i=Wr(t,e),i!=null&&r.push(Xr(t,i,s))),t=t.return}return r}function Pn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gu(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,s?(u=Wr(n,i),u!=null&&o.unshift(Xr(n,u,l))):s||(u=Wr(n,i),u!=null&&o.push(Xr(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Zp=/\r\n?/g,em=/\u0000|\uFFFD/g;function vu(t){return(typeof t=="string"?t:""+t).replace(Zp,`
`).replace(em,"")}function Ts(t,e,n){if(e=vu(e),vu(t)!==e&&n)throw Error(E(425))}function li(){}var Xo=null,Zo=null;function el(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tl=typeof setTimeout=="function"?setTimeout:void 0,tm=typeof clearTimeout=="function"?clearTimeout:void 0,yu=typeof Promise=="function"?Promise:void 0,nm=typeof queueMicrotask=="function"?queueMicrotask:typeof yu<"u"?function(t){return yu.resolve(null).then(t).catch(rm)}:tl;function rm(t){setTimeout(function(){throw t})}function ho(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Gr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Gr(e)}function Kt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var hr=Math.random().toString(36).slice(2),mt="__reactFiber$"+hr,Zr="__reactProps$"+hr,Et="__reactContainer$"+hr,nl="__reactEvents$"+hr,sm="__reactListeners$"+hr,im="__reactHandles$"+hr;function fn(t){var e=t[mt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Et]||n[mt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=wu(t);t!==null;){if(n=t[mt])return n;t=wu(t)}return e}t=n,n=t.parentNode}return null}function ds(t){return t=t[mt]||t[Et],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Bn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function Ti(t){return t[Zr]||null}var rl=[],Vn=-1;function tn(t){return{current:t}}function te(t){0>Vn||(t.current=rl[Vn],rl[Vn]=null,Vn--)}function X(t,e){Vn++,rl[Vn]=t.current,t.current=e}var Zt={},je=tn(Zt),Re=tn(!1),yn=Zt;function rr(t,e){var n=t.type.contextTypes;if(!n)return Zt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function $e(t){return t=t.childContextTypes,t!=null}function ai(){te(Re),te(je)}function xu(t,e,n){if(je.current!==Zt)throw Error(E(168));X(je,e),X(Re,n)}function Cd(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(E(108,Vf(t)||"Unknown",s));return oe({},n,r)}function ui(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zt,yn=je.current,X(je,t),X(Re,Re.current),!0}function _u(t,e,n){var r=t.stateNode;if(!r)throw Error(E(169));n?(t=Cd(t,e,yn),r.__reactInternalMemoizedMergedChildContext=t,te(Re),te(je),X(je,t)):te(Re),X(Re,n)}var bt=null,Oi=!1,fo=!1;function Pd(t){bt===null?bt=[t]:bt.push(t)}function om(t){Oi=!0,Pd(t)}function nn(){if(!fo&&bt!==null){fo=!0;var t=0,e=G;try{var n=bt;for(G=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}bt=null,Oi=!1}catch(s){throw bt!==null&&(bt=bt.slice(t+1)),ed(ql,nn),s}finally{G=e,fo=!1}}return null}var Hn=[],Wn=0,ci=null,di=0,He=[],We=0,wn=null,kt=1,St="";function un(t,e){Hn[Wn++]=di,Hn[Wn++]=ci,ci=t,di=e}function Td(t,e,n){He[We++]=kt,He[We++]=St,He[We++]=wn,wn=t;var r=kt;t=St;var s=32-at(r)-1;r&=~(1<<s),n+=1;var i=32-at(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,kt=1<<32-at(e)+s|n<<s|r,St=i+t}else kt=1<<i|n<<s|r,St=t}function ta(t){t.return!==null&&(un(t,1),Td(t,1,0))}function na(t){for(;t===ci;)ci=Hn[--Wn],Hn[Wn]=null,di=Hn[--Wn],Hn[Wn]=null;for(;t===wn;)wn=He[--We],He[We]=null,St=He[--We],He[We]=null,kt=He[--We],He[We]=null}var ze=null,Me=null,re=!1,lt=null;function Od(t,e){var n=qe(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bu(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ze=t,Me=Kt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ze=t,Me=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=wn!==null?{id:kt,overflow:St}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qe(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ze=t,Me=null,!0):!1;default:return!1}}function sl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function il(t){if(re){var e=Me;if(e){var n=e;if(!bu(t,e)){if(sl(t))throw Error(E(418));e=Kt(n.nextSibling);var r=ze;e&&bu(t,e)?Od(r,n):(t.flags=t.flags&-4097|2,re=!1,ze=t)}}else{if(sl(t))throw Error(E(418));t.flags=t.flags&-4097|2,re=!1,ze=t}}}function ku(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ze=t}function Os(t){if(t!==ze)return!1;if(!re)return ku(t),re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!el(t.type,t.memoizedProps)),e&&(e=Me)){if(sl(t))throw Ad(),Error(E(418));for(;e;)Od(t,e),e=Kt(e.nextSibling)}if(ku(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Me=Kt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Me=null}}else Me=ze?Kt(t.stateNode.nextSibling):null;return!0}function Ad(){for(var t=Me;t;)t=Kt(t.nextSibling)}function sr(){Me=ze=null,re=!1}function ra(t){lt===null?lt=[t]:lt.push(t)}var lm=Tt.ReactCurrentBatchConfig;function br(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function As(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Su(t){var e=t._init;return e(t._payload)}function Id(t){function e(g,f){if(t){var p=g.deletions;p===null?(g.deletions=[f],g.flags|=16):p.push(f)}}function n(g,f){if(!t)return null;for(;f!==null;)e(g,f),f=f.sibling;return null}function r(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(g,f){return g=Yt(g,f),g.index=0,g.sibling=null,g}function i(g,f,p){return g.index=p,t?(p=g.alternate,p!==null?(p=p.index,p<f?(g.flags|=2,f):p):(g.flags|=2,f)):(g.flags|=1048576,f)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,f,p,v){return f===null||f.tag!==6?(f=xo(p,g.mode,v),f.return=g,f):(f=s(f,p),f.return=g,f)}function u(g,f,p,v){var k=p.type;return k===Dn?d(g,f,p.props.children,v,p.key):f!==null&&(f.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ut&&Su(k)===f.type)?(v=s(f,p.props),v.ref=br(g,f,p),v.return=g,v):(v=Xs(p.type,p.key,p.props,null,g.mode,v),v.ref=br(g,f,p),v.return=g,v)}function c(g,f,p,v){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=_o(p,g.mode,v),f.return=g,f):(f=s(f,p.children||[]),f.return=g,f)}function d(g,f,p,v,k){return f===null||f.tag!==7?(f=vn(p,g.mode,v,k),f.return=g,f):(f=s(f,p),f.return=g,f)}function h(g,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=xo(""+f,g.mode,p),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case _s:return p=Xs(f.type,f.key,f.props,null,g.mode,p),p.ref=br(g,null,f),p.return=g,p;case Un:return f=_o(f,g.mode,p),f.return=g,f;case Ut:var v=f._init;return h(g,v(f._payload),p)}if(Er(f)||vr(f))return f=vn(f,g.mode,p,null),f.return=g,f;As(g,f)}return null}function m(g,f,p,v){var k=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return k!==null?null:l(g,f,""+p,v);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case _s:return p.key===k?u(g,f,p,v):null;case Un:return p.key===k?c(g,f,p,v):null;case Ut:return k=p._init,m(g,f,k(p._payload),v)}if(Er(p)||vr(p))return k!==null?null:d(g,f,p,v,null);As(g,p)}return null}function y(g,f,p,v,k){if(typeof v=="string"&&v!==""||typeof v=="number")return g=g.get(p)||null,l(f,g,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case _s:return g=g.get(v.key===null?p:v.key)||null,u(f,g,v,k);case Un:return g=g.get(v.key===null?p:v.key)||null,c(f,g,v,k);case Ut:var N=v._init;return y(g,f,p,N(v._payload),k)}if(Er(v)||vr(v))return g=g.get(p)||null,d(f,g,v,k,null);As(f,v)}return null}function w(g,f,p,v){for(var k=null,N=null,C=f,_=f=0,M=null;C!==null&&_<p.length;_++){C.index>_?(M=C,C=null):M=C.sibling;var R=m(g,C,p[_],v);if(R===null){C===null&&(C=M);break}t&&C&&R.alternate===null&&e(g,C),f=i(R,f,_),N===null?k=R:N.sibling=R,N=R,C=M}if(_===p.length)return n(g,C),re&&un(g,_),k;if(C===null){for(;_<p.length;_++)C=h(g,p[_],v),C!==null&&(f=i(C,f,_),N===null?k=C:N.sibling=C,N=C);return re&&un(g,_),k}for(C=r(g,C);_<p.length;_++)M=y(C,g,_,p[_],v),M!==null&&(t&&M.alternate!==null&&C.delete(M.key===null?_:M.key),f=i(M,f,_),N===null?k=M:N.sibling=M,N=M);return t&&C.forEach(function(Q){return e(g,Q)}),re&&un(g,_),k}function x(g,f,p,v){var k=vr(p);if(typeof k!="function")throw Error(E(150));if(p=k.call(p),p==null)throw Error(E(151));for(var N=k=null,C=f,_=f=0,M=null,R=p.next();C!==null&&!R.done;_++,R=p.next()){C.index>_?(M=C,C=null):M=C.sibling;var Q=m(g,C,R.value,v);if(Q===null){C===null&&(C=M);break}t&&C&&Q.alternate===null&&e(g,C),f=i(Q,f,_),N===null?k=Q:N.sibling=Q,N=Q,C=M}if(R.done)return n(g,C),re&&un(g,_),k;if(C===null){for(;!R.done;_++,R=p.next())R=h(g,R.value,v),R!==null&&(f=i(R,f,_),N===null?k=R:N.sibling=R,N=R);return re&&un(g,_),k}for(C=r(g,C);!R.done;_++,R=p.next())R=y(C,g,_,R.value,v),R!==null&&(t&&R.alternate!==null&&C.delete(R.key===null?_:R.key),f=i(R,f,_),N===null?k=R:N.sibling=R,N=R);return t&&C.forEach(function(Ye){return e(g,Ye)}),re&&un(g,_),k}function j(g,f,p,v){if(typeof p=="object"&&p!==null&&p.type===Dn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case _s:e:{for(var k=p.key,N=f;N!==null;){if(N.key===k){if(k=p.type,k===Dn){if(N.tag===7){n(g,N.sibling),f=s(N,p.props.children),f.return=g,g=f;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ut&&Su(k)===N.type){n(g,N.sibling),f=s(N,p.props),f.ref=br(g,N,p),f.return=g,g=f;break e}n(g,N);break}else e(g,N);N=N.sibling}p.type===Dn?(f=vn(p.props.children,g.mode,v,p.key),f.return=g,g=f):(v=Xs(p.type,p.key,p.props,null,g.mode,v),v.ref=br(g,f,p),v.return=g,g=v)}return o(g);case Un:e:{for(N=p.key;f!==null;){if(f.key===N)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){n(g,f.sibling),f=s(f,p.children||[]),f.return=g,g=f;break e}else{n(g,f);break}else e(g,f);f=f.sibling}f=_o(p,g.mode,v),f.return=g,g=f}return o(g);case Ut:return N=p._init,j(g,f,N(p._payload),v)}if(Er(p))return w(g,f,p,v);if(vr(p))return x(g,f,p,v);As(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(n(g,f.sibling),f=s(f,p),f.return=g,g=f):(n(g,f),f=xo(p,g.mode,v),f.return=g,g=f),o(g)):n(g,f)}return j}var ir=Id(!0),Ld=Id(!1),hi=tn(null),fi=null,qn=null,sa=null;function ia(){sa=qn=fi=null}function oa(t){var e=hi.current;te(hi),t._currentValue=e}function ol(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function er(t,e){fi=t,sa=qn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Le=!0),t.firstContext=null)}function Je(t){var e=t._currentValue;if(sa!==t)if(t={context:t,memoizedValue:e,next:null},qn===null){if(fi===null)throw Error(E(308));qn=t,fi.dependencies={lanes:0,firstContext:t}}else qn=qn.next=t;return e}var pn=null;function la(t){pn===null?pn=[t]:pn.push(t)}function Rd(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,la(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ct(t,r)}function Ct(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Dt=!1;function aa(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $d(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ct(t,n)}return s=r.interleaved,s===null?(e.next=e,la(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ct(t,n)}function qs(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kl(t,n)}}function ju(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function pi(t,e,n,r){var s=t.updateQueue;Dt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;o=0,d=c=u=null,l=i;do{var m=l.lane,y=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=t,x=l;switch(m=e,y=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){h=w.call(y,h,m);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,m=typeof w=="function"?w.call(y,h,m):w,m==null)break e;h=oe({},h,m);break e;case 2:Dt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=y,u=h):d=d.next=y,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);_n|=o,t.lanes=o,t.memoizedState=h}}function Nu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(E(191,s));s.call(r)}}}var hs={},vt=tn(hs),es=tn(hs),ts=tn(hs);function mn(t){if(t===hs)throw Error(E(174));return t}function ua(t,e){switch(X(ts,e),X(es,t),X(vt,hs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zo(e,t)}te(vt),X(vt,e)}function or(){te(vt),te(es),te(ts)}function Ud(t){mn(ts.current);var e=mn(vt.current),n=zo(e,t.type);e!==n&&(X(es,t),X(vt,n))}function ca(t){es.current===t&&(te(vt),te(es))}var se=tn(0);function mi(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var po=[];function da(){for(var t=0;t<po.length;t++)po[t]._workInProgressVersionPrimary=null;po.length=0}var Ks=Tt.ReactCurrentDispatcher,mo=Tt.ReactCurrentBatchConfig,xn=0,ie=null,fe=null,ge=null,gi=!1,$r=!1,ns=0,am=0;function be(){throw Error(E(321))}function ha(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ct(t[n],e[n]))return!1;return!0}function fa(t,e,n,r,s,i){if(xn=i,ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ks.current=t===null||t.memoizedState===null?hm:fm,t=n(r,s),$r){i=0;do{if($r=!1,ns=0,25<=i)throw Error(E(301));i+=1,ge=fe=null,e.updateQueue=null,Ks.current=pm,t=n(r,s)}while($r)}if(Ks.current=vi,e=fe!==null&&fe.next!==null,xn=0,ge=fe=ie=null,gi=!1,e)throw Error(E(300));return t}function pa(){var t=ns!==0;return ns=0,t}function ft(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?ie.memoizedState=ge=t:ge=ge.next=t,ge}function Qe(){if(fe===null){var t=ie.alternate;t=t!==null?t.memoizedState:null}else t=fe.next;var e=ge===null?ie.memoizedState:ge.next;if(e!==null)ge=e,fe=t;else{if(t===null)throw Error(E(310));fe=t,t={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},ge===null?ie.memoizedState=ge=t:ge=ge.next=t}return ge}function rs(t,e){return typeof e=="function"?e(t):e}function go(t){var e=Qe(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=fe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,u=null,c=i;do{var d=c.lane;if((xn&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=h,o=r):u=u.next=h,ie.lanes|=d,_n|=d}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=l,ct(r,e.memoizedState)||(Le=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ie.lanes|=i,_n|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vo(t){var e=Qe(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ct(i,e.memoizedState)||(Le=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Dd(){}function Md(t,e){var n=ie,r=Qe(),s=e(),i=!ct(r.memoizedState,s);if(i&&(r.memoizedState=s,Le=!0),r=r.queue,ma(Bd.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ge!==null&&ge.memoizedState.tag&1){if(n.flags|=2048,ss(9,Fd.bind(null,n,r,s,e),void 0,null),ve===null)throw Error(E(349));xn&30||zd(n,e,s)}return s}function zd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ie.updateQueue,e===null?(e={lastEffect:null,stores:null},ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Fd(t,e,n,r){e.value=n,e.getSnapshot=r,Vd(e)&&Hd(t)}function Bd(t,e,n){return n(function(){Vd(e)&&Hd(t)})}function Vd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ct(t,n)}catch{return!0}}function Hd(t){var e=Ct(t,1);e!==null&&ut(e,t,1,-1)}function Eu(t){var e=ft();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:t},e.queue=t,t=t.dispatch=dm.bind(null,ie,t),[e.memoizedState,t]}function ss(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ie.updateQueue,e===null?(e={lastEffect:null,stores:null},ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Wd(){return Qe().memoizedState}function Gs(t,e,n,r){var s=ft();ie.flags|=t,s.memoizedState=ss(1|e,n,void 0,r===void 0?null:r)}function Ai(t,e,n,r){var s=Qe();r=r===void 0?null:r;var i=void 0;if(fe!==null){var o=fe.memoizedState;if(i=o.destroy,r!==null&&ha(r,o.deps)){s.memoizedState=ss(e,n,i,r);return}}ie.flags|=t,s.memoizedState=ss(1|e,n,i,r)}function Cu(t,e){return Gs(8390656,8,t,e)}function ma(t,e){return Ai(2048,8,t,e)}function qd(t,e){return Ai(4,2,t,e)}function Kd(t,e){return Ai(4,4,t,e)}function Gd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Jd(t,e,n){return n=n!=null?n.concat([t]):null,Ai(4,4,Gd.bind(null,e,t),n)}function ga(){}function Qd(t,e){var n=Qe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ha(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Yd(t,e){var n=Qe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ha(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Xd(t,e,n){return xn&21?(ct(n,e)||(n=rd(),ie.lanes|=n,_n|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Le=!0),t.memoizedState=n)}function um(t,e){var n=G;G=n!==0&&4>n?n:4,t(!0);var r=mo.transition;mo.transition={};try{t(!1),e()}finally{G=n,mo.transition=r}}function Zd(){return Qe().memoizedState}function cm(t,e,n){var r=Qt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eh(t))th(e,n);else if(n=Rd(t,e,n,r),n!==null){var s=Ce();ut(n,t,r,s),nh(n,e,r)}}function dm(t,e,n){var r=Qt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eh(t))th(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,ct(l,o)){var u=e.interleaved;u===null?(s.next=s,la(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=Rd(t,e,s,r),n!==null&&(s=Ce(),ut(n,t,r,s),nh(n,e,r))}}function eh(t){var e=t.alternate;return t===ie||e!==null&&e===ie}function th(t,e){$r=gi=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nh(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kl(t,n)}}var vi={readContext:Je,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},hm={readContext:Je,useCallback:function(t,e){return ft().memoizedState=[t,e===void 0?null:e],t},useContext:Je,useEffect:Cu,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Gs(4194308,4,Gd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Gs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gs(4,2,t,e)},useMemo:function(t,e){var n=ft();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ft();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=cm.bind(null,ie,t),[r.memoizedState,t]},useRef:function(t){var e=ft();return t={current:t},e.memoizedState=t},useState:Eu,useDebugValue:ga,useDeferredValue:function(t){return ft().memoizedState=t},useTransition:function(){var t=Eu(!1),e=t[0];return t=um.bind(null,t[1]),ft().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ie,s=ft();if(re){if(n===void 0)throw Error(E(407));n=n()}else{if(n=e(),ve===null)throw Error(E(349));xn&30||zd(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Cu(Bd.bind(null,r,i,t),[t]),r.flags|=2048,ss(9,Fd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ft(),e=ve.identifierPrefix;if(re){var n=St,r=kt;n=(r&~(1<<32-at(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ns++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=am++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},fm={readContext:Je,useCallback:Qd,useContext:Je,useEffect:ma,useImperativeHandle:Jd,useInsertionEffect:qd,useLayoutEffect:Kd,useMemo:Yd,useReducer:go,useRef:Wd,useState:function(){return go(rs)},useDebugValue:ga,useDeferredValue:function(t){var e=Qe();return Xd(e,fe.memoizedState,t)},useTransition:function(){var t=go(rs)[0],e=Qe().memoizedState;return[t,e]},useMutableSource:Dd,useSyncExternalStore:Md,useId:Zd,unstable_isNewReconciler:!1},pm={readContext:Je,useCallback:Qd,useContext:Je,useEffect:ma,useImperativeHandle:Jd,useInsertionEffect:qd,useLayoutEffect:Kd,useMemo:Yd,useReducer:vo,useRef:Wd,useState:function(){return vo(rs)},useDebugValue:ga,useDeferredValue:function(t){var e=Qe();return fe===null?e.memoizedState=t:Xd(e,fe.memoizedState,t)},useTransition:function(){var t=vo(rs)[0],e=Qe().memoizedState;return[t,e]},useMutableSource:Dd,useSyncExternalStore:Md,useId:Zd,unstable_isNewReconciler:!1};function st(t,e){if(t&&t.defaultProps){e=oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ll(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ii={isMounted:function(t){return(t=t._reactInternals)?Sn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ce(),s=Qt(t),i=jt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Gt(t,i,s),e!==null&&(ut(e,t,s,r),qs(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ce(),s=Qt(t),i=jt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Gt(t,i,s),e!==null&&(ut(e,t,s,r),qs(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ce(),r=Qt(t),s=jt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Gt(t,s,r),e!==null&&(ut(e,t,r,n),qs(e,t,r))}};function Pu(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Qr(n,r)||!Qr(s,i):!0}function rh(t,e,n){var r=!1,s=Zt,i=e.contextType;return typeof i=="object"&&i!==null?i=Je(i):(s=$e(e)?yn:je.current,r=e.contextTypes,i=(r=r!=null)?rr(t,s):Zt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ii,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Tu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ii.enqueueReplaceState(e,e.state,null)}function al(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},aa(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Je(i):(i=$e(e)?yn:je.current,s.context=rr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ll(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ii.enqueueReplaceState(s,s.state,null),pi(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function lr(t,e){try{var n="",r=e;do n+=Bf(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function yo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ul(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var mm=typeof WeakMap=="function"?WeakMap:Map;function sh(t,e,n){n=jt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){wi||(wi=!0,wl=r),ul(t,e)},n}function ih(t,e,n){n=jt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ul(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ul(t,e),typeof r!="function"&&(Jt===null?Jt=new Set([this]):Jt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ou(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new mm;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Pm.bind(null,t,e,n),e.then(t,t))}function Au(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Iu(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=jt(-1,1),e.tag=2,Gt(n,e,1))),n.lanes|=1),t)}var gm=Tt.ReactCurrentOwner,Le=!1;function Ee(t,e,n,r){e.child=t===null?Ld(e,null,n,r):ir(e,t.child,n,r)}function Lu(t,e,n,r,s){n=n.render;var i=e.ref;return er(e,s),r=fa(t,e,n,r,i,s),n=pa(),t!==null&&!Le?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Pt(t,e,s)):(re&&n&&ta(e),e.flags|=1,Ee(t,e,r,s),e.child)}function Ru(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Sa(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,oh(t,e,i,r,s)):(t=Xs(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Qr,n(o,r)&&t.ref===e.ref)return Pt(t,e,s)}return e.flags|=1,t=Yt(i,r),t.ref=e.ref,t.return=e,e.child=t}function oh(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Qr(i,r)&&t.ref===e.ref)if(Le=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Le=!0);else return e.lanes=t.lanes,Pt(t,e,s)}return cl(t,e,n,r,s)}function lh(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(Gn,De),De|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,X(Gn,De),De|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,X(Gn,De),De|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,X(Gn,De),De|=r;return Ee(t,e,s,n),e.child}function ah(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cl(t,e,n,r,s){var i=$e(n)?yn:je.current;return i=rr(e,i),er(e,s),n=fa(t,e,n,r,i,s),r=pa(),t!==null&&!Le?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Pt(t,e,s)):(re&&r&&ta(e),e.flags|=1,Ee(t,e,n,s),e.child)}function $u(t,e,n,r,s){if($e(n)){var i=!0;ui(e)}else i=!1;if(er(e,s),e.stateNode===null)Js(t,e),rh(e,n,r),al(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Je(c):(c=$e(n)?yn:je.current,c=rr(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&Tu(e,o,r,c),Dt=!1;var m=e.memoizedState;o.state=m,pi(e,r,o,s),u=e.memoizedState,l!==r||m!==u||Re.current||Dt?(typeof d=="function"&&(ll(e,n,d,r),u=e.memoizedState),(l=Dt||Pu(e,n,l,r,m,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,$d(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:st(e.type,l),o.props=c,h=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Je(u):(u=$e(n)?yn:je.current,u=rr(e,u));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==u)&&Tu(e,o,r,u),Dt=!1,m=e.memoizedState,o.state=m,pi(e,r,o,s);var w=e.memoizedState;l!==h||m!==w||Re.current||Dt?(typeof y=="function"&&(ll(e,n,y,r),w=e.memoizedState),(c=Dt||Pu(e,n,c,r,m,w,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return dl(t,e,n,r,i,s)}function dl(t,e,n,r,s,i){ah(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&_u(e,n,!1),Pt(t,e,i);r=e.stateNode,gm.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ir(e,t.child,null,i),e.child=ir(e,null,l,i)):Ee(t,e,l,i),e.memoizedState=r.state,s&&_u(e,n,!0),e.child}function uh(t){var e=t.stateNode;e.pendingContext?xu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xu(t,e.context,!1),ua(t,e.containerInfo)}function Uu(t,e,n,r,s){return sr(),ra(s),e.flags|=256,Ee(t,e,n,r),e.child}var hl={dehydrated:null,treeContext:null,retryLane:0};function fl(t){return{baseLanes:t,cachePool:null,transitions:null}}function ch(t,e,n){var r=e.pendingProps,s=se.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),X(se,s&1),t===null)return il(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=$i(o,r,0,null),t=vn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=fl(n),e.memoizedState=hl,t):va(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return vm(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Yt(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Yt(l,i):(i=vn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?fl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=hl,r}return i=t.child,t=i.sibling,r=Yt(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function va(t,e){return e=$i({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Is(t,e,n,r){return r!==null&&ra(r),ir(e,t.child,null,n),t=va(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function vm(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=yo(Error(E(422))),Is(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=$i({mode:"visible",children:r.children},s,0,null),i=vn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ir(e,t.child,null,o),e.child.memoizedState=fl(o),e.memoizedState=hl,i);if(!(e.mode&1))return Is(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(E(419)),r=yo(i,r,void 0),Is(t,e,o,r)}if(l=(o&t.childLanes)!==0,Le||l){if(r=ve,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ct(t,s),ut(r,t,s,-1))}return ka(),r=yo(Error(E(421))),Is(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Tm.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Me=Kt(s.nextSibling),ze=e,re=!0,lt=null,t!==null&&(He[We++]=kt,He[We++]=St,He[We++]=wn,kt=t.id,St=t.overflow,wn=e),e=va(e,r.children),e.flags|=4096,e)}function Du(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ol(t.return,e,n)}function wo(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function dh(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ee(t,e,r.children,n),r=se.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Du(t,n,e);else if(t.tag===19)Du(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(X(se,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&mi(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),wo(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&mi(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}wo(e,!0,n,null,i);break;case"together":wo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Js(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),_n|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=Yt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Yt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ym(t,e,n){switch(e.tag){case 3:uh(e),sr();break;case 5:Ud(e);break;case 1:$e(e.type)&&ui(e);break;case 4:ua(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;X(hi,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(X(se,se.current&1),e.flags|=128,null):n&e.child.childLanes?ch(t,e,n):(X(se,se.current&1),t=Pt(t,e,n),t!==null?t.sibling:null);X(se,se.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dh(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),X(se,se.current),r)break;return null;case 22:case 23:return e.lanes=0,lh(t,e,n)}return Pt(t,e,n)}var hh,pl,fh,ph;hh=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pl=function(){};fh=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,mn(vt.current);var i=null;switch(n){case"input":s=$o(t,s),r=$o(t,r),i=[];break;case"select":s=oe({},s,{value:void 0}),r=oe({},r,{value:void 0}),i=[];break;case"textarea":s=Mo(t,s),r=Mo(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=li)}Fo(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Vr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Vr.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ee("scroll",t),i||l===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};ph=function(t,e,n,r){n!==r&&(e.flags|=4)};function kr(t,e){if(!re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ke(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function wm(t,e,n){var r=e.pendingProps;switch(na(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(e),null;case 1:return $e(e.type)&&ai(),ke(e),null;case 3:return r=e.stateNode,or(),te(Re),te(je),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Os(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,lt!==null&&(bl(lt),lt=null))),pl(t,e),ke(e),null;case 5:ca(e);var s=mn(ts.current);if(n=e.type,t!==null&&e.stateNode!=null)fh(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(E(166));return ke(e),null}if(t=mn(vt.current),Os(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[mt]=e,r[Zr]=i,t=(e.mode&1)!==0,n){case"dialog":ee("cancel",r),ee("close",r);break;case"iframe":case"object":case"embed":ee("load",r);break;case"video":case"audio":for(s=0;s<Pr.length;s++)ee(Pr[s],r);break;case"source":ee("error",r);break;case"img":case"image":case"link":ee("error",r),ee("load",r);break;case"details":ee("toggle",r);break;case"input":Ka(r,i),ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ee("invalid",r);break;case"textarea":Ja(r,i),ee("invalid",r)}Fo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ts(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ts(r.textContent,l,t),s=["children",""+l]):Vr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ee("scroll",r)}switch(n){case"input":bs(r),Ga(r,i,!0);break;case"textarea":bs(r),Qa(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=li)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Bc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[mt]=e,t[Zr]=r,hh(t,e,!1,!1),e.stateNode=t;e:{switch(o=Bo(n,r),n){case"dialog":ee("cancel",t),ee("close",t),s=r;break;case"iframe":case"object":case"embed":ee("load",t),s=r;break;case"video":case"audio":for(s=0;s<Pr.length;s++)ee(Pr[s],t);s=r;break;case"source":ee("error",t),s=r;break;case"img":case"image":case"link":ee("error",t),ee("load",t),s=r;break;case"details":ee("toggle",t),s=r;break;case"input":Ka(t,r),s=$o(t,r),ee("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=oe({},r,{value:void 0}),ee("invalid",t);break;case"textarea":Ja(t,r),s=Mo(t,r),ee("invalid",t);break;default:s=r}Fo(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?Wc(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Vc(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Hr(t,u):typeof u=="number"&&Hr(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Vr.hasOwnProperty(i)?u!=null&&i==="onScroll"&&ee("scroll",t):u!=null&&Fl(t,i,u,o))}switch(n){case"input":bs(t),Ga(t,r,!1);break;case"textarea":bs(t),Qa(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Qn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Qn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=li)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ke(e),null;case 6:if(t&&e.stateNode!=null)ph(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(E(166));if(n=mn(ts.current),mn(vt.current),Os(e)){if(r=e.stateNode,n=e.memoizedProps,r[mt]=e,(i=r.nodeValue!==n)&&(t=ze,t!==null))switch(t.tag){case 3:Ts(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ts(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mt]=e,e.stateNode=r}return ke(e),null;case 13:if(te(se),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(re&&Me!==null&&e.mode&1&&!(e.flags&128))Ad(),sr(),e.flags|=98560,i=!1;else if(i=Os(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(E(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[mt]=e}else sr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ke(e),i=!1}else lt!==null&&(bl(lt),lt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||se.current&1?pe===0&&(pe=3):ka())),e.updateQueue!==null&&(e.flags|=4),ke(e),null);case 4:return or(),pl(t,e),t===null&&Yr(e.stateNode.containerInfo),ke(e),null;case 10:return oa(e.type._context),ke(e),null;case 17:return $e(e.type)&&ai(),ke(e),null;case 19:if(te(se),i=e.memoizedState,i===null)return ke(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)kr(i,!1);else{if(pe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=mi(t),o!==null){for(e.flags|=128,kr(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return X(se,se.current&1|2),e.child}t=t.sibling}i.tail!==null&&ue()>ar&&(e.flags|=128,r=!0,kr(i,!1),e.lanes=4194304)}else{if(!r)if(t=mi(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),kr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!re)return ke(e),null}else 2*ue()-i.renderingStartTime>ar&&n!==1073741824&&(e.flags|=128,r=!0,kr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ue(),e.sibling=null,n=se.current,X(se,r?n&1|2:n&1),e):(ke(e),null);case 22:case 23:return ba(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?De&1073741824&&(ke(e),e.subtreeFlags&6&&(e.flags|=8192)):ke(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function xm(t,e){switch(na(e),e.tag){case 1:return $e(e.type)&&ai(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return or(),te(Re),te(je),da(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ca(e),null;case 13:if(te(se),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));sr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return te(se),null;case 4:return or(),null;case 10:return oa(e.type._context),null;case 22:case 23:return ba(),null;case 24:return null;default:return null}}var Ls=!1,Se=!1,_m=typeof WeakSet=="function"?WeakSet:Set,I=null;function Kn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ae(t,e,r)}else n.current=null}function ml(t,e,n){try{n()}catch(r){ae(t,e,r)}}var Mu=!1;function bm(t,e){if(Xo=si,t=wd(),ea(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,h=t,m=null;t:for(;;){for(var y;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)m=h,h=y;for(;;){if(h===t)break t;if(m===n&&++c===s&&(l=o),m===i&&++d===r&&(u=o),(y=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=y}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zo={focusedElem:t,selectionRange:n},si=!1,I=e;I!==null;)if(e=I,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,I=t;else for(;I!==null;){e=I;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,j=w.memoizedState,g=e.stateNode,f=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:st(e.type,x),j);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(v){ae(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,I=t;break}I=e.return}return w=Mu,Mu=!1,w}function Ur(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ml(e,n,i)}s=s.next}while(s!==r)}}function Li(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gl(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mh(t){var e=t.alternate;e!==null&&(t.alternate=null,mh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[mt],delete e[Zr],delete e[nl],delete e[sm],delete e[im])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gh(t){return t.tag===5||t.tag===3||t.tag===4}function zu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=li));else if(r!==4&&(t=t.child,t!==null))for(vl(t,e,n),t=t.sibling;t!==null;)vl(t,e,n),t=t.sibling}function yl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(yl(t,e,n),t=t.sibling;t!==null;)yl(t,e,n),t=t.sibling}var we=null,it=!1;function Lt(t,e,n){for(n=n.child;n!==null;)vh(t,e,n),n=n.sibling}function vh(t,e,n){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(Ni,n)}catch{}switch(n.tag){case 5:Se||Kn(n,e);case 6:var r=we,s=it;we=null,Lt(t,e,n),we=r,it=s,we!==null&&(it?(t=we,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):we.removeChild(n.stateNode));break;case 18:we!==null&&(it?(t=we,n=n.stateNode,t.nodeType===8?ho(t.parentNode,n):t.nodeType===1&&ho(t,n),Gr(t)):ho(we,n.stateNode));break;case 4:r=we,s=it,we=n.stateNode.containerInfo,it=!0,Lt(t,e,n),we=r,it=s;break;case 0:case 11:case 14:case 15:if(!Se&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ml(n,e,o),s=s.next}while(s!==r)}Lt(t,e,n);break;case 1:if(!Se&&(Kn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ae(n,e,l)}Lt(t,e,n);break;case 21:Lt(t,e,n);break;case 22:n.mode&1?(Se=(r=Se)||n.memoizedState!==null,Lt(t,e,n),Se=r):Lt(t,e,n);break;default:Lt(t,e,n)}}function Fu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _m),e.forEach(function(r){var s=Om.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function nt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:we=l.stateNode,it=!1;break e;case 3:we=l.stateNode.containerInfo,it=!0;break e;case 4:we=l.stateNode.containerInfo,it=!0;break e}l=l.return}if(we===null)throw Error(E(160));vh(i,o,s),we=null,it=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){ae(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yh(e,t),e=e.sibling}function yh(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(nt(e,t),ht(t),r&4){try{Ur(3,t,t.return),Li(3,t)}catch(x){ae(t,t.return,x)}try{Ur(5,t,t.return)}catch(x){ae(t,t.return,x)}}break;case 1:nt(e,t),ht(t),r&512&&n!==null&&Kn(n,n.return);break;case 5:if(nt(e,t),ht(t),r&512&&n!==null&&Kn(n,n.return),t.flags&32){var s=t.stateNode;try{Hr(s,"")}catch(x){ae(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&zc(s,i),Bo(l,o);var c=Bo(l,i);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];d==="style"?Wc(s,h):d==="dangerouslySetInnerHTML"?Vc(s,h):d==="children"?Hr(s,h):Fl(s,d,h,c)}switch(l){case"input":Uo(s,i);break;case"textarea":Fc(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Qn(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Qn(s,!!i.multiple,i.defaultValue,!0):Qn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Zr]=i}catch(x){ae(t,t.return,x)}}break;case 6:if(nt(e,t),ht(t),r&4){if(t.stateNode===null)throw Error(E(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){ae(t,t.return,x)}}break;case 3:if(nt(e,t),ht(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gr(e.containerInfo)}catch(x){ae(t,t.return,x)}break;case 4:nt(e,t),ht(t);break;case 13:nt(e,t),ht(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(xa=ue())),r&4&&Fu(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Se=(c=Se)||d,nt(e,t),Se=c):nt(e,t),ht(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(I=t,d=t.child;d!==null;){for(h=I=d;I!==null;){switch(m=I,y=m.child,m.tag){case 0:case 11:case 14:case 15:Ur(4,m,m.return);break;case 1:Kn(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(x){ae(r,n,x)}}break;case 5:Kn(m,m.return);break;case 22:if(m.memoizedState!==null){Vu(h);continue}}y!==null?(y.return=m,I=y):Vu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Hc("display",o))}catch(x){ae(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){ae(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:nt(e,t),ht(t),r&4&&Fu(t);break;case 21:break;default:nt(e,t),ht(t)}}function ht(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gh(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Hr(s,""),r.flags&=-33);var i=zu(t);yl(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=zu(t);vl(t,l,o);break;default:throw Error(E(161))}}catch(u){ae(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function km(t,e,n){I=t,wh(t)}function wh(t,e,n){for(var r=(t.mode&1)!==0;I!==null;){var s=I,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ls;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||Se;l=Ls;var c=Se;if(Ls=o,(Se=u)&&!c)for(I=s;I!==null;)o=I,u=o.child,o.tag===22&&o.memoizedState!==null?Hu(s):u!==null?(u.return=o,I=u):Hu(s);for(;i!==null;)I=i,wh(i),i=i.sibling;I=s,Ls=l,Se=c}Bu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,I=i):Bu(t)}}function Bu(t){for(;I!==null;){var e=I;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Se||Li(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Se)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:st(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Nu(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Nu(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Gr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}Se||e.flags&512&&gl(e)}catch(m){ae(e,e.return,m)}}if(e===t){I=null;break}if(n=e.sibling,n!==null){n.return=e.return,I=n;break}I=e.return}}function Vu(t){for(;I!==null;){var e=I;if(e===t){I=null;break}var n=e.sibling;if(n!==null){n.return=e.return,I=n;break}I=e.return}}function Hu(t){for(;I!==null;){var e=I;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Li(4,e)}catch(u){ae(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){ae(e,s,u)}}var i=e.return;try{gl(e)}catch(u){ae(e,i,u)}break;case 5:var o=e.return;try{gl(e)}catch(u){ae(e,o,u)}}}catch(u){ae(e,e.return,u)}if(e===t){I=null;break}var l=e.sibling;if(l!==null){l.return=e.return,I=l;break}I=e.return}}var Sm=Math.ceil,yi=Tt.ReactCurrentDispatcher,ya=Tt.ReactCurrentOwner,Ke=Tt.ReactCurrentBatchConfig,K=0,ve=null,ce=null,xe=0,De=0,Gn=tn(0),pe=0,is=null,_n=0,Ri=0,wa=0,Dr=null,Ae=null,xa=0,ar=1/0,xt=null,wi=!1,wl=null,Jt=null,Rs=!1,Vt=null,xi=0,Mr=0,xl=null,Qs=-1,Ys=0;function Ce(){return K&6?ue():Qs!==-1?Qs:Qs=ue()}function Qt(t){return t.mode&1?K&2&&xe!==0?xe&-xe:lm.transition!==null?(Ys===0&&(Ys=rd()),Ys):(t=G,t!==0||(t=window.event,t=t===void 0?16:cd(t.type)),t):1}function ut(t,e,n,r){if(50<Mr)throw Mr=0,xl=null,Error(E(185));us(t,n,r),(!(K&2)||t!==ve)&&(t===ve&&(!(K&2)&&(Ri|=n),pe===4&&zt(t,xe)),Ue(t,r),n===1&&K===0&&!(e.mode&1)&&(ar=ue()+500,Oi&&nn()))}function Ue(t,e){var n=t.callbackNode;lp(t,e);var r=ri(t,t===ve?xe:0);if(r===0)n!==null&&Za(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Za(n),e===1)t.tag===0?om(Wu.bind(null,t)):Pd(Wu.bind(null,t)),nm(function(){!(K&6)&&nn()}),n=null;else{switch(sd(r)){case 1:n=ql;break;case 4:n=td;break;case 16:n=ni;break;case 536870912:n=nd;break;default:n=ni}n=Eh(n,xh.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xh(t,e){if(Qs=-1,Ys=0,K&6)throw Error(E(327));var n=t.callbackNode;if(tr()&&t.callbackNode!==n)return null;var r=ri(t,t===ve?xe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_i(t,r);else{e=r;var s=K;K|=2;var i=bh();(ve!==t||xe!==e)&&(xt=null,ar=ue()+500,gn(t,e));do try{Em();break}catch(l){_h(t,l)}while(!0);ia(),yi.current=i,K=s,ce!==null?e=0:(ve=null,xe=0,e=pe)}if(e!==0){if(e===2&&(s=Ko(t),s!==0&&(r=s,e=_l(t,s))),e===1)throw n=is,gn(t,0),zt(t,r),Ue(t,ue()),n;if(e===6)zt(t,r);else{if(s=t.current.alternate,!(r&30)&&!jm(s)&&(e=_i(t,r),e===2&&(i=Ko(t),i!==0&&(r=i,e=_l(t,i))),e===1))throw n=is,gn(t,0),zt(t,r),Ue(t,ue()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(E(345));case 2:cn(t,Ae,xt);break;case 3:if(zt(t,r),(r&130023424)===r&&(e=xa+500-ue(),10<e)){if(ri(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ce(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=tl(cn.bind(null,t,Ae,xt),e);break}cn(t,Ae,xt);break;case 4:if(zt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-at(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sm(r/1960))-r,10<r){t.timeoutHandle=tl(cn.bind(null,t,Ae,xt),r);break}cn(t,Ae,xt);break;case 5:cn(t,Ae,xt);break;default:throw Error(E(329))}}}return Ue(t,ue()),t.callbackNode===n?xh.bind(null,t):null}function _l(t,e){var n=Dr;return t.current.memoizedState.isDehydrated&&(gn(t,e).flags|=256),t=_i(t,e),t!==2&&(e=Ae,Ae=n,e!==null&&bl(e)),t}function bl(t){Ae===null?Ae=t:Ae.push.apply(Ae,t)}function jm(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ct(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zt(t,e){for(e&=~wa,e&=~Ri,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-at(e),r=1<<n;t[n]=-1,e&=~r}}function Wu(t){if(K&6)throw Error(E(327));tr();var e=ri(t,0);if(!(e&1))return Ue(t,ue()),null;var n=_i(t,e);if(t.tag!==0&&n===2){var r=Ko(t);r!==0&&(e=r,n=_l(t,r))}if(n===1)throw n=is,gn(t,0),zt(t,e),Ue(t,ue()),n;if(n===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,cn(t,Ae,xt),Ue(t,ue()),null}function _a(t,e){var n=K;K|=1;try{return t(e)}finally{K=n,K===0&&(ar=ue()+500,Oi&&nn())}}function bn(t){Vt!==null&&Vt.tag===0&&!(K&6)&&tr();var e=K;K|=1;var n=Ke.transition,r=G;try{if(Ke.transition=null,G=1,t)return t()}finally{G=r,Ke.transition=n,K=e,!(K&6)&&nn()}}function ba(){De=Gn.current,te(Gn)}function gn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,tm(n)),ce!==null)for(n=ce.return;n!==null;){var r=n;switch(na(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ai();break;case 3:or(),te(Re),te(je),da();break;case 5:ca(r);break;case 4:or();break;case 13:te(se);break;case 19:te(se);break;case 10:oa(r.type._context);break;case 22:case 23:ba()}n=n.return}if(ve=t,ce=t=Yt(t.current,null),xe=De=e,pe=0,is=null,wa=Ri=_n=0,Ae=Dr=null,pn!==null){for(e=0;e<pn.length;e++)if(n=pn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}pn=null}return t}function _h(t,e){do{var n=ce;try{if(ia(),Ks.current=vi,gi){for(var r=ie.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}gi=!1}if(xn=0,ge=fe=ie=null,$r=!1,ns=0,ya.current=null,n===null||n.return===null){pe=1,is=e,ce=null;break}e:{var i=t,o=n.return,l=n,u=e;if(e=xe,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Au(o);if(y!==null){y.flags&=-257,Iu(y,o,l,i,e),y.mode&1&&Ou(i,c,e),e=y,u=c;var w=e.updateQueue;if(w===null){var x=new Set;x.add(u),e.updateQueue=x}else w.add(u);break e}else{if(!(e&1)){Ou(i,c,e),ka();break e}u=Error(E(426))}}else if(re&&l.mode&1){var j=Au(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Iu(j,o,l,i,e),ra(lr(u,l));break e}}i=u=lr(u,l),pe!==4&&(pe=2),Dr===null?Dr=[i]:Dr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=sh(i,u,e);ju(i,g);break e;case 1:l=u;var f=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Jt===null||!Jt.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var v=ih(i,l,e);ju(i,v);break e}}i=i.return}while(i!==null)}Sh(n)}catch(k){e=k,ce===n&&n!==null&&(ce=n=n.return);continue}break}while(!0)}function bh(){var t=yi.current;return yi.current=vi,t===null?vi:t}function ka(){(pe===0||pe===3||pe===2)&&(pe=4),ve===null||!(_n&268435455)&&!(Ri&268435455)||zt(ve,xe)}function _i(t,e){var n=K;K|=2;var r=bh();(ve!==t||xe!==e)&&(xt=null,gn(t,e));do try{Nm();break}catch(s){_h(t,s)}while(!0);if(ia(),K=n,yi.current=r,ce!==null)throw Error(E(261));return ve=null,xe=0,pe}function Nm(){for(;ce!==null;)kh(ce)}function Em(){for(;ce!==null&&!Xf();)kh(ce)}function kh(t){var e=Nh(t.alternate,t,De);t.memoizedProps=t.pendingProps,e===null?Sh(t):ce=e,ya.current=null}function Sh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xm(n,e),n!==null){n.flags&=32767,ce=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pe=6,ce=null;return}}else if(n=wm(n,e,De),n!==null){ce=n;return}if(e=e.sibling,e!==null){ce=e;return}ce=e=t}while(e!==null);pe===0&&(pe=5)}function cn(t,e,n){var r=G,s=Ke.transition;try{Ke.transition=null,G=1,Cm(t,e,n,r)}finally{Ke.transition=s,G=r}return null}function Cm(t,e,n,r){do tr();while(Vt!==null);if(K&6)throw Error(E(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(ap(t,i),t===ve&&(ce=ve=null,xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Rs||(Rs=!0,Eh(ni,function(){return tr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ke.transition,Ke.transition=null;var o=G;G=1;var l=K;K|=4,ya.current=null,bm(t,n),yh(n,t),Gp(Zo),si=!!Xo,Zo=Xo=null,t.current=n,km(n),Zf(),K=l,G=o,Ke.transition=i}else t.current=n;if(Rs&&(Rs=!1,Vt=t,xi=s),i=t.pendingLanes,i===0&&(Jt=null),np(n.stateNode),Ue(t,ue()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(wi)throw wi=!1,t=wl,wl=null,t;return xi&1&&t.tag!==0&&tr(),i=t.pendingLanes,i&1?t===xl?Mr++:(Mr=0,xl=t):Mr=0,nn(),null}function tr(){if(Vt!==null){var t=sd(xi),e=Ke.transition,n=G;try{if(Ke.transition=null,G=16>t?16:t,Vt===null)var r=!1;else{if(t=Vt,Vt=null,xi=0,K&6)throw Error(E(331));var s=K;for(K|=4,I=t.current;I!==null;){var i=I,o=i.child;if(I.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(I=c;I!==null;){var d=I;switch(d.tag){case 0:case 11:case 15:Ur(8,d,i)}var h=d.child;if(h!==null)h.return=d,I=h;else for(;I!==null;){d=I;var m=d.sibling,y=d.return;if(mh(d),d===c){I=null;break}if(m!==null){m.return=y,I=m;break}I=y}}}var w=i.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var j=x.sibling;x.sibling=null,x=j}while(x!==null)}}I=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,I=o;else e:for(;I!==null;){if(i=I,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ur(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,I=g;break e}I=i.return}}var f=t.current;for(I=f;I!==null;){o=I;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,I=p;else e:for(o=f;I!==null;){if(l=I,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Li(9,l)}}catch(k){ae(l,l.return,k)}if(l===o){I=null;break e}var v=l.sibling;if(v!==null){v.return=l.return,I=v;break e}I=l.return}}if(K=s,nn(),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(Ni,t)}catch{}r=!0}return r}finally{G=n,Ke.transition=e}}return!1}function qu(t,e,n){e=lr(n,e),e=sh(t,e,1),t=Gt(t,e,1),e=Ce(),t!==null&&(us(t,1,e),Ue(t,e))}function ae(t,e,n){if(t.tag===3)qu(t,t,n);else for(;e!==null;){if(e.tag===3){qu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jt===null||!Jt.has(r))){t=lr(n,t),t=ih(e,t,1),e=Gt(e,t,1),t=Ce(),e!==null&&(us(e,1,t),Ue(e,t));break}}e=e.return}}function Pm(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ce(),t.pingedLanes|=t.suspendedLanes&n,ve===t&&(xe&n)===n&&(pe===4||pe===3&&(xe&130023424)===xe&&500>ue()-xa?gn(t,0):wa|=n),Ue(t,e)}function jh(t,e){e===0&&(t.mode&1?(e=js,js<<=1,!(js&130023424)&&(js=4194304)):e=1);var n=Ce();t=Ct(t,e),t!==null&&(us(t,e,n),Ue(t,n))}function Tm(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),jh(t,n)}function Om(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(e),jh(t,n)}var Nh;Nh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Re.current)Le=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Le=!1,ym(t,e,n);Le=!!(t.flags&131072)}else Le=!1,re&&e.flags&1048576&&Td(e,di,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Js(t,e),t=e.pendingProps;var s=rr(e,je.current);er(e,n),s=fa(null,e,r,t,s,n);var i=pa();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$e(r)?(i=!0,ui(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,aa(e),s.updater=Ii,e.stateNode=s,s._reactInternals=e,al(e,r,t,n),e=dl(null,e,r,!0,i,n)):(e.tag=0,re&&i&&ta(e),Ee(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Js(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Im(r),t=st(r,t),s){case 0:e=cl(null,e,r,t,n);break e;case 1:e=$u(null,e,r,t,n);break e;case 11:e=Lu(null,e,r,t,n);break e;case 14:e=Ru(null,e,r,st(r.type,t),n);break e}throw Error(E(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:st(r,s),cl(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:st(r,s),$u(t,e,r,s,n);case 3:e:{if(uh(e),t===null)throw Error(E(387));r=e.pendingProps,i=e.memoizedState,s=i.element,$d(t,e),pi(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=lr(Error(E(423)),e),e=Uu(t,e,r,n,s);break e}else if(r!==s){s=lr(Error(E(424)),e),e=Uu(t,e,r,n,s);break e}else for(Me=Kt(e.stateNode.containerInfo.firstChild),ze=e,re=!0,lt=null,n=Ld(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sr(),r===s){e=Pt(t,e,n);break e}Ee(t,e,r,n)}e=e.child}return e;case 5:return Ud(e),t===null&&il(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,el(r,s)?o=null:i!==null&&el(r,i)&&(e.flags|=32),ah(t,e),Ee(t,e,o,n),e.child;case 6:return t===null&&il(e),null;case 13:return ch(t,e,n);case 4:return ua(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ir(e,null,r,n):Ee(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:st(r,s),Lu(t,e,r,s,n);case 7:return Ee(t,e,e.pendingProps,n),e.child;case 8:return Ee(t,e,e.pendingProps.children,n),e.child;case 12:return Ee(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,X(hi,r._currentValue),r._currentValue=o,i!==null)if(ct(i.value,o)){if(i.children===s.children&&!Re.current){e=Pt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=jt(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),ol(i.return,n,e),l.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ol(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ee(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,er(e,n),s=Je(s),r=r(s),e.flags|=1,Ee(t,e,r,n),e.child;case 14:return r=e.type,s=st(r,e.pendingProps),s=st(r.type,s),Ru(t,e,r,s,n);case 15:return oh(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:st(r,s),Js(t,e),e.tag=1,$e(r)?(t=!0,ui(e)):t=!1,er(e,n),rh(e,r,s),al(e,r,s,n),dl(null,e,r,!0,t,n);case 19:return dh(t,e,n);case 22:return lh(t,e,n)}throw Error(E(156,e.tag))};function Eh(t,e){return ed(t,e)}function Am(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(t,e,n,r){return new Am(t,e,n,r)}function Sa(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Im(t){if(typeof t=="function")return Sa(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vl)return 11;if(t===Hl)return 14}return 2}function Yt(t,e){var n=t.alternate;return n===null?(n=qe(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xs(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Sa(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Dn:return vn(n.children,s,i,e);case Bl:o=8,s|=8;break;case Ao:return t=qe(12,n,e,s|2),t.elementType=Ao,t.lanes=i,t;case Io:return t=qe(13,n,e,s),t.elementType=Io,t.lanes=i,t;case Lo:return t=qe(19,n,e,s),t.elementType=Lo,t.lanes=i,t;case Uc:return $i(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Rc:o=10;break e;case $c:o=9;break e;case Vl:o=11;break e;case Hl:o=14;break e;case Ut:o=16,r=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=qe(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function vn(t,e,n,r){return t=qe(7,t,r,e),t.lanes=n,t}function $i(t,e,n,r){return t=qe(22,t,r,e),t.elementType=Uc,t.lanes=n,t.stateNode={isHidden:!1},t}function xo(t,e,n){return t=qe(6,t,null,e),t.lanes=n,t}function _o(t,e,n){return e=qe(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Lm(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eo(0),this.expirationTimes=eo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eo(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ja(t,e,n,r,s,i,o,l,u){return t=new Lm(t,e,n,l,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=qe(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},aa(i),t}function Rm(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Un,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ch(t){if(!t)return Zt;t=t._reactInternals;e:{if(Sn(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($e(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var n=t.type;if($e(n))return Cd(t,n,e)}return e}function Ph(t,e,n,r,s,i,o,l,u){return t=ja(n,r,!0,t,s,i,o,l,u),t.context=Ch(null),n=t.current,r=Ce(),s=Qt(n),i=jt(r,s),i.callback=e??null,Gt(n,i,s),t.current.lanes=s,us(t,s,r),Ue(t,r),t}function Ui(t,e,n,r){var s=e.current,i=Ce(),o=Qt(s);return n=Ch(n),e.context===null?e.context=n:e.pendingContext=n,e=jt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Gt(s,e,o),t!==null&&(ut(t,s,o,i),qs(t,s,o)),o}function bi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ku(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Na(t,e){Ku(t,e),(t=t.alternate)&&Ku(t,e)}function $m(){return null}var Th=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ea(t){this._internalRoot=t}Di.prototype.render=Ea.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));Ui(t,e,null,null)};Di.prototype.unmount=Ea.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bn(function(){Ui(null,t,null,null)}),e[Et]=null}};function Di(t){this._internalRoot=t}Di.prototype.unstable_scheduleHydration=function(t){if(t){var e=ld();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mt.length&&e!==0&&e<Mt[n].priority;n++);Mt.splice(n,0,t),n===0&&ud(t)}};function Ca(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Mi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Gu(){}function Um(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=bi(o);i.call(c)}}var o=Ph(e,r,t,0,null,!1,!1,"",Gu);return t._reactRootContainer=o,t[Et]=o.current,Yr(t.nodeType===8?t.parentNode:t),bn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=bi(u);l.call(c)}}var u=ja(t,0,!1,null,null,!1,!1,"",Gu);return t._reactRootContainer=u,t[Et]=u.current,Yr(t.nodeType===8?t.parentNode:t),bn(function(){Ui(e,u,n,r)}),u}function zi(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=bi(o);l.call(u)}}Ui(e,o,t,s)}else o=Um(n,e,t,s,r);return bi(o)}id=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Cr(e.pendingLanes);n!==0&&(Kl(e,n|1),Ue(e,ue()),!(K&6)&&(ar=ue()+500,nn()))}break;case 13:bn(function(){var r=Ct(t,1);if(r!==null){var s=Ce();ut(r,t,1,s)}}),Na(t,1)}};Gl=function(t){if(t.tag===13){var e=Ct(t,134217728);if(e!==null){var n=Ce();ut(e,t,134217728,n)}Na(t,134217728)}};od=function(t){if(t.tag===13){var e=Qt(t),n=Ct(t,e);if(n!==null){var r=Ce();ut(n,t,e,r)}Na(t,e)}};ld=function(){return G};ad=function(t,e){var n=G;try{return G=t,e()}finally{G=n}};Ho=function(t,e,n){switch(e){case"input":if(Uo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ti(r);if(!s)throw Error(E(90));Mc(r),Uo(r,s)}}}break;case"textarea":Fc(t,n);break;case"select":e=n.value,e!=null&&Qn(t,!!n.multiple,e,!1)}};Gc=_a;Jc=bn;var Dm={usingClientEntryPoint:!1,Events:[ds,Bn,Ti,qc,Kc,_a]},Sr={findFiberByHostInstance:fn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mm={bundleType:Sr.bundleType,version:Sr.version,rendererPackageName:Sr.rendererPackageName,rendererConfig:Sr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Xc(t),t===null?null:t.stateNode},findFiberByHostInstance:Sr.findFiberByHostInstance||$m,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$s.isDisabled&&$s.supportsFiber)try{Ni=$s.inject(Mm),gt=$s}catch{}}Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dm;Be.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ca(e))throw Error(E(200));return Rm(t,e,null,n)};Be.createRoot=function(t,e){if(!Ca(t))throw Error(E(299));var n=!1,r="",s=Th;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ja(t,1,!1,null,null,n,!1,r,s),t[Et]=e.current,Yr(t.nodeType===8?t.parentNode:t),new Ea(e)};Be.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=Xc(e),t=t===null?null:t.stateNode,t};Be.flushSync=function(t){return bn(t)};Be.hydrate=function(t,e,n){if(!Mi(e))throw Error(E(200));return zi(null,t,e,!0,n)};Be.hydrateRoot=function(t,e,n){if(!Ca(t))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Th;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ph(e,null,t,1,n??null,s,!1,i,o),t[Et]=e.current,Yr(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Di(e)};Be.render=function(t,e,n){if(!Mi(e))throw Error(E(200));return zi(null,t,e,!1,n)};Be.unmountComponentAtNode=function(t){if(!Mi(t))throw Error(E(40));return t._reactRootContainer?(bn(function(){zi(null,null,t,!1,function(){t._reactRootContainer=null,t[Et]=null})}),!0):!1};Be.unstable_batchedUpdates=_a;Be.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Mi(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return zi(t,e,n,!1,r)};Be.version="18.3.1-next-f1338f8080-20240426";function Oh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Oh)}catch(t){console.error(t)}}Oh(),Oc.exports=Be;var zm=Oc.exports,Ah,Ju=zm;Ah=Ju.createRoot,Ju.hydrateRoot;const Fm="modulepreload",Bm=function(t){return"/"+t},Qu={},fs=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(u=>{if(u=Bm(u),u in Qu)return;Qu[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Fm,c||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((m,y)=>{h.addEventListener("load",m),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Vm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>fs(async()=>{const{default:r}=await Promise.resolve().then(()=>fr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Pa extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Hm extends Pa{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Yu extends Pa{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Xu extends Pa{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var kl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(kl||(kl={}));var Wm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};class qm{constructor(e,{headers:n={},customFetch:r,region:s=kl.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Vm(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Wm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:u}=n;u||(u=this.region);const c=new URL(`${this.url}/${e}`);u&&u!=="any"&&(l["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(x=>{throw new Hm(x)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new Yu(h);if(!h.ok)throw new Xu(h);let y=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return y==="application/json"?w=yield h.json():y==="application/octet-stream"?w=yield h.blob():y==="text/event-stream"?w=h:y==="multipart/form-data"?w=yield h.formData():w=yield h.text(),{data:w,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Xu||s instanceof Yu?s.context:void 0}}})}}var Ie={},Ta={},Fi={},ps={},Bi={},Vi={},Km=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ur=Km();const Gm=ur.fetch,Ih=ur.fetch.bind(ur),Lh=ur.Headers,Jm=ur.Request,Qm=ur.Response,fr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Lh,Request:Jm,Response:Qm,default:Ih,fetch:Gm},Symbol.toStringTag,{value:"Module"})),Ym=pf(fr);var Hi={};Object.defineProperty(Hi,"__esModule",{value:!0});let Xm=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Hi.default=Xm;var Rh=Ge&&Ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vi,"__esModule",{value:!0});const Zm=Rh(Ym),e0=Rh(Hi);let t0=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Zm.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,u,c;let d=null,h=null,m=null,y=i.status,w=i.statusText;if(i.ok){if(this.method!=="HEAD"){const f=await i.text();f===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=f:h=JSON.parse(f))}const j=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),g=(u=i.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");j&&g&&g.length>1&&(m=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,y=406,w="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const j=await i.text();try{d=JSON.parse(j),Array.isArray(d)&&i.status===404&&(h=[],d=null,y=200,w="OK")}catch{i.status===404&&j===""?(y=204,w="No Content"):d={message:j}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,y=200,w="OK"),d&&this.shouldThrowOnError)throw new e0.default(d)}return{error:d,data:h,count:m,status:y,statusText:w}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,u;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Vi.default=t0;var n0=Ge&&Ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bi,"__esModule",{value:!0});const r0=n0(Vi);let s0=class extends r0.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const u=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Bi.default=s0;var i0=Ge&&Ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ps,"__esModule",{value:!0});const o0=i0(Bi);let l0=class extends o0.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ps.default=l0;var a0=Ge&&Ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fi,"__esModule",{value:!0});const jr=a0(ps);let u0=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new jr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new jr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new jr.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new jr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new jr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Fi.default=u0;var $h=Ge&&Ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ta,"__esModule",{value:!0});const c0=$h(Fi),d0=$h(ps);let h0=class Uh{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new c0.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Uh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let l;const u=new URL(`${this.url}/rpc/${e}`);let c;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([h,m])=>m!==void 0).map(([h,m])=>[h,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([h,m])=>{u.searchParams.append(h,m)})):(l="POST",c=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new d0.default({method:l,url:u,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Ta.default=h0;var pr=Ge&&Ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.PostgrestError=Ie.PostgrestBuilder=Ie.PostgrestTransformBuilder=Ie.PostgrestFilterBuilder=Ie.PostgrestQueryBuilder=Ie.PostgrestClient=void 0;const Dh=pr(Ta);Ie.PostgrestClient=Dh.default;const Mh=pr(Fi);Ie.PostgrestQueryBuilder=Mh.default;const zh=pr(ps);Ie.PostgrestFilterBuilder=zh.default;const Fh=pr(Bi);Ie.PostgrestTransformBuilder=Fh.default;const Bh=pr(Vi);Ie.PostgrestBuilder=Bh.default;const Vh=pr(Hi);Ie.PostgrestError=Vh.default;var f0=Ie.default={PostgrestClient:Dh.default,PostgrestQueryBuilder:Mh.default,PostgrestFilterBuilder:zh.default,PostgrestTransformBuilder:Fh.default,PostgrestBuilder:Bh.default,PostgrestError:Vh.default};const{PostgrestClient:p0,PostgrestQueryBuilder:Dv,PostgrestFilterBuilder:Mv,PostgrestTransformBuilder:zv,PostgrestBuilder:Fv,PostgrestError:Bv}=f0;class m0{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const g0="2.15.5",v0=`realtime-js/${g0}`,y0="1.0.0",Sl=1e4,w0=1e3,x0=100;var zr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(zr||(zr={}));var de;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(de||(de={}));var ot;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ot||(ot={}));var jl;(function(t){t.websocket="websocket"})(jl||(jl={}));var hn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(hn||(hn={}));class _0{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const u=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:u,payload:c}}}class Hh{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Y;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Y||(Y={}));const Zu=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=b0(o,t,e,s),i),{})},b0=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?Wh(i,o):Nl(o)},Wh=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return N0(e,n)}switch(t){case Y.bool:return k0(e);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return S0(e);case Y.json:case Y.jsonb:return j0(e);case Y.timestamp:return E0(e);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return Nl(e);default:return Nl(e)}},Nl=t=>t,k0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},S0=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},j0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},N0=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Wh(e,l))}return t},E0=t=>typeof t=="string"?t.replace(" ","T"):t,qh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class bo{constructor(e,n,r={},s=Sl){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ec;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ec||(ec={}));class Fr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=Fr.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Fr.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},u={};return this.map(i,(c,d)=>{o[c]||(u[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const m=d.map(j=>j.presence_ref),y=h.map(j=>j.presence_ref),w=d.filter(j=>y.indexOf(j.presence_ref)<0),x=h.filter(j=>m.indexOf(j.presence_ref)<0);w.length>0&&(l[c]=w),x.length>0&&(u[c]=x)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:u},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,u)=>{var c;const d=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(u),d.length>0){const h=e[l].map(y=>y.presence_ref),m=d.filter(y=>h.indexOf(y.presence_ref)<0);e[l].unshift(...m)}r(l,d,u)}),this.map(o,(l,u)=>{let c=e[l];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=c,s(l,c,u),c.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(tc||(tc={}));var Br;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Br||(Br={}));var _t;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(_t||(_t={}));class Oa{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=de.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new bo(this,ot.join,this.params,this.timeout),this.rejoinTimer=new Hh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=de.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=de.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ot.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Fr(this),this.broadcastEndpointURL=qh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==de.closed){const{config:{broadcast:o,presence:l,private:u}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Br.PRESENCE]&&this.bindings[Br.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(_t.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(_t.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var w;if(this.socket.setAuth(),y===void 0){e==null||e(_t.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,j=(w=x==null?void 0:x.length)!==null&&w!==void 0?w:0,g=[];for(let f=0;f<j;f++){const p=x[f],{filter:{event:v,schema:k,table:N,filter:C}}=p,_=y&&y[f];if(_&&_.event===v&&_.schema===k&&_.table===N&&_.filter===C)g.push(Object.assign(Object.assign({},p),{id:_.id}));else{this.unsubscribe(),this.state=de.errored,e==null||e(_t.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(_t.SUBSCRIBED);return}}).receive("error",y=>{this.state=de.errored,e==null||e(_t.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(_t.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===de.joined&&e===Br.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,u;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=de.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ot.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new bo(this,ot.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=de.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new bo(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>x0){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:u,leave:c,join:d}=ot;if(r&&[l,u,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var w,x,j;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((j=(x=y.filter)===null||x===void 0?void 0:x.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(y=>y.callback(m,r)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var w,x,j,g,f,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const v=y.id,k=(w=y.filter)===null||w===void 0?void 0:w.event;return v&&((x=n.ids)===null||x===void 0?void 0:x.includes(v))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const v=(f=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return v==="*"||v===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof m=="object"&&"ids"in m){const w=m.data,{schema:x,table:j,commit_timestamp:g,type:f,errors:p}=w;m=Object.assign(Object.assign({},{schema:x,table:j,commit_timestamp:g,eventType:f,new:{},old:{},errors:p}),this._getPayloadRecords(w))}y.callback(m,r)})}_isClosed(){return this.state===de.closed}_isJoined(){return this.state===de.joined}_isJoining(){return this.state===de.joining}_isLeaving(){return this.state===de.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Oa.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ot.close,{},e)}_onError(e){this._on(ot.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=de.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Zu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Zu(e.columns,e.old_record)),n}}const ko=()=>{},Us={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},C0=[1e3,2e3,5e3,1e4],P0=1e4,T0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class O0{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Sl,this.transport=null,this.heartbeatIntervalMs=Us.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ko,this.ref=0,this.reconnectTimer=null,this.logger=ko,this.conn=null,this.sendBuffer=[],this.serializer=new _0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>fs(async()=>{const{default:l}=await Promise.resolve().then(()=>fr);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${jl.websocket}`,this.httpEndpoint=qh(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=m0.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:y0}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case zr.connecting:return hn.Connecting;case zr.open:return hn.Open;case zr.closing:return hn.Closing;default:return hn.Closed}}isConnected(){return this.connectionState()===hn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Oa(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(w0,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Us.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",u=i.status||"";this.log("receive",`${u} ${r} ${s} ${l}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ot.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([T0],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:v0};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(ot.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Hh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Us.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,l,u,c,d;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Sl,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Us.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:ko,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:h=>C0[h-1]||P0,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,m)=>m(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Aa extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function he(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class A0 extends Aa{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class El extends Aa{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var I0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};const Kh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>fs(async()=>{const{default:r}=await Promise.resolve().then(()=>fr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},L0=()=>I0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fs(()=>Promise.resolve().then(()=>fr),void 0)).Response:Response}),Cl=t=>{if(Array.isArray(t))return t.map(n=>Cl(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Cl(r)}),e},R0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var jn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};const So=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),$0=(t,e,n)=>jn(void 0,void 0,void 0,function*(){const r=yield L0();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new A0(So(s),i,o))}).catch(s=>{e(new El(So(s),s))}):e(new El(So(t),t))}),U0=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(R0(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function ms(t,e,n,r,s,i){return jn(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,U0(e,r,s,i)).then(u=>{if(!u.ok)throw u;return r!=null&&r.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>$0(u,l,r))})})}function ki(t,e,n,r){return jn(this,void 0,void 0,function*(){return ms(t,"GET",e,n,r)})}function pt(t,e,n,r,s){return jn(this,void 0,void 0,function*(){return ms(t,"POST",e,r,s,n)})}function Pl(t,e,n,r,s){return jn(this,void 0,void 0,function*(){return ms(t,"PUT",e,r,s,n)})}function D0(t,e,n,r){return jn(this,void 0,void 0,function*(){return ms(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Gh(t,e,n,r,s){return jn(this,void 0,void 0,function*(){return ms(t,"DELETE",e,r,s,n)})}var Ne=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};const M0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class z0{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Kh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return Ne(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},nc),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield(e=="PUT"?Pl:pt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(he(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Ne(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let u;const c=Object.assign({upsert:nc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",c.cacheControl)):(u=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield Pl(this.fetch,l.toString(),u,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(he(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,n){return Ne(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield pt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new Aa("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}update(e,n,r){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Ne(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Ne(this,void 0,void 0,function*(){try{return{data:{path:(yield pt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Ne(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield pt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Ne(this,void 0,void 0,function*(){try{const s=yield pt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}})}download(e,n){return Ne(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield ki(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(he(l))return{data:null,error:l};throw l}})}info(e){return Ne(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield ki(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Cl(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}exists(e){return Ne(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield D0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r)&&r instanceof El){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${c}`)}}}remove(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield Gh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ne(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},M0),n),{prefix:e||""});return{data:yield pt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}})}listV2(e,n){return Ne(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield pt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const F0="2.12.1",B0={"X-Client-Info":`storage-js/${F0}`};var Tn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};class V0{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},B0),n),this.fetch=Kh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Tn(this,void 0,void 0,function*(){try{return{data:yield ki(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(he(e))return{data:null,error:e};throw e}})}getBucket(e){return Tn(this,void 0,void 0,function*(){try{return{data:yield ki(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Tn(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Tn(this,void 0,void 0,function*(){try{return{data:yield Pl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Tn(this,void 0,void 0,function*(){try{return{data:yield pt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Tn(this,void 0,void 0,function*(){try{return{data:yield Gh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}}class H0 extends V0{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new z0(this.url,this.headers,e,this.fetch)}}const W0="2.57.4";let Tr="";typeof Deno<"u"?Tr="deno":typeof document<"u"?Tr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Tr="react-native":Tr="node";const q0={"X-Client-Info":`supabase-js-${Tr}/${W0}`},K0={headers:q0},G0={schema:"public"},J0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Q0={};var Y0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};const X0=t=>{let e;return t?e=t:typeof fetch>"u"?e=Ih:e=fetch,(...n)=>e(...n)},Z0=()=>typeof Headers>"u"?Lh:Headers,eg=(t,e,n)=>{const r=X0(n),s=Z0();return(i,o)=>Y0(void 0,void 0,void 0,function*(){var l;const u=(l=yield e())!==null&&l!==void 0?l:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var tg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};function ng(t){return t.endsWith("/")?t:t+"/"}function rg(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:u,auth:c,realtime:d,global:h}=e,m={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>tg(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function sg(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ng(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Jh="2.71.1",Rn=30*1e3,Tl=3,jo=Tl*Rn,ig="http://localhost:9999",og="supabase.auth.token",lg={"X-Client-Info":`gotrue-js/${Jh}`},Ol="X-Supabase-Api-Version",Qh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ag=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ug=10*60*1e3;class Ia extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function D(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class cg extends Ia{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function dg(t){return D(t)&&t.name==="AuthApiError"}class Yh extends Ia{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class rn extends Ia{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class $t extends rn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hg(t){return D(t)&&t.name==="AuthSessionMissingError"}class Ds extends rn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ms extends rn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class zs extends rn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fg(t){return D(t)&&t.name==="AuthImplicitGrantRedirectError"}class rc extends rn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Al extends rn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function No(t){return D(t)&&t.name==="AuthRetryableFetchError"}class sc extends rn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Il extends rn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Si="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ic=` 	
\r=`.split(""),pg=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ic.length;e+=1)t[ic[e].charCodeAt(0)]=-2;for(let e=0;e<Si.length;e+=1)t[Si[e].charCodeAt(0)]=e;return t})();function oc(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Si[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Si[r]),e.queuedBits-=6}}function Xh(t,e,n){const r=pg[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function lc(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{vg(o,r,n)};for(let o=0;o<t.length;o+=1)Xh(t.charCodeAt(o),s,i);return e.join("")}function mg(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function gg(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}mg(r,e)}}function vg(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function yg(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Xh(t.charCodeAt(s),n,r);return new Uint8Array(e)}function wg(t){const e=[];return gg(t,n=>e.push(n)),new Uint8Array(e)}function xg(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>oc(s,n,r)),oc(null,n,r),e.join("")}function _g(t){return Math.round(Date.now()/1e3)+t}function bg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const rt=()=>typeof window<"u"&&typeof document<"u",ln={tested:!1,writable:!1},Zh=()=>{if(!rt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ln.tested)return ln.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ln.tested=!0,ln.writable=!0}catch{ln.tested=!0,ln.writable=!1}return ln.writable};function kg(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const ef=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>fs(async()=>{const{default:r}=await Promise.resolve().then(()=>fr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Sg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",$n=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},an=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Rt=async(t,e)=>{await t.removeItem(e)};class Wi{constructor(){this.promise=new Wi.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Wi.promiseConstructor=Promise;function Eo(t){const e=t.split(".");if(e.length!==3)throw new Il("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!ag.test(e[r]))throw new Il("JWT not in base64url format");return{header:JSON.parse(lc(e[0])),payload:JSON.parse(lc(e[1])),signature:yg(e[2]),raw:{header:e[0],payload:e[1]}}}async function jg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Ng(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Eg(t){return("0"+t.toString(16)).substr(-2)}function Cg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Eg).join("")}async function Pg(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Tg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Pg(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function On(t,e,n=!1){const r=Cg();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await $n(t,`${e}-code-verifier`,s);const i=await Tg(r);return[i,r===i?"plain":"s256"]}const Og=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ag(t){const e=t.headers.get(Ol);if(!e||!e.match(Og))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Ig(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Lg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Rg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function An(t){if(!Rg.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Co(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ac(t){return JSON.parse(JSON.stringify(t))}var $g=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const dn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ug=[502,503,504];async function uc(t){var e;if(!Sg(t))throw new Al(dn(t),0);if(Ug.includes(t.status))throw new Al(dn(t),t.status);let n;try{n=await t.json()}catch(i){throw new Yh(dn(i),i)}let r;const s=Ag(t);if(s&&s.getTime()>=Qh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new sc(dn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new $t}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new sc(dn(n),t.status,n.weak_password.reasons);throw new cg(dn(n),t.status||500,r)}const Dg=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function V(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Ol]||(i[Ol]=Qh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await Mg(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function Mg(t,e,n,r,s,i){const o=Dg(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(u){throw console.error(u),new Al(dn(u),0)}if(l.ok||await uc(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(u){await uc(u)}}function wt(t){var e;let n=null;Vg(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=_g(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function cc(t){const e=wt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ft(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function zg(t){return{data:t,error:null}}function Fg(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=$g(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function Bg(t){return t}function Vg(t){return t.access_token&&t.refresh_token&&t.expires_in}const Po=["global","local","others"];var Hg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class Wg{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=ef(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Po[0]){if(Po.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Po.join(", ")}`);try{return await V(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await V(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ft})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Hg(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await V(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Fg,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(D(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await V(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ft})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await V(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Bg});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);c[`${j}Page`]=x}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(D(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){An(e);try{return await V(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ft})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){An(e);try{return await V(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ft})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){An(e);try{return await V(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ft})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){An(e.userId);try{const{data:n,error:r}=await V(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(D(n))return{data:null,error:n};throw n}}async _deleteFactor(e){An(e.userId),An(e.id);try{return{data:await V(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}}function dc(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function qg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const In={debug:!!(globalThis&&Zh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class tf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Kg extends tf{}async function Gg(t,e,n){In.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),In.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){In.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{In.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw In.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Kg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(In.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}qg();const Jg={url:ig,storageKey:og,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function hc(t,e,n){return await n()}const Ln={};class os{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=os.nextInstanceID,os.nextInstanceID+=1,this.instanceID>0&&rt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Jg),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Wg({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=ef(s.fetch),this.lock=s.lock||hc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:rt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Gg:this.lock=hc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Zh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=dc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=dc(this.memoryStorage)),rt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Ln[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Ln[this.storageKey]=Object.assign(Object.assign({},Ln[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Ln[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ln[this.storageKey]=Object.assign(Object.assign({},Ln[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Jh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=kg(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),rt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),fg(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return D(n)?{error:n}:{error:new Yh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:wt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:m}=e;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await On(this.storage,this.storageKey)),i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:y,code_challenge_method:w},xform:wt})}else if("phone"in e){const{phone:d,password:h,options:m}=e;i=await V(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:wt})}else throw new Ms("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:cc})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await V(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:cc})}else throw new Ms("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ds}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,l,u,c,d,h,m,y;let w,x;if("message"in e)w=e.message,x=e.signature;else{const{chain:j,wallet:g,statement:f,options:p}=e;let v;if(rt())if(typeof g=="object")v=g;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))v=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=g}const k=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in v&&v.signIn){const N=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),f?{statement:f}:null));let C;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")C=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)C=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)w=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),x=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in v)||typeof v.signMessage!="function"||!("publicKey"in v)||typeof v!="object"||!v.publicKey||!("toBase58"in v.publicKey)||typeof v.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${k.host} wants you to sign in with your Solana account:`,v.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const N=await v.signMessage(new TextEncoder().encode(w),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=N}}try{const{data:j,error:g}=await V(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:xg(x)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:wt});if(g)throw g;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Ds}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:g})}catch(j){if(D(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const n=await an(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await V(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:wt});if(await Rt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ds}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(D(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await V(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:wt}),{data:u,error:c}=l;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Ds}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:u}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await On(this.storage,this.storageKey));const{error:h}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:u}=e,{data:c,error:d}=await V(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Ms("You must provide either an email or phone number.")}catch(l){if(D(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await V(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:wt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await On(this.storage,this.storageKey)),await V(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:zg})}catch(i){if(D(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new $t;const{error:s}=await V(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(D(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await V(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await V(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Ms("You must provide either an email or phone number and a type")}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await an(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<jo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await an(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Co()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ft}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $t}:await V(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ft})})}catch(n){if(D(n))return hg(n)&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new $t;const o=s.session;let l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=await On(this.storage,this.storageKey));const{data:c,error:d}=await V(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:Ft});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $t;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Eo(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(D(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new $t;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!rt())throw new zs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new zs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new rc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new rc("No code detected.");const{data:f,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const v=new URL(window.location.href);return v.searchParams.delete("code"),window.history.replaceState(window.history.state,"",v.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:u,token_type:c}=e;if(!i||!l||!o||!c)throw new zs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;u&&(m=parseInt(u));const y=m-d;y*1e3<=Rn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const w=m-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,m,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,m,d);const{data:x,error:j}=await this._getUser(i);if(j)throw j;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(D(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await an(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(dg(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=bg(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await On(this.storage,this.storageKey,!0));try{return await V(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(D(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,u,c,d;const{data:h,error:m}=i;if(m)throw m;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await V(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return rt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(D(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await V(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Ng(async s=>(s>0&&await jg(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await V(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:wt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&No(i)&&Date.now()+o-r<Rn})}catch(r){if(this._debug(n,"error",r),D(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),rt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await an(this.storage,this.storageKey);if(s&&this.userStorage){let o=await an(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await $n(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Co()}else if(s&&!s.user&&!s.user){const o=await an(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Rt(this.storage,this.storageKey+"-user"),await $n(this.storage,this.storageKey,s)):s.user=Co()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<jo;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${jo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),No(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new $t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Wi;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new $t;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),D(i)){const o={session:null,error:i};return No(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await $n(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=ac(s);await $n(this.storage,this.storageKey,i)}else{const s=ac(n);await $n(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Rt(this.storage,this.storageKey),await Rt(this.storage,this.storageKey+"-code-verifier"),await Rt(this.storage,this.storageKey+"-user"),this.userStorage&&await Rt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&rt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Rn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Rn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Rn}ms, refresh threshold is ${Tl} ticks`),s<=Tl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof tf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await On(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await V(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:c}=await V(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await V(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(D(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await V(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(D(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Eo(s.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+ug>s)return r;const{data:i,error:o}=await V(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:y,error:w}=await this.getSession();if(w||!y.session)return{data:null,error:w};r=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:u}}=Eo(r);n!=null&&n.allowExpired||Ig(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const d=Lg(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,wg(`${l}.${u}`)))throw new Il("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}}os.nextInstanceID=0;const Qg=os;class Yg extends Qg{constructor(e){super(e)}}var Xg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};class Zg{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const l=sg(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:G0,realtime:Q0,auth:Object.assign(Object.assign({},J0),{storageKey:u}),global:K0},d=rg(r??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=eg(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new p0(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new H0(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new qm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Xg(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:l,lock:u,debug:c},d,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Yg({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:u,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new O0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ev=(t,e,n)=>new Zg(t,e,n);function tv(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}tv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const nv="https://rqairbvsiwohklvsxyre.supabase.co",rv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJxYWlyYnZzaXdvaGtsdnN4eXJlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY5Nzk2NTcsImV4cCI6MjA4MjU1NTY1N30.6Uyi42A_4Pqe1G40qnx4M8ST38XRgh9x8o7mCtiVr18",$=ev(nv,rv),nf=P.createContext(void 0);function sv({children:t}){const[e,n]=P.useState(null),[r,s]=P.useState(!0);P.useEffect(()=>{i();const{data:c}=$.auth.onAuthStateChange(()=>{(async()=>await i())()});return()=>{var d;(d=c==null?void 0:c.subscription)==null||d.unsubscribe()}},[]);const i=async()=>{try{const{data:{user:c}}=await $.auth.getUser();if(c){const{data:d}=await $.from("user_profiles").select("*").eq("id",c.id).maybeSingle();n(d)}else n(null)}catch(c){console.error("Error checking user:",c),n(null)}finally{s(!1)}},o=async(c,d)=>{const{error:h}=await $.auth.signInWithPassword({email:c,password:d});if(h)throw h;await i()},l=async(c,d,h,m,y)=>{const{data:w,error:x}=await $.auth.signUp({email:c,password:d});if(x)throw x;if(!w.user)throw new Error("User creation failed");const{error:j}=await $.from("user_profiles").insert({id:w.user.id,email:c,full_name:h,role:m,client_id:y||null,is_active:!0});if(j)throw j;await i()},u=async()=>{const{error:c}=await $.auth.signOut();if(c)throw c;n(null)};return a.jsx(nf.Provider,{value:{user:e,loading:r,signIn:o,signUp:l,signOut:u},children:t})}function sn(){const t=P.useContext(nf);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),q=(t,e)=>{const n=P.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:u,...c},d)=>P.createElement("svg",{ref:d,...iv,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${ov(t)}`,l].join(" "),...c},[...e.map(([h,m])=>P.createElement(h,m)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=q("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=q("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=q("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=q("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=q("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=q("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=q("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=q("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=q("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=q("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=q("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=q("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=q("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=q("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=q("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=q("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=q("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=q("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=q("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=q("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=q("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=q("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=q("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=q("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=q("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function kv(){const{signIn:t}=sn(),[e,n]=P.useState(""),[r,s]=P.useState(""),[i,o]=P.useState(!1),[l,u]=P.useState(""),c=async d=>{d.preventDefault(),u(""),o(!0);try{await t(e,r)}catch(h){u(h instanceof Error?h.message:"Failed to sign in")}finally{o(!1)}};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-slate-100 flex items-center justify-center p-6",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-full mb-4",children:a.jsx(gc,{className:"w-8 h-8 text-white"})}),a.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Facet Builder Pro"}),a.jsx("p",{className:"text-slate-600",children:"Sign in to your account"})]}),a.jsxs("form",{onSubmit:c,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",id:"email",value:e,onChange:d=>n(d.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"you@company.com",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-2",children:"Password"}),a.jsx("input",{type:"password",id:"password",value:r,onChange:d=>s(d.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"",required:!0})]}),l&&a.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:l}),a.jsx("button",{type:"submit",disabled:i,className:"w-full py-3 px-6 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:i?a.jsxs(a.Fragment,{children:[a.jsx(of,{className:"w-5 h-5 animate-spin"}),"Signing In..."]}):a.jsxs(a.Fragment,{children:[a.jsx(gc,{className:"w-5 h-5"}),"Sign In"]})})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200 text-center text-sm text-slate-600",children:[a.jsx("p",{children:"Demo Credentials:"}),a.jsxs("p",{className:"mt-2 font-mono text-xs",children:["Admin: admin@demo.com / Admin@123",a.jsx("br",{}),"Client: client@demo.com / Client@123"]})]})]})})})}function Sv(){const{user:t}=sn(),[e,n]=P.useState([]),[r,s]=P.useState(""),[i,o]=P.useState(null),[l,u]=P.useState(!1),[c,d]=P.useState(!1),[h,m]=P.useState([]),[y,w]=P.useState(!1);P.useEffect(()=>{j()},[t]);const x=async v=>{if(v){o(v),u(!0),w(!0),m([]);try{const{data:k,error:N}=await $.from("facet_generation_jobs").select("id").eq("project_name",v.project_name);if(N)throw N;const C=(k||[]).map(_=>_.id);if(C.length>0){const{data:_,error:M}=await $.from("recommended_facets").select("*, categories (name)").in("job_id",C).order("sort_order");if(M)throw M;m(_||[])}}catch(k){console.error("Error loading project details:",k)}finally{w(!1)}}},j=async()=>{if(!t)return;const v=$.from("facet_generation_jobs").select("*").order("created_at",{ascending:!1});t.role!=="admin"&&v.eq("client_id",t.client_id);const{data:k}=await v;n(k||[])},g=async()=>{if(!(!r.trim()||!t)){d(!0);try{const{error:v}=await $.from("facet_generation_jobs").insert({client_id:t.client_id||t.id,project_name:r,category_ids:[],status:"pending",created_by:t.id});if(v)throw v;s(""),await j()}catch(v){console.error("Error creating project:",v)}finally{d(!1)}}},f=async v=>{confirm("Are you sure you want to delete this project?")&&(await $.from("facet_generation_jobs").delete().eq("id",v),await j())},p=v=>{switch(v){case"completed":return"bg-green-100 text-green-700";case"processing":return"bg-blue-100 text-blue-700";case"failed":return"bg-red-100 text-red-700";default:return"bg-yellow-100 text-yellow-700"}};return a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Project Management"}),a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6 mb-6",children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Create New Project"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("input",{type:"text",value:r,onChange:v=>s(v.target.value),placeholder:"Enter project name",className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),a.jsxs("button",{onClick:g,disabled:c||!r.trim(),className:"inline-flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a.jsx(dv,{className:"w-5 h-5"}),"Create Project"]})]})]}),a.jsx("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Project Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Categories"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Progress"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Actions"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-200",children:[e.map(v=>a.jsxs("tr",{className:"hover:bg-slate-50",children:[a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-900",children:v.project_name||"Untitled Project"}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p(v.status)}`,children:v.status})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:v.total_categories}),a.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[v.progress,"%"]}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:new Date(v.created_at).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>x(v),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:a.jsx(uv,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>f(v.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:a.jsx(af,{className:"w-4 h-4"})})]})})]},v.id)),e.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-slate-500",children:"No projects yet. Create your first project to get started."})})]})]})}),l&&i&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[a.jsxs("h3",{className:"text-xl font-semibold text-slate-900",children:["Project Details: ",i.project_name||"Untitled Project"]}),a.jsx("button",{onClick:()=>u(!1),className:"p-2 hover:bg-slate-100 rounded-full",children:a.jsx(ls,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto",children:y?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-slate-500",children:"Loading project history..."})}):a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Status"}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p(i.status)}`,children:i.status})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Created"}),a.jsx("p",{className:"text-slate-800",children:new Date(i.created_at).toLocaleDateString()})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Generated Facet History"}),h.length>0?a.jsx("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-slate-600",children:"Category"}),a.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-slate-600",children:"Facet Name"}),a.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-slate-600",children:"Priority"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200",children:h.map(v=>{var k;return a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2 text-sm text-slate-500",children:((k=v.categories)==null?void 0:k.name)||"N/A"}),a.jsx("td",{className:"px-4 py-2 text-sm font-medium text-slate-800",children:v.facet_name}),a.jsx("td",{className:"px-4 py-2 text-sm",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v.priority==="High"?"bg-red-100 text-red-700":v.priority==="Medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:v.priority})})]},v.id)})})]})}):a.jsx("div",{className:"text-center py-8 border-2 border-dashed border-slate-200 rounded-lg",children:a.jsx("p",{className:"text-slate-500",children:"No facets have been generated for this project yet."})})]})]})}),a.jsx("div",{className:"px-6 py-4 bg-slate-50 border-t border-slate-200 flex justify-end",children:a.jsx("button",{onClick:()=>u(!1),className:"px-6 py-2 bg-slate-200 text-slate-800 rounded-lg hover:bg-slate-300",children:"Close"})})]})})]})}function jv(){const{user:t}=sn(),[e,n]=P.useState(null),[r,s]=P.useState(!1),[i,o]=P.useState(null),l=h=>{h.target.files&&h.target.files[0]&&(n(h.target.files[0]),o(null))},u=h=>h.trim().split(`
`).map(y=>{const w=[];let x="",j=!1;for(let g=0;g<y.length;g++){const f=y[g];f==='"'?j=!j:f===","&&!j?(w.push(x.trim()),x=""):x+=f}return w.push(x.trim()),w}),c=async()=>{if(!(!e||!t)){s(!0),o(null);try{const h=await e.text(),m=u(h);if(m.length<2)throw new Error("CSV file is empty or only contains a header.");const y=m[0].map(p=>p.toLowerCase()),w=m.slice(1),x=y.indexOf("breadcrumbs");if(x===-1)throw new Error("CSV must contain a 'breadcrumbs' column.");const j=w.map(p=>{const v=p[x]||"",k=v.split(">").map(_=>_.trim()),N=k.length,C=k[k.length-1]||"";return{client_id:t.client_id||t.id,category_path:v,level:N,name:C,metadata:{}}}).filter(p=>p.name);let g=0,f=0;for(const p of j){const{error:v}=await $.from("categories").insert(p);v?(console.error("Failed to insert category:",p.name,v.message),f++):g++}o({success:g,failed:f}),n(null)}catch(h){console.error("Error uploading categories:",h),alert(`Upload failed: ${h.message}`),o({success:0,failed:dataRows.length||1})}finally{s(!1)}}},d=()=>{const h=`industry_name,level-1,level-2,level-3,level-4,level-5,level-6,level-7,level-8,level-9,level-10,bread_crumbs,end_category
"Marine","Marine Electronics","Gps Chart Plotters","Chart Plotters - Multi Function","","","","","","","","Marine Electronics > Gps Chart Plotters > Chart Plotters - Multi Function","Chart Plotters - Multi Function"
"Hardware","Tools","Power Tools","Drills & Drivers","Cordless Pistol-Grip Drills","","","","","","","Power Tools > Drills & Drivers > Cordless Pistol-Grip Drills","Cordless Pistol-Grip Drills"
"Marine","Kayaks & Watersports","Sup Paddle Boards","Jobe & Red Paddle Sups At Best Prices","","","","","","","","Kayaks & Watersports > Sup Paddle Boards > Jobe & Red Paddle Sups At Best Prices","Jobe & Red Paddle Sups At Best Prices"
`,m=new Blob([h],{type:"text/csv;charset=utf-8;"}),y=URL.createObjectURL(m),w=document.createElement("a");w.href=y,w.download="category-upload-template.csv",document.body.appendChild(w),w.click(),document.body.removeChild(w)};return a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Upload Categories"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Upload CSV File"}),a.jsx("div",{className:"mb-4",children:a.jsxs("label",{className:"block w-full cursor-pointer",children:[a.jsx("div",{className:"flex items-center justify-center w-full h-32 px-4 transition bg-white border-2 border-slate-300 border-dashed rounded-lg hover:border-blue-400",children:a.jsx("div",{className:"text-center",children:e?a.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[a.jsx(sf,{className:"w-6 h-6"}),a.jsx("span",{className:"font-medium",children:e.name})]}):a.jsxs(a.Fragment,{children:[a.jsx(uf,{className:"w-8 h-8 text-slate-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Click to upload or drag and drop"}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"CSV files only"})]})})}),a.jsx("input",{type:"file",accept:".csv",onChange:l,className:"hidden"})]})}),a.jsx("button",{onClick:c,disabled:!e||r,className:"w-full py-3 px-6 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?"Uploading...":"Upload Categories"}),i&&a.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-700 mb-2",children:[a.jsx(La,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Upload Complete"})]}),a.jsxs("p",{className:"text-sm text-slate-600",children:["Successfully uploaded: ",i.success," categories",i.failed>0&&` (${i.failed} failed)`]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"CSV Format Requirements"}),a.jsxs("div",{className:"space-y-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Required Columns:"}),a.jsxs("ul",{className:"list-disc list-inside text-slate-600 space-y-1",children:[a.jsx("li",{children:'Category Path (e.g., "L1 > L2 > L3")'}),a.jsx("li",{children:"Level (1-10)"}),a.jsx("li",{children:"Description (optional)"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Example:"}),a.jsx("div",{className:"bg-slate-50 p-3 rounded font-mono text-xs overflow-x-auto",children:"Marine Safety Equipment > Life Jackets,2,Category"})]}),a.jsxs("button",{onClick:d,className:"inline-flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors",children:[a.jsx(Ra,{className:"w-4 h-4"}),"Download Template"]})]})]})]})]})}const Jn=["Industry Analysis","Geography","Business Rules","Customer Intent","Competitive Analysis","Use Case Scenarios","Seasonal & Trends","Master Prompt"],df=P.createContext(void 0);function Nv({children:t}){const[e,n]=P.useState([]),r=P.useCallback(o=>{n(l=>l.filter(u=>u.id!==o))},[]),s=P.useCallback((o,l,u)=>{const c=Math.random().toString(36).substring(7);if(n([{id:c,message:o,type:l,options:u}]),l!=="confirm"){const h=(u==null?void 0:u.duration)||4e3;setTimeout(()=>{r(c)},h)}},[r]),i={success:(o,l)=>s(o,"success",l),error:(o,l)=>s(o,"error",l),info:(o,l)=>s(o,"info",l),warning:(o,l)=>s(o,"warning",l),confirm:(o,l,u)=>s(o,"confirm",{...u,onConfirm:l}),dismiss:r};return a.jsxs(df.Provider,{value:{toast:i},children:[t,a.jsx(Ev,{toasts:e,dismiss:r})]})}function Ev({toasts:t,dismiss:e}){var o,l;if(t.length===0)return null;const n=t[0],s={success:{icon:La,border:"border-green-500/50",bg:"bg-slate-900/95",text:"text-green-400",glow:"shadow-green-500/20"},error:{icon:rf,border:"border-red-500/50",bg:"bg-slate-900/95",text:"text-red-400",glow:"shadow-red-500/20"},warning:{icon:fc,border:"border-yellow-500/50",bg:"bg-slate-900/95",text:"text-yellow-400",glow:"shadow-yellow-500/20"},info:{icon:fv,border:"border-blue-500/50",bg:"bg-slate-900/95",text:"text-blue-400",glow:"shadow-blue-500/20"},confirm:{icon:fc,border:"border-purple-500/50",bg:"bg-slate-900/95",text:"text-purple-400",glow:"shadow-purple-500/20"}}[n.type],i=s.icon;return a.jsxs("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-[100] flex flex-col items-center justify-center pointer-events-none",children:[a.jsxs("div",{className:`
          pointer-events-auto
          flex items-center gap-4 px-5 py-4 
          rounded-2xl border ${s.border} ${s.bg} backdrop-blur-md
          shadow-xl ${s.glow}
          animate-in slide-in-from-bottom-5 fade-in duration-300
          min-w-[320px] max-w-[90vw]
        `,children:[a.jsx("div",{className:`p-2 rounded-full bg-white/5 ${s.text}`,children:a.jsx(i,{className:"w-5 h-5"})}),a.jsx("div",{className:"flex-1",children:a.jsx("p",{className:"text-sm font-medium text-white",children:n.message})}),n.type==="confirm"?a.jsxs("div",{className:"flex gap-2 ml-2",children:[a.jsx("button",{onClick:()=>{var u;(u=n.options)!=null&&u.onCancel&&n.options.onCancel(),e(n.id)},className:"px-3 py-1.5 text-xs font-medium text-slate-400 hover:text-white hover:bg-white/10 rounded-md transition-colors",children:((o=n.options)==null?void 0:o.cancelText)||"Cancel"}),a.jsx("button",{onClick:()=>{var u,c;(c=(u=n.options)==null?void 0:u.onConfirm)==null||c.call(u),e(n.id)},className:"px-3 py-1.5 text-xs font-bold text-slate-900 bg-white hover:bg-slate-200 rounded-md transition-colors shadow-lg shadow-white/10",children:((l=n.options)==null?void 0:l.confirmText)||"Confirm"})]}):a.jsx("button",{onClick:()=>e(n.id),className:"text-slate-500 hover:text-white transition-colors",children:a.jsx(ls,{className:"w-4 h-4"})})]}),n.type!=="confirm"&&a.jsx("div",{className:"w-full h-1 mt-2 overflow-hidden rounded-full max-w-[300px]",children:a.jsx("div",{className:"h-full bg-white/20 animate-shrink-width",style:{animationDuration:"4s"}})})]})}function $a(){const t=P.useContext(df);if(t===void 0)throw new Error("useToast must be used within a ToastProvider");return t.toast}function Cv(){const t=$a(),{user:e}=sn(),[n,r]=P.useState([]),[s,i]=P.useState(null),[o,l]=P.useState(!1),[u,c]=P.useState(""),[d,h]=P.useState(""),[m,y]=P.useState(!1),[w,x]=P.useState(!1),[j,g]=P.useState({}),[f,p]=P.useState(!1),[v,k]=P.useState([]),[N,C]=P.useState(!1),[_,M]=P.useState(null);P.useState({});const[R,Q]=P.useState(null),[Ye,Ot]=P.useState(Array(5).fill("")),[Nn,At]=P.useState(!1),[me,Oe]=P.useState({name:"",template:"",level:1});P.useEffect(()=>{L()},[e]);const A=async S=>{if(S){i(S),p(!0),C(!0);try{const{data:b,error:T}=await $.from("prompt_versions").select("*").eq("prompt_template_id",S.id).order("version",{ascending:!1});if(T)throw T;k(b||[])}catch(b){console.error("Error loading prompt history:",b),Q("Failed to load version history.")}finally{C(!1)}}},L=async()=>{if(!e)return;Q(null);const S=$.from("prompt_templates").select("*").eq("is_active",!0);e.role!=="admin"&&S.or(`client_id.eq.${e.client_id},client_id.is.null`);const{data:b,error:T}=await S;if(T)console.error("Error loading prompts:",T),Q(`Failed to load prompts: ${T.message}`),r([]);else{const W=(b||[]).sort((O,le)=>{const Z=Jn.indexOf(O.name),ye=Jn.indexOf(le.name);return(Z===-1?1/0:Z)-(ye===-1?1/0:ye)});r(W)}},U=S=>{!s||!e||t.confirm(`Restore v${S.version}? This creates a new version.`,async()=>{l(!0);try{const b=(s.current_version||0)+1,T=S.metadata||s.metadata||{},{error:F}=await $.from("prompt_versions").insert({prompt_template_id:s.id,version:b,template_content:S.template_content,variables:S.variables,edited_by:e.id,metadata:T,change_notes:`Restored from Version ${S.version}`,is_active:!0});if(F)throw F;await $.from("prompt_versions").update({is_active:!1}).eq("prompt_template_id",s.id).neq("version",b);const{error:W}=await $.from("prompt_templates").update({template:S.template_content,current_version:b,metadata:T,updated_at:new Date().toISOString()}).eq("id",s.id);if(W)throw W;t.success(`Restored successfully as v${b}`),p(!1),await L()}catch(b){console.error("Error restoring version",b),t.error(`Failed to restore ${b.message}`)}finally{l(!1)}},{confirmText:"Yes,Restore",cancelText:"Cancel"})},J=async(S,b)=>{if(!S){alert("There is no content to copy.");return}try{await navigator.clipboard.writeText(S),M(b),setTimeout(()=>{M(null)},2e3)}catch(T){console.error("Failed to copy text:",T),alert("Failed to copy content to clipboard.")}},ne=async()=>{if(!me.name.trim()||!me.template.trim()){Q("Prompt name and template content are required.");return}if(e){Q(null),x(!0);try{const{error:S}=await $.from("prompt_templates").insert({name:me.name,template:me.template,type:me.type,level:me.level,client_id:e.client_id,current_version:1});if(S)throw S;At(!1),Oe({name:"",template:"",level:1}),await L()}catch(S){console.error("Error creating prompt:",S),t.error("Prompt created successfully!"),Q(`Failed to create prompt: ${S.message}`)}finally{x(!1)}}},yt=s?(()=>{var S;if(u!==s.template)return!0;if(s.name==="Industry Analysis"){const b=((S=s.metadata)==null?void 0:S.industry_levels)||{};return JSON.stringify(j)!==JSON.stringify(b)}return!1})():!1,Xe=S=>{var b;if(Q(null),i(S),c(S.template),h(""),y(!0),g({}),S.name==="Industry Analysis"){const T=((b=S.metadata)==null?void 0:b.industry_levels)||{};g(T)}Ot(Array(5).fill(""))},on=()=>{const S=Object.keys(j).map(Number),b=S.length>0?Math.max(...S)+1:2;g(T=>({...T,[b]:""}))},Ze=S=>{g(b=>{const T={...b};return delete T[S],T})},It=(S,b)=>{g(T=>({...T,[S]:b}))},qi=async()=>{if(!(!s||!e)){Q(null),x(!0);try{const S=(s.current_version||1)+1;let b=u,T={...s.metadata||{}};await $.from("prompt_versions").insert({prompt_template_id:s.id,version:S,template_content:b,variables:s.variables,edited_by:e.id,change_notes:d,is_active:!0}),await $.from("prompt_versions").update({is_active:!1}).eq("prompt_template_id",s.id).neq("version",S);const F={template:u,current_version:S,updated_at:new Date().toISOString(),metadata:s.metadata||{}};if(s.name==="Industry Analysis"){const le=Object.fromEntries(Object.entries(j).filter(([Z,ye])=>ye.trim()!==""));T.industry_levels=le}const{error:W}=await $.from("prompt_versions").insert({prompt_template_id:s.id,version:S,template_content:b,variables:s.variables,metadata:T,edited_by:e.id,change_notes:d,is_active:!0});if(W)throw W;await $.from("prompt_versions").update({is_active:!1}).eq("prompt_template_id",s.id).neq("version",S);const{error:O}=await $.from("prompt_templates").update({template:b,current_version:S,updated_at:new Date().toISOString(),metadata:T}).eq("id",s.id);if(O)throw O;t.success("New version saved successfully"),y(!1),i(null),await L()}catch(S){t.error(`Save failed: ${S.message}`),console.error("Error saving prompt version:",S),Q(`Save failed: ${S.message}`)}finally{x(!1)}}},Ki=async(S,b)=>{e&&(b?await $.from("master_templates").delete().eq("prompt_template_id",S):await $.from("master_templates").insert({client_id:e.client_id||e.id,prompt_template_id:S,level_start:2,level_end:10,is_master:!0}),await L())},gs=async S=>{const{data:b}=await $.from("master_templates").select("id").eq("prompt_template_id",S).maybeSingle();return!!b};return a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Prompt Template Management"}),!m&&a.jsxs("button",{onClick:()=>At(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(Ll,{className:"w-5 h-5"}),"New Prompt"]})]}),m&&s?a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6 mb-6",children:[a.jsxs("h3",{className:"font-semibold text-slate-900 mb-4",children:["Edit: ",s.name]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:s.name==="Industry Analysis"?"Level 1 Keywords":"Template Content"}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>J(u,"main-content"),className:"text-xs inline-flex items-center gap-1 text-slate-500 hover:text-slate-800",children:[a.jsx(To,{className:"w-3 h-3"})," Copy"]}),_==="main-content"&&a.jsx("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 bg-slate-800 text-white text-xs rounded py-1 px-2",children:"Copied!"})]}),a.jsx("textarea",{value:u,onChange:S=>c(S.target.value),rows:8,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm"})]}),s.name==="Industry Analysis"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Sub-Level Templates"}),a.jsxs("button",{onClick:on,className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors text-sm",children:[a.jsx(Ll,{className:"w-3 h-3"})," Add Level"]})]}),Object.keys(j).length===0&&a.jsx("p",{className:"text-sm text-slate-500 italic mb-4",children:'No sub-levels defined. Click "Add Level" to create additional processing levels.'}),a.jsx("div",{className:"space-y-6",children:Object.entries(j).map(([S,b])=>a.jsxs("div",{className:"border border-slate-200 rounded-lg p-4 relative",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsxs("label",{className:"block text-sm font-medium text-slate-700",children:["Level ",S]}),a.jsx("button",{onClick:()=>Ze(Number(S)),className:"text-red-500 hover:text-red-700",title:"Remove this level",children:a.jsx(ls,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"relative mb-1",children:[a.jsxs("button",{onClick:()=>J(b,`level-${S}`),className:"text-xs inline-flex items-center gap-1 text-slate-500 hover:text-slate-800",children:[a.jsx(To,{className:"w-3 h-3"})," Copy"]}),_===`level-${S}`&&a.jsx("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 bg-slate-800 text-white text-xs rounded py-1 px-2",children:"Copied!"})]}),a.jsx("textarea",{value:b,onChange:T=>It(Number(S),T.target.value),rows:8,placeholder:`Enter template for level ${S}...`,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm"})]},S))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Change Notes"}),a.jsx("input",{type:"text",value:d,onChange:S=>h(S.target.value),placeholder:"Describe what you changed...",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"flex gap-3",children:[yt&&a.jsxs("button",{onClick:qi,disabled:w,className:"inline-flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[a.jsx(vc,{className:"w-4 h-4"}),w?"Saving...":"Save New Version"]}),a.jsx("button",{onClick:()=>{y(!1),Q(null),i(null)},className:"px-6 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors",children:yt?"Cancel":"Close"})]})]}),R&&a.jsxs("div",{className:"bg-red-50 border border-red-200 text-sm text-red-700 px-4 py-3 rounded-lg mb-4",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error: "}),a.jsx("span",{children:R})]})]}):a.jsx("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Level"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Version"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Master Template"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200",children:n.map(S=>a.jsxs("tr",{className:"hover:bg-slate-50",children:[a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-900",children:S.name}),a.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:["Level ",S.level]}),a.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:["v",S.current_version||1]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("button",{onClick:async()=>{const b=await gs(S.id);Ki(S.id,b)},className:"text-yellow-500 hover:text-yellow-600",children:a.jsx(_v,{className:"w-5 h-5"})})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>Xe(S),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:a.jsx(vv,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>A(S),className:"p-1 text-slate-600 hover:bg-slate-50 rounded",children:a.jsx(hv,{className:"w-4 h-4"})})]})})]},S.id))})]})}),a.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"Version Control"}),a.jsx("p",{className:"text-sm text-slate-600",children:"All prompt edits are automatically versioned. The system uses the latest version for facet generation. Mark prompts with Level 2-10 as master templates for comprehensive facet building."})]}),Nn&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full",children:[a.jsx("div",{className:"px-6 py-4 border-b border-slate-200",children:a.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Create New Prompt Template"})}),a.jsxs("div",{className:"p-6 space-y-4",children:[R&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-sm text-red-700 px-4 py-3 rounded-lg",role:"alert",children:R}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Prompt Name"}),a.jsx("input",{type:"text",placeholder:"e.g., 'Technical Specifications'",value:me.name,onChange:S=>Oe({...me,name:S.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Template Content (Level 1)"}),a.jsx("textarea",{rows:8,placeholder:"Enter the main prompt content here...",value:me.template,onChange:S=>Oe({...me,template:S.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg font-mono text-sm focus:ring-2 focus:ring-blue-500"})]}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Level"}),a.jsx("input",{type:"number",min:"1",value:me.level,onChange:S=>Oe({...me,level:parseInt(S.target.value,10)||1}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})})]}),a.jsxs("div",{className:"px-6 py-4 bg-slate-50 border-t border-slate-200 flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>{At(!1),Q(null),Oe({name:"",template:"",level:1})},className:"px-6 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200",children:"Cancel"}),a.jsxs("button",{onClick:ne,disabled:w,className:"inline-flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[a.jsx(vc,{className:"w-4 h-4"}),w?"Creating...":"Create Prompt"]})]})]})}),f&&s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[a.jsxs("h3",{className:"text-xl font-semibold text-slate-900",children:["Version History: ",s.name]}),a.jsx("button",{onClick:()=>p(!1),className:"p-2 hover:bg-slate-100 rounded-full",children:a.jsx(ls,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto",children:N?a.jsx("p",{className:"text-center text-slate-500",children:"Loading history..."}):a.jsxs("div",{className:"space-y-6",children:[v.map((S,b)=>{var F,W;const T=b===0;return a.jsxs("div",{className:`border rounded-lg transition-all ${T?"border-blue-300 ring-1 ring-blue-100":"border-slate-200"}`,children:[a.jsxs("div",{className:"bg-slate-50 p-3 flex justify-between items-center text-sm border-b rounded-t-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"font-semibold text-slate-900",children:["Version ",S.version]}),T?a.jsx("span",{className:"text-xs font-medium bg-green-100 text-green-700 px-2 py-0.5 rounded-full border border-green-200",children:"Current Active"}):a.jsx("span",{className:"text-xs text-slate-500",children:new Date(S.created_at).toLocaleDateString()})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-slate-500 hidden sm:block",children:[a.jsx("span",{className:"font-medium",children:"By:"})," ",((F=S.users)==null?void 0:F.email)||"Unknown"]}),!T&&a.jsxs("button",{onClick:()=>U(S),disabled:o,className:"flex items-center gap-1 text-xs font-medium bg-white border border-slate-300 text-slate-700 px-3 py-1.5 rounded hover:bg-slate-100 hover:text-blue-600 transition-colors shadow-sm",title:"Restore this version",children:[a.jsx(wv,{className:"w-3 h-3"}),o?"Restoring...":"Restore"]})]})]}),a.jsxs("div",{className:"p-4 space-y-3 bg-white rounded-b-lg",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-slate-800 text-xs uppercase tracking-wider mb-1",children:"Change Notes"}),a.jsx("p",{className:"text-sm text-slate-600 italic",children:S.change_notes||"No notes provided."})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold text-slate-800 text-xs uppercase tracking-wider mb-1 flex justify-between",children:[a.jsx("span",{children:"Template Content"}),a.jsxs("button",{onClick:()=>J(S.template_content,`v-${S.version}`),className:"text-blue-600 hover:text-blue-800 normal-case font-normal flex items-center gap-1",children:[a.jsx(To,{className:"w-3 h-3"})," Copy"]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("pre",{className:"bg-slate-50 border border-slate-100 p-3 rounded-md text-xs font-mono whitespace-pre-wrap overflow-x-auto max-h-60",children:S.template_content}),((W=S.metadata)==null?void 0:W.industry_levels)&&Object.keys(S.metadata.industry_levels).length>0&&a.jsxs("div",{className:"mt-3 border-t border-slate-100 pt-3",children:[a.jsx("h4",{className:"font-semibold text-slate-800 text-xs uppercase tracking-wider mb-2",children:"Included Sub-Levels"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Object.keys(S.metadata.industry_levels).map(O=>a.jsxs("span",{className:"text-xs bg-slate-100 text-slate-600 px-2 py-1 rounded border border-slate-200",children:["Level ",O]},O))})]}),_===`v-${S.version}`&&a.jsx("span",{className:"absolute top-2 right-2 bg-slate-800 text-white text-[10px] rounded py-0.5 px-1.5 opacity-90",children:"Copied"})]})]})]})]},S.id)}),v.length===0&&a.jsx("p",{className:"text-center text-slate-500",children:"No version history found."})]})}),a.jsx("div",{className:"px-6 py-4 bg-slate-50 border-t border-slate-200 flex justify-end",children:a.jsx("button",{onClick:()=>p(!1),className:"px-6 py-2 bg-slate-200 text-slate-800 rounded-lg hover:bg-slate-300",children:"Close"})})]})})]})}function Pv({onComplete:t}){const e=$a(),{user:n}=sn(),[r,s]=P.useState({input_taxonomy:"A. Input Taxonomy",end_category:"B. End Category (C3)",facet_name:"C. Filter Attributes",possible_values:"D. Possible Values",filling_percentage:"E. Filling Percentage (Approx.)",priority:"F. Priority (High / Medium / Low)",confidence_score:"G. Confidence Score (110)",num_sources:"H. # of available sources",source_urls:"I. List the sources URL"}),[i,o]=P.useState([]),[l,u]=P.useState([]),[c,d]=P.useState(new Set),[h,m]=P.useState(new Set),[y,w]=P.useState(""),[x,j]=P.useState(""),[g,f]=P.useState(!1);P.useState(!0);const[p,v]=P.useState(!1),[k,N]=P.useState([]),[C,_]=P.useState({}),[M,R]=P.useState(null),[Q,Ye]=P.useState(null),[Ot,Nn]=P.useState({}),[At,me]=P.useState(null),[Oe,A]=P.useState({});P.useMemo(()=>{var T;const b=l.find(F=>F.name==="Geography");if(b&&Array.isArray((T=b.metadata)==null?void 0:T.country_templates)){const F=b.metadata.country_templates.map(W=>W.country);return F.length>1?F:[]}return[]},[l]),P.useEffect(()=>{yt()},[n]);const L=(b,T)=>{A(F=>{const W={...F},O=new Set(W[b]||[]);return O.has(T)?O.delete(T):O.add(T),W[b]=O,W})},U=i.filter(b=>{const T=b.name.toLowerCase().includes(x.toLowerCase())||(b.category_path||"").toLowerCase().includes(x.toLowerCase());return g?T&&c.has(b.id):T}),J=(b,T)=>{A(F=>{const W={...F},O=W[b]||new Set,le=T.map(Z=>Z.id);return O.size===le.length?W[b]=new Set:W[b]=new Set(le),W})},ne=Object.values(Oe).reduce((b,T)=>b+T.size,0),yt=async()=>{if(!n)return;const b=n.role==="admin"?{}:{client_id:n.client_id},[T,F]=await Promise.all([$.from("categories").select("*").match(b).order("category_path"),$.from("prompt_templates").select("*").order("level").eq("is_active",!0).order("execution_order")]),O=(F.data||[]).sort((ye,z)=>{const dt=Jn.indexOf(ye.name),En=Jn.indexOf(z.name);return(dt===-1?1/0:dt)-(En===-1?1/0:En)});o(T.data||[]),u(O);const le=["Industry Analysis","Master Prompt"],Z=O.filter(ye=>le.includes(ye.name)).map(ye=>ye.id);m(new Set(Z))},Xe=b=>{const T=new Set(c);T.has(b)?T.delete(b):T.add(b),d(T)},on=b=>{const T=new Set(h);T.has(b)?(T.delete(b),Nn(F=>{const W={...F};return delete W[b],W})):T.add(b),m(T)},Ze=()=>{c.size===i.length?d(new Set):d(new Set(i.map(b=>b.id)))},It=()=>{h.size===l.length?m(new Set):m(new Set(l.map(b=>b.id)))},qi=async()=>{if(!n)return null;const b=Array.from(c).sort().join(","),T=Array.from(h).sort().join(","),{data:F}=await $.from("facet_generation_jobs").select("*").eq("client_id",n.client_id).eq("status","completed").order("created_at",{ascending:!1}).limit(20);return F?F.find(O=>{const le=(O.category_ids||[]).sort().join(","),Z=(O.selected_prompts||[]).sort().join(",");return le===b&&Z===T}):null},Ki=async b=>{v(!0);try{e.info("Loading existing results.....");const{data:T}=await $.from("recommended_facets").select("*").eq("job_id",b).order("sort_order"),F=T||[];N(F),R(b);const W=F.reduce((O,le)=>{const Z=le.category_id;return O[Z]||(O[Z]=[]),O[Z].push(le),O},{});_(W),e.success("Loaded existing results successfully!")}catch(T){console.error("Error loading existing:",T),e.error("Failed to load existing results.")}finally{v(!1)}},gs=async(b=!1)=>{var F,W;if(c.size===0)return;if(!b){const O=await qi();if(O){const le=new Date(O.created_at).toLocaleDateString();e.confirm(`Idenfical resuls found from ${le}.Load them to save credits?`,()=>{Ki(O.id)},{confirmText:"Load Existing (Free)",cancelText:"Generate New (Cost)",onCancel:()=>{gs(!0)}});return}}if(!n){Ye("You must be logged in to perform this action.");return}const T=n.client_id;if(!T){Ye("Your user profile is not associated with a client. Cannot create job."),v(!1);return}if(c.size!==0){v(!0),Ye(null);try{me(null);for(const B of h){const et=l.find(tt=>tt.id===B)}const O=l.filter(B=>h.has(B.id));O.sort((B,et)=>{const tt=B.name.trim(),gr=et.name.trim();if(tt==="Industry Analysis")return-1;if(gr==="Industry Analysis"||tt==="Master Prompt")return 1;if(gr==="Master Prompt")return-1;const ys=Jn.indexOf(tt),ws=Jn.indexOf(gr);return(ys===-1?999:ys)-(ws===-1?999:ws)});const le=O.map(B=>{if(!B)return null;let et;return B.name==="Industry Analysis"?et=B.template||"":et=B.template,{id:B.id,name:B.name,content:et,metadata:B.metadata}}).filter(B=>B!==null),{data:Z,error:ye}=await $.from("facet_generation_jobs").insert({client_id:T,project_name:y,category_ids:Array.from(c),selected_prompts:Array.from(h),status:"processing",total_categories:c.size,processed_categories:0,created_by:n.id}).select().maybeSingle();if(ye||!Z)throw ye;R(Z.id);const dt=await fetch("https://rqairbvsiwohklvsxyre.supabase.co/functions/v1/generate-facets-ai",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJxYWlyYnZzaXdvaGtsdnN4eXJlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY5Nzk2NTcsImV4cCI6MjA4MjU1NTY1N30.6Uyi42A_4Pqe1G40qnx4M8ST38XRgh9x8o7mCtiVr18","Content-Type":"application/json"},body:JSON.stringify({job_id:Z.id,category_ids:Array.from(c),prompts:le})});if(!dt.ok){const B=await dt.text();throw new Error(`Generation failed with status ${dt.status}: ${B}`)}const En=await dt.json();console.log(" API RESPONSE:",En);const{data:vs}=await $.from("recommended_facets").select("*").eq("job_id",Z.id).order("sort_order"),mr=vs||[];N(mr);const{data:Cn}=await $.from("facet_generation_jobs").select("metadata").eq("id",Z.id).single();if((W=(F=Cn==null?void 0:Cn.metadata)==null?void 0:F.output_format)!=null&&W.columns){const B=Cn.metadata.output_format.columns;s({input_taxonomy:B[0]||"A. Input Taxonomy",end_category:B[1]||"B. End Category (C3)",facet_name:B[2]||"C. Filter Attributes",possible_values:B[3]||"D. Possible Values",filling_percentage:B[4]||"E. Filling Percentage (Approx.)",priority:B[5]||"F. Priority (High / Medium / Low)",confidence_score:B[6]||"G. Confidence Score (110)",num_sources:B[7]||"H. # of available sources",source_urls:B[8]||"I. List the sources URL"})}const Ua=new Map(i.map(B=>[B.id,B.name])),Gi=mr.reduce((B,et)=>{const tt=et.category_id;return B[tt]||(B[tt]=[]),B[tt].push(et),B},{});_(Gi),await $.from("facet_generation_jobs").update({status:"completed",progress:100,processed_categories:c.size,completed_at:new Date().toISOString()}).eq("id",Z.id)}catch(O){console.error("Error generating facets:",O),Ye(`Failed to generate facets: ${O.message}`),M&&await $.from("facet_generation_jobs").update({status:"failed"}).eq("id",M)}finally{v(!1)}}},S=async()=>{const b=new Set(Object.values(Oe).flatMap(z=>Array.from(z)));if(b.size===0){console.log("No facets selected for export.");return}const T=k.filter(z=>b.has(z.id)),F=new Map(i.map(z=>[z.id,z.name])),O=["Input Taxonomy,End Category (C3),Filter Attributes,Possible Values,Filling Percentage (Approx.),Priority (High / Medium / Low),Confidence Score (110),# of available sources,List the sources URL",...T.map(z=>{var za;const dt=((za=i.find(ff=>ff.id===z.category_id))==null?void 0:za.category_path)||"N/A",En=F.get(z.category_id)||"Unknown Category",vs=z["Input Taxonomy"]||z["A. Input Taxonomy"]||dt,mr=z["End Category (C3)"]||z["B. End Category (C3)"]||En,Cn=z.facet_name||z["Filter Attributes"]||z["C. Filter Attributes"]||"",Ua=z.possible_values||z["Possible Values"]||z["D. Possible Values"]||"",Gi=z.filling_percentage||z["Filling Percentage (Approx.)"]||z["E. Filling Percentage (Approx.)"]||0,B=z.priority||z["Priority (High / Medium / Low)"]||z["F. Priority (High / Medium / Low)"]||"Medium",et=z.confidence_score||z["Confidence Score (110)"]||z["G. Confidence Score (110)"]||5,tt=z.num_sources||z["# of available sources"]||z["H. # of available sources"]||0,gr=z.source_urls||z["List the sources URL"]||z["I. List the sources URL"]||"N/A",ys=`"${String(vs).replace(/"/g,'""')}"`,ws=`"${String(mr).replace(/"/g,'""')}"`,Da=`"${String(Cn).replace(/"/g,'""')}"`,Ma=`"${String(Ua).replace(/"/g,'""')}"`,hf=`"${String(gr).replace(/"/g,'""')}"`;return[ys,ws,Da,Ma,Gi,B,et,tt,hf].join(",")})].join(`
`),le=new Blob([O],{type:"text/csv"}),Z=URL.createObjectURL(le),ye=document.createElement("a");ye.href=Z,ye.download=`facets-${y||M}.csv`,ye.click(),URL.revokeObjectURL(Z),await $.from("export_history").insert({job_id:M,category_ids:Array.from(c),format:"csv",exported_by:n==null?void 0:n.id})};if(k.length>0){const b=new Map(i.map(T=>[T.id,T.name]));return a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Generated Facets"}),a.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-6 mb-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"font-semibold text-slate-900",children:[k.length," facets generated"]}),a.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["For ",c.size," categories"]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{disabled:ne===0,onClick:S,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Ra,{className:"w-4 h-4"}),"Export"," ",ne>0?`(${ne})`:""]}),a.jsx("button",{onClick:t,className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors",children:"Back to Dashboard"})]})]})}),a.jsx("div",{className:"space-y-8",children:Object.entries(C).map(([T,F])=>{var W;return a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:[a.jsxs("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-200",children:[a.jsx("h4",{className:"text-lg font-semibold text-slate-900",children:b.get(T)||"Unknown Category"}),a.jsxs("p",{className:"text-sm text-slate-600",children:[F.length," facets"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 w-12 text-left",children:a.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500",checked:(((W=Oe[T])==null?void 0:W.size)||0)===F.length&&F.length>0,onChange:()=>J(T,F)})}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:r.input_taxonomy}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:r.end_category}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:r.facet_name}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:r.possible_values}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:r.filling_percentage}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:r.priority}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:r.confidence_score}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:r.num_sources}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:r.source_urls})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200",children:F.map(O=>{var le;return a.jsxs("tr",{className:"hover:bg-slate-50",children:[a.jsx("td",{className:"px-4 py-4",children:a.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500",checked:(Oe[T]||new Set).has(O.id),onChange:()=>L(T,O.id)})}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 max-w-xs truncate",children:O["Input Taxonomy"]||O["A. Input Taxonomy"]||((le=i.find(Z=>Z.id===T))==null?void 0:le.category_path)||"N/A"}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:O["End Category (C3)"]||O["B. End Category (C3)"]||b.get(T)||"N/A"}),a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-900",children:O.facet_name||O["Filter Attributes"]||O["C. Filter Attributes"]||"N/A"}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 max-w-md truncate",children:O.possible_values||O["Possible Values"]||O["D. Possible Values"]||"N/A"}),a.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[O.filling_percentage||O["Filling Percentage (Approx.)"]||O["E. Filling Percentage (Approx.)"]||0,"%"]}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${(O.priority||O["Priority (High / Medium / Low)"]||O["F. Priority (High / Medium / Low)"])==="High"?"bg-red-100 text-red-700":(O.priority||O["Priority (High / Medium / Low)"]||O["F. Priority (High / Medium / Low)"])==="Medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:O.priority||O["Priority (High / Medium / Low)"]||O["F. Priority (High / Medium / Low)"]||"Medium"})}),a.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[O.confidence_score||O["Confidence Score (110)"]||O["G. Confidence Score (110)"]||5,"/10"]}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:O.num_sources||O["# of available sources"]||O["H. # of available sources"]||0}),a.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 max-w-xs truncate",children:O.source_urls||O["List the sources URL"]||O["I. List the sources URL"]||"N/A"})]},O.id)})})]})})]},T)})})]})}return a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Generate Facets"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden flex flex-col h-[500px]",children:[a.jsxs("div",{className:"p-4 border-b border-slate-200 bg-slate-50 flex flex-col gap-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h3",{className:"font-semibold text-slate-900",children:"Select Categories"}),a.jsxs("span",{className:"bg-blue-100 text-blue-700 text-xs px-2 py-0.5 rounded-full font-medium",children:[c.size," Selected"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>f(!g),className:`text-xs flex items-center gap-1 px-2 py-1 rounded border transition-colors ${g?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-slate-300 text-slate-600 hover:bg-slate-50"}`,children:[a.jsx(cv,{className:"w-3 h-3"}),g?"Show All":"Review Selected"]}),a.jsx("button",{onClick:Ze,className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:c.size===i.length?"Deselect All":"Select All"})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(yc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),a.jsx("input",{type:"text",placeholder:"Search categories...",value:x,onChange:b=>j(b.target.value),className:"w-full pl-9 pr-8 py-2 text-sm border border-slate-300 rounded-md focus:ring-1 focus:ring-blue-500 focus:border-blue-500"}),x&&a.jsx("button",{onClick:()=>j(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:a.jsx(ls,{className:"w-3 h-3"})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:U.length>0?U.map(b=>a.jsxs("button",{onClick:()=>Xe(b.id),className:`
                    w-full flex items-start gap-3 p-3 rounded-lg transition-all text-left group
                    ${c.has(b.id)?"bg-blue-50 border border-blue-100":"hover:bg-slate-50 border border-transparent"}
                  `,children:[a.jsx("div",{className:"mt-0.5",children:c.has(b.id)?a.jsx(pc,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}):a.jsx(wc,{className:"w-5 h-5 text-slate-300 group-hover:text-slate-400 flex-shrink-0"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:`text-sm font-medium truncate ${c.has(b.id)?"text-blue-900":"text-slate-900"}`,children:b.name}),a.jsx("p",{className:"text-xs text-slate-500 truncate",title:b.category_path,children:b.category_path})]})]},b.id)):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-500",children:[a.jsx(yc,{className:"w-8 h-8 mb-2 opacity-20"}),a.jsx("p",{className:"text-sm",children:"No categories found."}),g&&a.jsx("button",{onClick:()=>f(!1),className:"mt-2 text-xs text-blue-600 hover:underline",children:"View all categories"})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"font-semibold text-slate-900",children:["Select Prompts (",h.size,")"]}),a.jsx("button",{onClick:It,className:"text-sm text-blue-600 hover:text-blue-700",children:h.size===l.length?"Deselect All":"Select All"})]}),At&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 text-sm text-yellow-800 px-4 py-2 rounded-lg mb-4",role:"alert",children:At}),a.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:l.map(b=>a.jsx("div",{className:"p-3 hover:bg-slate-50 rounded-lg transition-colors",children:a.jsxs("button",{onClick:()=>on(b.id),className:"w-full flex items-center gap-3 text-left",children:[h.has(b.id)?a.jsx(pc,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}):a.jsx(wc,{className:"w-5 h-5 text-slate-400 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-slate-900",children:b.name}),a.jsxs("p",{className:"text-xs text-slate-500",children:["Level ",b.level,"  ",b.type]})]})]})},b.id))})]})]}),Q&&a.jsxs("div",{className:"text-center bg-red-50 border border-red-200 text-sm text-red-700 px-4 py-3 rounded-lg mb-4 max-w-4xl mx-auto",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"An error occurred: "}),a.jsx("span",{children:Q})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx("button",{onClick:()=>gs(!1),disabled:p||c.size===0,className:"inline-flex items-center gap-2 px-8 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:p?a.jsxs(a.Fragment,{children:[a.jsx(lf,{className:"w-5 h-5 animate-spin"}),"Generating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(yv,{className:"w-5 h-5"}),"Generate Facets"]})})})]})}function Tv(){const{user:t}=sn(),e=$a();P.useEffect(()=>{console.log("Current User:",t),console.log("User Role:",t==null?void 0:t.role)},[t]);const[n,r]=P.useState("list"),[s,i]=P.useState(null),[o,l]=P.useState(""),[u,c]=P.useState([]),[d,h]=P.useState([]),[m,y]=P.useState(""),[w,x]=P.useState(""),[j,g]=P.useState("client_user"),[f,p]=P.useState(!1);P.useEffect(()=>{(t==null?void 0:t.role)==="super_admin"&&v()},[t]);const v=async()=>{const{data:_,error:M}=await $.from("clients").select("*").order("created_at",{ascending:!1});M?e.error("Failed to load clients"):c(_||[])},k=async()=>{if(m.trim()){p(!0);try{const{error:_}=await $.from("clients").insert({name:m.trim(),contact_email:o.trim()||null,is_active:!0,created_by:t==null?void 0:t.id});if(_){if(_.code==="23505"){if(_.message.includes("unique_client_name"))throw new Error("A client with this company name already exists.");if(_.message.includes("unique_contact_email"))throw new Error("This contact email is already associated with another client.")}throw _}e.success("Client created successfully"),y(""),l(""),v()}catch(_){console.error(_),e.error(_.message)}finally{p(!1)}}},N=async _=>{i(_),r("details"),h([]);const{data:M,error:R}=await $.from("profiles").select("*").eq("client_id",_.id);if(R){e.error("Failed to load users"),console.error(R);return}h(M||[])},C=async()=>{if(!(!w.trim()||!s)){p(!0);try{const _=await fetch("https://rqairbvsiwohklvsxyre.supabase.co/functions/v1/invite-user",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJxYWlyYnZzaXdvaGtsdnN4eXJlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY5Nzk2NTcsImV4cCI6MjA4MjU1NTY1N30.6Uyi42A_4Pqe1G40qnx4M8ST38XRgh9x8o7mCtiVr18","Content-Type":"application/json"},body:JSON.stringify({email:w,role:j,client_id:s.id,full_name:w.split("@")[0]})}),M=await _.json();if(!_.ok)throw new Error(M.error);e.success(`Invitation sent to ${w}`),x("");const{data:R}=await $.from("profiles").select("*").eq("client_id",s.id);h(R||[])}catch(_){console.error(_),e.error(`Invite failed: ${_.message}`)}finally{p(!1)}}};return(t==null?void 0:t.role)!=="super_admin"&&(t==null?void 0:t.role)!=="admin"?a.jsx("div",{className:"p-8 text-center text-slate-500",children:"Access Denied"}):n==="list"?a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Client Management"}),a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6 mb-6",children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Add New Client"}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsx("input",{type:"text",value:m,onChange:_=>y(_.target.value),placeholder:"Company Name",className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),a.jsx("input",{type:"email",value:o,onChange:_=>l(_.target.value),placeholder:"Contact Email (Optional)",className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),a.jsxs("button",{onClick:k,disabled:f||!m,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[a.jsx(Ll,{className:"w-5 h-5 inline mr-2"})," Create"]})]})]}),a.jsx("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Company"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Date Added"}),a.jsx("th",{className:"px-6 py-3 text-right text-sm font-semibold text-slate-900",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-200",children:u.map(_=>a.jsxs("tr",{className:"hover:bg-slate-50",children:[a.jsx("td",{className:"px-6 py-4 font-medium text-slate-900",children:_.name}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:_.is_active?"Active":"Inactive"})}),a.jsx("td",{className:"px-6 py-4 text-slate-500 text-sm",children:new Date(_.created_at).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("button",{onClick:()=>N(_),className:"text-blue-600 hover:text-blue-800 text-sm font-medium inline-flex items-center gap-1",children:[a.jsx(cf,{className:"w-4 h-4"})," Manage Users"]})})]},_.id))})]})})]}):a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>{r("list"),i(null),h([])},className:"flex items-center gap-2 text-slate-500 hover:text-slate-800 mb-6",children:[a.jsx(lv,{className:"w-4 h-4"})," Back to Clients"]}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:s==null?void 0:s.name}),a.jsx("p",{className:"text-slate-500",children:"User Management"})]}),a.jsxs("span",{className:"bg-slate-100 text-slate-600 px-3 py-1 rounded-full text-xs font-mono",children:["ID: ",s==null?void 0:s.id]})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6 mb-6",children:[a.jsxs("h3",{className:"font-semibold text-slate-900 mb-4 flex items-center gap-2",children:[a.jsx(gv,{className:"w-4 h-4 text-blue-600"})," Invite New User"]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsx("input",{type:"email",value:w,onChange:_=>x(_.target.value),placeholder:"User Email Address",className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500"}),a.jsxs("select",{value:j,onChange:_=>g(_.target.value),className:"px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white",children:[a.jsx("option",{value:"client_user",children:"Regular User"}),a.jsx("option",{value:"client_admin",children:"Client Admin"})]}),a.jsx("button",{onClick:C,disabled:f||!w,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 whitespace-nowrap",children:"Send Invite"})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"The user will receive an email to set their password."})]}),a.jsx("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Email / User"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-sm font-semibold text-slate-900",children:"Actions"})]})}),a.jsxs("tbody",{className:"divide-y divide-slate-200",children:[d.map(_=>a.jsxs("tr",{className:"hover:bg-slate-50",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"font-medium text-slate-900",children:_.email}),a.jsx("div",{className:"text-xs text-slate-500",children:_.full_name||"Pending Accept"})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${_.role==="client_admin"?"bg-purple-100 text-purple-700":"bg-slate-100 text-slate-700"}`,children:[_.role==="client_admin"&&a.jsx(xv,{className:"w-3 h-3"}),_.role==="client_admin"?"Admin":"User"]})}),a.jsx("td",{className:"px-6 py-4 text-sm",children:a.jsx("span",{className:"text-green-600",children:"Active"})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsx("button",{className:"text-red-600 hover:text-red-800 p-1",children:a.jsx(af,{className:"w-4 h-4"})})})]},_.id)),d.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"px-6 py-8 text-center text-slate-500",children:"No users found for this client."})})]})]})})]})}function Ov(){const{user:t,signOut:e}=sn(),[n,r]=P.useState("dashboard"),[s,i]=P.useState({facets_recommended:0,jobs_in_progress:0,jobs_yet_to_start:0,pending_categories:0,downloads:0,total_projects:0});P.useEffect(()=>{o()},[t]);const o=async()=>{var f,p,v;if(!t)return;const c=t.role==="super_admin"?{}:{client_id:t.client_id},[d,h,m,y]=await Promise.all([$.from("facet_generation_jobs").select("status").match(c),$.from("categories").select("id").match(c),$.from("export_history").select("id").match(c),$.from("facet_generation_jobs").select("id").match(c)]),w=d.data||[],x=w.filter(k=>k.status==="completed").length,j=w.filter(k=>k.status==="processing").length,g=w.filter(k=>k.status==="pending").length;i({facets_recommended:x,jobs_in_progress:j,jobs_yet_to_start:g,pending_categories:((f=h.data)==null?void 0:f.length)||0,downloads:((p=m.data)==null?void 0:p.length)||0,total_projects:((v=y.data)==null?void 0:v.length)||0})},l=[{id:"dashboard",label:"Dashboard",icon:pv},{id:"projects",label:"Projects",icon:mc},{id:"upload",label:"Upload Categories",icon:uf},{id:"prompts",label:"Prompt Templates",icon:sf},{id:"generate",label:"Generate Facets",icon:lf}];(t==null?void 0:t.role)==="super_admin"&&l.push({id:"clients",label:"Manage Clients",icon:cf});const u=()=>{switch(n){case"dashboard":return a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:(t==null?void 0:t.role)==="super_admin"?"Admin Dashboard":"Dashboard"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:a.jsx(La,{className:"w-6 h-6 text-green-600"})}),a.jsx("span",{className:"text-3xl font-bold text-slate-900",children:s.facets_recommended})]}),a.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Facets Recommended"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Successfully generated"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(bv,{className:"w-6 h-6 text-blue-600"})}),a.jsx("span",{className:"text-3xl font-bold text-slate-900",children:s.jobs_in_progress})]}),a.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"In Progress"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Currently processing"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:a.jsx(av,{className:"w-6 h-6 text-yellow-600"})}),a.jsx("span",{className:"text-3xl font-bold text-slate-900",children:s.jobs_yet_to_start})]}),a.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Yet to Start"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Pending jobs"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"p-3 bg-slate-100 rounded-lg",children:a.jsx(rf,{className:"w-6 h-6 text-slate-600"})}),a.jsx("span",{className:"text-3xl font-bold text-slate-900",children:s.pending_categories})]}),a.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Categories"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Total uploaded"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:a.jsx(Ra,{className:"w-6 h-6 text-indigo-600"})}),a.jsx("span",{className:"text-3xl font-bold text-slate-900",children:s.downloads})]}),a.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Downloaded Outputs"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Export history"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:a.jsx(mc,{className:"w-6 h-6 text-purple-600"})}),a.jsx("span",{className:"text-3xl font-bold text-slate-900",children:s.total_projects})]}),a.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Total Projects"}),a.jsx("p",{className:"text-sm text-slate-600",children:"All time"})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[a.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Quick Actions"}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsx("button",{onClick:()=>r("projects"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create New Project"}),a.jsx("button",{onClick:()=>r("upload"),className:"px-4 py-2 bg-white border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Upload Categories"}),a.jsx("button",{onClick:()=>r("generate"),className:"px-4 py-2 bg-white border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Generate Facets"})]})]})]});case"projects":return a.jsx(Sv,{});case"upload":return a.jsx(jv,{});case"prompts":return a.jsx(Cv,{});case"generate":return a.jsx(Pv,{onComplete:()=>r("dashboard")});case"clients":return(t==null?void 0:t.role)==="super_admin"?a.jsx(Tv,{}):null;default:return null}};return a.jsxs("div",{className:"min-h-screen bg-slate-50 flex",children:[a.jsxs("aside",{className:"w-64 bg-white border-r border-slate-200",children:[a.jsxs("div",{className:"p-6 border-b border-slate-200",children:[a.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"Facet Builder Pro"}),a.jsx("p",{className:"text-sm text-slate-600 mt-1",children:t==null?void 0:t.email}),(t==null?void 0:t.role)==="super_admin"&&a.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-purple-100 text-purple-700 text-xs font-medium rounded",children:"Super Admin"}),(t==null?void 0:t.role)==="client_admin"&&a.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded",children:"Client Admin"})]}),a.jsx("nav",{className:"p-4",children:l.map(c=>{const d=c.icon;return a.jsxs("button",{onClick:()=>r(c.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg mb-1 transition-colors ${n===c.id?"bg-blue-50 text-blue-700 font-medium":"text-slate-700 hover:bg-slate-50"}`,children:[a.jsx(d,{className:"w-5 h-5"}),c.label]},c.id)})}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 w-64 p-4 border-t border-slate-200",children:a.jsxs("button",{onClick:e,className:"w-full flex items-center gap-3 px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[a.jsx(mv,{className:"w-5 h-5"}),"Sign Out"]})})]}),a.jsx("main",{className:"flex-1 p-8 overflow-auto",children:u()})]})}function Av(){const{user:t,loading:e}=sn();return e?a.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(of,{className:"w-8 h-8 text-blue-600 animate-spin mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600",children:"Loading..."})]})}):t?a.jsx(Ov,{}):a.jsx(kv,{})}Ah(document.getElementById("root")).render(a.jsx(P.StrictMode,{children:a.jsx(sv,{children:a.jsx(Nv,{children:a.jsx(Av,{})})})}));
