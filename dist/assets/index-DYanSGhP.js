(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Je=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Zu={exports:{}},fi={},ec={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zr=Symbol.for("react.element"),Vh=Symbol.for("react.portal"),Wh=Symbol.for("react.fragment"),qh=Symbol.for("react.strict_mode"),Kh=Symbol.for("react.profiler"),Gh=Symbol.for("react.provider"),Jh=Symbol.for("react.context"),Qh=Symbol.for("react.forward_ref"),Yh=Symbol.for("react.suspense"),Xh=Symbol.for("react.memo"),Zh=Symbol.for("react.lazy"),ka=Symbol.iterator;function ef(t){return t===null||typeof t!="object"?null:(t=ka&&t[ka]||t["@@iterator"],typeof t=="function"?t:null)}var tc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nc=Object.assign,rc={};function rr(t,e,n){this.props=t,this.context=e,this.refs=rc,this.updater=n||tc}rr.prototype.isReactComponent={};rr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sc(){}sc.prototype=rr.prototype;function kl(t,e,n){this.props=t,this.context=e,this.refs=rc,this.updater=n||tc}var Sl=kl.prototype=new sc;Sl.constructor=kl;nc(Sl,rr.prototype);Sl.isPureReactComponent=!0;var Sa=Array.isArray,ic=Object.prototype.hasOwnProperty,bl={current:null},oc={key:!0,ref:!0,__self:!0,__source:!0};function lc(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)ic.call(e,r)&&!oc.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Zr,type:t,key:i,ref:o,props:s,_owner:bl.current}}function tf(t,e){return{$$typeof:Zr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zr}function nf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ba=/\/+/g;function Li(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nf(""+t.key):e.toString(36)}function Ts(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Zr:case Vh:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Li(o,0):r,Sa(s)?(n="",t!=null&&(n=t.replace(ba,"$&/")+"/"),Ts(s,e,n,"",function(c){return c})):s!=null&&(jl(s)&&(s=tf(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ba,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Sa(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+Li(i,l);o+=Ts(i,e,n,a,s)}else if(a=ef(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+Li(i,l++),o+=Ts(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function as(t,e,n){if(t==null)return t;var r=[],s=0;return Ts(t,r,"","",function(i){return e.call(n,i,s++)}),r}function rf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Te={current:null},Ps={transition:null},sf={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:Ps,ReactCurrentOwner:bl};function ac(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:as,forEach:function(t,e,n){as(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return as(t,function(){e++}),e},toArray:function(t){return as(t,function(e){return e})||[]},only:function(t){if(!jl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};H.Component=rr;H.Fragment=Wh;H.Profiler=Kh;H.PureComponent=kl;H.StrictMode=qh;H.Suspense=Yh;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sf;H.act=ac;H.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=nc({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=bl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)ic.call(e,a)&&!oc.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Zr,type:t.type,key:s,ref:i,props:r,_owner:o}};H.createContext=function(t){return t={$$typeof:Jh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Gh,_context:t},t.Consumer=t};H.createElement=lc;H.createFactory=function(t){var e=lc.bind(null,t);return e.type=t,e};H.createRef=function(){return{current:null}};H.forwardRef=function(t){return{$$typeof:Qh,render:t}};H.isValidElement=jl;H.lazy=function(t){return{$$typeof:Zh,_payload:{_status:-1,_result:t},_init:rf}};H.memo=function(t,e){return{$$typeof:Xh,type:t,compare:e===void 0?null:e}};H.startTransition=function(t){var e=Ps.transition;Ps.transition={};try{t()}finally{Ps.transition=e}};H.unstable_act=ac;H.useCallback=function(t,e){return Te.current.useCallback(t,e)};H.useContext=function(t){return Te.current.useContext(t)};H.useDebugValue=function(){};H.useDeferredValue=function(t){return Te.current.useDeferredValue(t)};H.useEffect=function(t,e){return Te.current.useEffect(t,e)};H.useId=function(){return Te.current.useId()};H.useImperativeHandle=function(t,e,n){return Te.current.useImperativeHandle(t,e,n)};H.useInsertionEffect=function(t,e){return Te.current.useInsertionEffect(t,e)};H.useLayoutEffect=function(t,e){return Te.current.useLayoutEffect(t,e)};H.useMemo=function(t,e){return Te.current.useMemo(t,e)};H.useReducer=function(t,e,n){return Te.current.useReducer(t,e,n)};H.useRef=function(t){return Te.current.useRef(t)};H.useState=function(t){return Te.current.useState(t)};H.useSyncExternalStore=function(t,e,n){return Te.current.useSyncExternalStore(t,e,n)};H.useTransition=function(){return Te.current.useTransition()};H.version="18.3.1";ec.exports=H;var O=ec.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var of=O,lf=Symbol.for("react.element"),af=Symbol.for("react.fragment"),uf=Object.prototype.hasOwnProperty,cf=of.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,df={key:!0,ref:!0,__self:!0,__source:!0};function uc(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)uf.call(e,r)&&!df.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:lf,type:t,key:i,ref:o,props:s,_owner:cf.current}}fi.Fragment=af;fi.jsx=uc;fi.jsxs=uc;Zu.exports=fi;var u=Zu.exports,cc={exports:{}},He={},dc={exports:{}},hc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,L){var U=T.length;T.push(L);e:for(;0<U;){var Z=U-1>>>1,N=T[Z];if(0<s(N,L))T[Z]=L,T[U]=N,U=Z;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var L=T[0],U=T.pop();if(U!==L){T[0]=U;e:for(var Z=0,N=T.length,I=N>>>1;Z<I;){var z=2*(Z+1)-1,V=T[z],q=z+1,ce=T[q];if(0>s(V,U))q<N&&0>s(ce,V)?(T[Z]=ce,T[q]=U,Z=q):(T[Z]=V,T[z]=U,Z=z);else if(q<N&&0>s(ce,U))T[Z]=ce,T[q]=U,Z=q;else break e}}return L}function s(T,L){var U=T.sortIndex-L.sortIndex;return U!==0?U:T.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],c=[],d=1,h=null,m=3,v=!1,w=!1,x=!1,j=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(T){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=T)r(c),L.sortIndex=L.expirationTime,e(a,L);else break;L=n(c)}}function y(T){if(x=!1,p(T),!w)if(n(a)!==null)w=!0,at(_);else{var L=n(c);L!==null&&Ct(y,L.startTime-T)}}function _(T,L){w=!1,x&&(x=!1,g(C),C=-1),v=!0;var U=m;try{for(p(L),h=n(a);h!==null&&(!(h.expirationTime>L)||T&&!X());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,m=h.priorityLevel;var N=Z(h.expirationTime<=L);L=t.unstable_now(),typeof N=="function"?h.callback=N:h===n(a)&&r(a),p(L)}else r(a);h=n(a)}if(h!==null)var I=!0;else{var z=n(c);z!==null&&Ct(y,z.startTime-L),I=!1}return I}finally{h=null,m=U,v=!1}}var k=!1,E=null,C=-1,K=5,$=-1;function X(){return!(t.unstable_now()-$<K)}function De(){if(E!==null){var T=t.unstable_now();$=T;var L=!0;try{L=E(!0,T)}finally{L?Oe():(k=!1,E=null)}}else k=!1}var Oe;if(typeof f=="function")Oe=function(){f(De)};else if(typeof MessageChannel<"u"){var Xe=new MessageChannel,ar=Xe.port2;Xe.port1.onmessage=De,Oe=function(){ar.postMessage(null)}}else Oe=function(){j(De,0)};function at(T){E=T,k||(k=!0,Oe())}function Ct(T,L){C=j(function(){T(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,at(_))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(T){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var U=m;m=L;try{return T()}finally{m=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,L){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var U=m;m=T;try{return L()}finally{m=U}},t.unstable_scheduleCallback=function(T,L,U){var Z=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Z+U:Z):U=Z,T){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=U+N,T={id:d++,callback:L,priorityLevel:T,startTime:U,expirationTime:N,sortIndex:-1},U>Z?(T.sortIndex=U,e(c,T),n(a)===null&&T===n(c)&&(x?(g(C),C=-1):x=!0,Ct(y,U-Z))):(T.sortIndex=N,e(a,T),w||v||(w=!0,at(_))),T},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(T){var L=m;return function(){var U=m;m=L;try{return T.apply(this,arguments)}finally{m=U}}}})(hc);dc.exports=hc;var hf=dc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ff=O,Be=hf;function S(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fc=new Set,Lr={};function yn(t,e){Jn(t,e),Jn(t+"Capture",e)}function Jn(t,e){for(Lr[t]=e,t=0;t<e.length;t++)fc.add(e[t])}var St=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yo=Object.prototype.hasOwnProperty,pf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ja={},Ea={};function mf(t){return yo.call(Ea,t)?!0:yo.call(ja,t)?!1:pf.test(t)?Ea[t]=!0:(ja[t]=!0,!1)}function gf(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vf(t,e,n,r){if(e===null||typeof e>"u"||gf(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pe(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var _e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_e[t]=new Pe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_e[e]=new Pe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_e[t]=new Pe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_e[t]=new Pe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_e[t]=new Pe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_e[t]=new Pe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_e[t]=new Pe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_e[t]=new Pe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_e[t]=new Pe(t,5,!1,t.toLowerCase(),null,!1,!1)});var El=/[\-:]([a-z])/g;function Nl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(El,Nl);_e[e]=new Pe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(El,Nl);_e[e]=new Pe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(El,Nl);_e[e]=new Pe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_e[t]=new Pe(t,1,!1,t.toLowerCase(),null,!1,!1)});_e.xlinkHref=new Pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_e[t]=new Pe(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cl(t,e,n,r){var s=_e.hasOwnProperty(e)?_e[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vf(e,n,s,r)&&(n=null),r||s===null?mf(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Nt=ff.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,us=Symbol.for("react.element"),Pn=Symbol.for("react.portal"),On=Symbol.for("react.fragment"),Tl=Symbol.for("react.strict_mode"),wo=Symbol.for("react.profiler"),pc=Symbol.for("react.provider"),mc=Symbol.for("react.context"),Pl=Symbol.for("react.forward_ref"),xo=Symbol.for("react.suspense"),_o=Symbol.for("react.suspense_list"),Ol=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),gc=Symbol.for("react.offscreen"),Na=Symbol.iterator;function ur(t){return t===null||typeof t!="object"?null:(t=Na&&t[Na]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,$i;function yr(t){if($i===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$i=e&&e[1]||""}return`
`+$i+t}var Ui=!1;function Di(t,e){if(!t||Ui)return"";Ui=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Ui=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yr(t):""}function yf(t){switch(t.tag){case 5:return yr(t.type);case 16:return yr("Lazy");case 13:return yr("Suspense");case 19:return yr("SuspenseList");case 0:case 2:case 15:return t=Di(t.type,!1),t;case 11:return t=Di(t.type.render,!1),t;case 1:return t=Di(t.type,!0),t;default:return""}}function ko(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case On:return"Fragment";case Pn:return"Portal";case wo:return"Profiler";case Tl:return"StrictMode";case xo:return"Suspense";case _o:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case mc:return(t.displayName||"Context")+".Consumer";case pc:return(t._context.displayName||"Context")+".Provider";case Pl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ol:return e=t.displayName||null,e!==null?e:ko(t.type)||"Memo";case Rt:e=t._payload,t=t._init;try{return ko(t(e))}catch{}}return null}function wf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ko(e);case 8:return e===Tl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xf(t){var e=vc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function cs(t){t._valueTracker||(t._valueTracker=xf(t))}function yc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=vc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Fs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function So(t,e){var n=e.checked;return ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ca(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function wc(t,e){e=e.checked,e!=null&&Cl(t,"checked",e,!1)}function bo(t,e){wc(t,e);var n=Gt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jo(t,e.type,n):e.hasOwnProperty("defaultValue")&&jo(t,e.type,Gt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ta(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jo(t,e,n){(e!=="number"||Fs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var wr=Array.isArray;function Hn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Eo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(S(91));return ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Pa(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(S(92));if(wr(n)){if(1<n.length)throw Error(S(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gt(n)}}function xc(t,e){var n=Gt(e.value),r=Gt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Oa(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _c(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function No(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_c(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ds,kc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ds=ds||document.createElement("div"),ds.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ds.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $r(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Sr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_f=["Webkit","ms","Moz","O"];Object.keys(Sr).forEach(function(t){_f.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Sr[e]=Sr[t]})});function Sc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Sr.hasOwnProperty(t)&&Sr[t]?(""+e).trim():e+"px"}function bc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Sc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var kf=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Co(t,e){if(e){if(kf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(S(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(S(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(S(61))}if(e.style!=null&&typeof e.style!="object")throw Error(S(62))}}function To(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Po=null;function Al(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oo=null,Vn=null,Wn=null;function Aa(t){if(t=ns(t)){if(typeof Oo!="function")throw Error(S(280));var e=t.stateNode;e&&(e=yi(e),Oo(t.stateNode,t.type,e))}}function jc(t){Vn?Wn?Wn.push(t):Wn=[t]:Vn=t}function Ec(){if(Vn){var t=Vn,e=Wn;if(Wn=Vn=null,Aa(t),e)for(t=0;t<e.length;t++)Aa(e[t])}}function Nc(t,e){return t(e)}function Cc(){}var Mi=!1;function Tc(t,e,n){if(Mi)return t(e,n);Mi=!0;try{return Nc(t,e,n)}finally{Mi=!1,(Vn!==null||Wn!==null)&&(Cc(),Ec())}}function Ur(t,e){var n=t.stateNode;if(n===null)return null;var r=yi(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(S(231,e,typeof n));return n}var Ao=!1;if(St)try{var cr={};Object.defineProperty(cr,"passive",{get:function(){Ao=!0}}),window.addEventListener("test",cr,cr),window.removeEventListener("test",cr,cr)}catch{Ao=!1}function Sf(t,e,n,r,s,i,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var br=!1,Bs=null,Hs=!1,Ro=null,bf={onError:function(t){br=!0,Bs=t}};function jf(t,e,n,r,s,i,o,l,a){br=!1,Bs=null,Sf.apply(bf,arguments)}function Ef(t,e,n,r,s,i,o,l,a){if(jf.apply(this,arguments),br){if(br){var c=Bs;br=!1,Bs=null}else throw Error(S(198));Hs||(Hs=!0,Ro=c)}}function wn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Pc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ra(t){if(wn(t)!==t)throw Error(S(188))}function Nf(t){var e=t.alternate;if(!e){if(e=wn(t),e===null)throw Error(S(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ra(s),t;if(i===r)return Ra(s),e;i=i.sibling}throw Error(S(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(S(189))}}if(n.alternate!==r)throw Error(S(190))}if(n.tag!==3)throw Error(S(188));return n.stateNode.current===n?t:e}function Oc(t){return t=Nf(t),t!==null?Ac(t):null}function Ac(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ac(t);if(e!==null)return e;t=t.sibling}return null}var Rc=Be.unstable_scheduleCallback,Ia=Be.unstable_cancelCallback,Cf=Be.unstable_shouldYield,Tf=Be.unstable_requestPaint,le=Be.unstable_now,Pf=Be.unstable_getCurrentPriorityLevel,Rl=Be.unstable_ImmediatePriority,Ic=Be.unstable_UserBlockingPriority,Vs=Be.unstable_NormalPriority,Of=Be.unstable_LowPriority,Lc=Be.unstable_IdlePriority,pi=null,ft=null;function Af(t){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(pi,t,void 0,(t.current.flags&128)===128)}catch{}}var it=Math.clz32?Math.clz32:Lf,Rf=Math.log,If=Math.LN2;function Lf(t){return t>>>=0,t===0?32:31-(Rf(t)/If|0)|0}var hs=64,fs=4194304;function xr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ws(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=xr(l):(i&=o,i!==0&&(r=xr(i)))}else o=n&~s,o!==0?r=xr(o):i!==0&&(r=xr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-it(e),s=1<<n,r|=t[n],e&=~s;return r}function $f(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uf(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-it(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=$f(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function Io(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $c(){var t=hs;return hs<<=1,!(hs&4194240)&&(hs=64),t}function zi(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function es(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-it(e),t[e]=n}function Df(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-it(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Il(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-it(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var G=0;function Uc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Dc,Ll,Mc,zc,Fc,Lo=!1,ps=[],zt=null,Ft=null,Bt=null,Dr=new Map,Mr=new Map,Lt=[],Mf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function La(t,e){switch(t){case"focusin":case"focusout":zt=null;break;case"dragenter":case"dragleave":Ft=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":Dr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mr.delete(e.pointerId)}}function dr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ns(e),e!==null&&Ll(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function zf(t,e,n,r,s){switch(e){case"focusin":return zt=dr(zt,t,e,n,r,s),!0;case"dragenter":return Ft=dr(Ft,t,e,n,r,s),!0;case"mouseover":return Bt=dr(Bt,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Dr.set(i,dr(Dr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Mr.set(i,dr(Mr.get(i)||null,t,e,n,r,s)),!0}return!1}function Bc(t){var e=an(t.target);if(e!==null){var n=wn(e);if(n!==null){if(e=n.tag,e===13){if(e=Pc(n),e!==null){t.blockedOn=e,Fc(t.priority,function(){Mc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Os(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$o(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Po=r,n.target.dispatchEvent(r),Po=null}else return e=ns(n),e!==null&&Ll(e),t.blockedOn=n,!1;e.shift()}return!0}function $a(t,e,n){Os(t)&&n.delete(e)}function Ff(){Lo=!1,zt!==null&&Os(zt)&&(zt=null),Ft!==null&&Os(Ft)&&(Ft=null),Bt!==null&&Os(Bt)&&(Bt=null),Dr.forEach($a),Mr.forEach($a)}function hr(t,e){t.blockedOn===e&&(t.blockedOn=null,Lo||(Lo=!0,Be.unstable_scheduleCallback(Be.unstable_NormalPriority,Ff)))}function zr(t){function e(s){return hr(s,t)}if(0<ps.length){hr(ps[0],t);for(var n=1;n<ps.length;n++){var r=ps[n];r.blockedOn===t&&(r.blockedOn=null)}}for(zt!==null&&hr(zt,t),Ft!==null&&hr(Ft,t),Bt!==null&&hr(Bt,t),Dr.forEach(e),Mr.forEach(e),n=0;n<Lt.length;n++)r=Lt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Lt.length&&(n=Lt[0],n.blockedOn===null);)Bc(n),n.blockedOn===null&&Lt.shift()}var qn=Nt.ReactCurrentBatchConfig,qs=!0;function Bf(t,e,n,r){var s=G,i=qn.transition;qn.transition=null;try{G=1,$l(t,e,n,r)}finally{G=s,qn.transition=i}}function Hf(t,e,n,r){var s=G,i=qn.transition;qn.transition=null;try{G=4,$l(t,e,n,r)}finally{G=s,qn.transition=i}}function $l(t,e,n,r){if(qs){var s=$o(t,e,n,r);if(s===null)Qi(t,e,r,Ks,n),La(t,r);else if(zf(s,t,e,n,r))r.stopPropagation();else if(La(t,r),e&4&&-1<Mf.indexOf(t)){for(;s!==null;){var i=ns(s);if(i!==null&&Dc(i),i=$o(t,e,n,r),i===null&&Qi(t,e,r,Ks,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Qi(t,e,r,null,n)}}var Ks=null;function $o(t,e,n,r){if(Ks=null,t=Al(r),t=an(t),t!==null)if(e=wn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Pc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ks=t,null}function Hc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pf()){case Rl:return 1;case Ic:return 4;case Vs:case Of:return 16;case Lc:return 536870912;default:return 16}default:return 16}}var Dt=null,Ul=null,As=null;function Vc(){if(As)return As;var t,e=Ul,n=e.length,r,s="value"in Dt?Dt.value:Dt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return As=s.slice(t,1<r?1-r:void 0)}function Rs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ms(){return!0}function Ua(){return!1}function Ve(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ms:Ua,this.isPropagationStopped=Ua,this}return ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ms)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ms)},persist:function(){},isPersistent:ms}),e}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dl=Ve(sr),ts=ie({},sr,{view:0,detail:0}),Vf=Ve(ts),Fi,Bi,fr,mi=ie({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ml,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fr&&(fr&&t.type==="mousemove"?(Fi=t.screenX-fr.screenX,Bi=t.screenY-fr.screenY):Bi=Fi=0,fr=t),Fi)},movementY:function(t){return"movementY"in t?t.movementY:Bi}}),Da=Ve(mi),Wf=ie({},mi,{dataTransfer:0}),qf=Ve(Wf),Kf=ie({},ts,{relatedTarget:0}),Hi=Ve(Kf),Gf=ie({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),Jf=Ve(Gf),Qf=ie({},sr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Yf=Ve(Qf),Xf=ie({},sr,{data:0}),Ma=Ve(Xf),Zf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ep={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function np(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tp[t])?!!e[t]:!1}function Ml(){return np}var rp=ie({},ts,{key:function(t){if(t.key){var e=Zf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ep[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ml,charCode:function(t){return t.type==="keypress"?Rs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sp=Ve(rp),ip=ie({},mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),za=Ve(ip),op=ie({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ml}),lp=Ve(op),ap=ie({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),up=Ve(ap),cp=ie({},mi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dp=Ve(cp),hp=[9,13,27,32],zl=St&&"CompositionEvent"in window,jr=null;St&&"documentMode"in document&&(jr=document.documentMode);var fp=St&&"TextEvent"in window&&!jr,Wc=St&&(!zl||jr&&8<jr&&11>=jr),Fa=" ",Ba=!1;function qc(t,e){switch(t){case"keyup":return hp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var An=!1;function pp(t,e){switch(t){case"compositionend":return Kc(e);case"keypress":return e.which!==32?null:(Ba=!0,Fa);case"textInput":return t=e.data,t===Fa&&Ba?null:t;default:return null}}function mp(t,e){if(An)return t==="compositionend"||!zl&&qc(t,e)?(t=Vc(),As=Ul=Dt=null,An=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Wc&&e.locale!=="ko"?null:e.data;default:return null}}var gp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ha(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gp[t.type]:e==="textarea"}function Gc(t,e,n,r){jc(r),e=Gs(e,"onChange"),0<e.length&&(n=new Dl("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Er=null,Fr=null;function vp(t){id(t,0)}function gi(t){var e=Ln(t);if(yc(e))return t}function yp(t,e){if(t==="change")return e}var Jc=!1;if(St){var Vi;if(St){var Wi="oninput"in document;if(!Wi){var Va=document.createElement("div");Va.setAttribute("oninput","return;"),Wi=typeof Va.oninput=="function"}Vi=Wi}else Vi=!1;Jc=Vi&&(!document.documentMode||9<document.documentMode)}function Wa(){Er&&(Er.detachEvent("onpropertychange",Qc),Fr=Er=null)}function Qc(t){if(t.propertyName==="value"&&gi(Fr)){var e=[];Gc(e,Fr,t,Al(t)),Tc(vp,e)}}function wp(t,e,n){t==="focusin"?(Wa(),Er=e,Fr=n,Er.attachEvent("onpropertychange",Qc)):t==="focusout"&&Wa()}function xp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gi(Fr)}function _p(t,e){if(t==="click")return gi(e)}function kp(t,e){if(t==="input"||t==="change")return gi(e)}function Sp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var lt=typeof Object.is=="function"?Object.is:Sp;function Br(t,e){if(lt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!yo.call(e,s)||!lt(t[s],e[s]))return!1}return!0}function qa(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ka(t,e){var n=qa(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qa(n)}}function Yc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Yc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Xc(){for(var t=window,e=Fs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Fs(t.document)}return e}function Fl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function bp(t){var e=Xc(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Yc(n.ownerDocument.documentElement,n)){if(r!==null&&Fl(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Ka(n,i);var o=Ka(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jp=St&&"documentMode"in document&&11>=document.documentMode,Rn=null,Uo=null,Nr=null,Do=!1;function Ga(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Do||Rn==null||Rn!==Fs(r)||(r=Rn,"selectionStart"in r&&Fl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nr&&Br(Nr,r)||(Nr=r,r=Gs(Uo,"onSelect"),0<r.length&&(e=new Dl("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Rn)))}function gs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var In={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionend:gs("Transition","TransitionEnd")},qi={},Zc={};St&&(Zc=document.createElement("div").style,"AnimationEvent"in window||(delete In.animationend.animation,delete In.animationiteration.animation,delete In.animationstart.animation),"TransitionEvent"in window||delete In.transitionend.transition);function vi(t){if(qi[t])return qi[t];if(!In[t])return t;var e=In[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Zc)return qi[t]=e[n];return t}var ed=vi("animationend"),td=vi("animationiteration"),nd=vi("animationstart"),rd=vi("transitionend"),sd=new Map,Ja="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(t,e){sd.set(t,e),yn(e,[t])}for(var Ki=0;Ki<Ja.length;Ki++){var Gi=Ja[Ki],Ep=Gi.toLowerCase(),Np=Gi[0].toUpperCase()+Gi.slice(1);Qt(Ep,"on"+Np)}Qt(ed,"onAnimationEnd");Qt(td,"onAnimationIteration");Qt(nd,"onAnimationStart");Qt("dblclick","onDoubleClick");Qt("focusin","onFocus");Qt("focusout","onBlur");Qt(rd,"onTransitionEnd");Jn("onMouseEnter",["mouseout","mouseover"]);Jn("onMouseLeave",["mouseout","mouseover"]);Jn("onPointerEnter",["pointerout","pointerover"]);Jn("onPointerLeave",["pointerout","pointerover"]);yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yn("onBeforeInput",["compositionend","keypress","textInput","paste"]);yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cp=new Set("cancel close invalid load scroll toggle".split(" ").concat(_r));function Qa(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Ef(r,e,void 0,t),t.currentTarget=null}function id(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Qa(s,l,c),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Qa(s,l,c),i=a}}}if(Hs)throw t=Ro,Hs=!1,Ro=null,t}function ee(t,e){var n=e[Ho];n===void 0&&(n=e[Ho]=new Set);var r=t+"__bubble";n.has(r)||(od(e,t,2,!1),n.add(r))}function Ji(t,e,n){var r=0;e&&(r|=4),od(n,t,r,e)}var vs="_reactListening"+Math.random().toString(36).slice(2);function Hr(t){if(!t[vs]){t[vs]=!0,fc.forEach(function(n){n!=="selectionchange"&&(Cp.has(n)||Ji(n,!1,t),Ji(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vs]||(e[vs]=!0,Ji("selectionchange",!1,e))}}function od(t,e,n,r){switch(Hc(e)){case 1:var s=Bf;break;case 4:s=Hf;break;default:s=$l}n=s.bind(null,e,n,t),s=void 0,!Ao||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Qi(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=an(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Tc(function(){var c=i,d=Al(n),h=[];e:{var m=sd.get(t);if(m!==void 0){var v=Dl,w=t;switch(t){case"keypress":if(Rs(n)===0)break e;case"keydown":case"keyup":v=sp;break;case"focusin":w="focus",v=Hi;break;case"focusout":w="blur",v=Hi;break;case"beforeblur":case"afterblur":v=Hi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Da;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=qf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=lp;break;case ed:case td:case nd:v=Jf;break;case rd:v=up;break;case"scroll":v=Vf;break;case"wheel":v=dp;break;case"copy":case"cut":case"paste":v=Yf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=za}var x=(e&4)!==0,j=!x&&t==="scroll",g=x?m!==null?m+"Capture":null:m;x=[];for(var f=c,p;f!==null;){p=f;var y=p.stateNode;if(p.tag===5&&y!==null&&(p=y,g!==null&&(y=Ur(f,g),y!=null&&x.push(Vr(f,y,p)))),j)break;f=f.return}0<x.length&&(m=new v(m,w,null,n,d),h.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==Po&&(w=n.relatedTarget||n.fromElement)&&(an(w)||w[bt]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=c,w=w?an(w):null,w!==null&&(j=wn(w),w!==j||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=c),v!==w)){if(x=Da,y="onMouseLeave",g="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(x=za,y="onPointerLeave",g="onPointerEnter",f="pointer"),j=v==null?m:Ln(v),p=w==null?m:Ln(w),m=new x(y,f+"leave",v,n,d),m.target=j,m.relatedTarget=p,y=null,an(d)===c&&(x=new x(g,f+"enter",w,n,d),x.target=p,x.relatedTarget=j,y=x),j=y,v&&w)t:{for(x=v,g=w,f=0,p=x;p;p=kn(p))f++;for(p=0,y=g;y;y=kn(y))p++;for(;0<f-p;)x=kn(x),f--;for(;0<p-f;)g=kn(g),p--;for(;f--;){if(x===g||g!==null&&x===g.alternate)break t;x=kn(x),g=kn(g)}x=null}else x=null;v!==null&&Ya(h,m,v,x,!1),w!==null&&j!==null&&Ya(h,j,w,x,!0)}}e:{if(m=c?Ln(c):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var _=yp;else if(Ha(m))if(Jc)_=kp;else{_=xp;var k=wp}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=_p);if(_&&(_=_(t,c))){Gc(h,_,n,d);break e}k&&k(t,m,c),t==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&jo(m,"number",m.value)}switch(k=c?Ln(c):window,t){case"focusin":(Ha(k)||k.contentEditable==="true")&&(Rn=k,Uo=c,Nr=null);break;case"focusout":Nr=Uo=Rn=null;break;case"mousedown":Do=!0;break;case"contextmenu":case"mouseup":case"dragend":Do=!1,Ga(h,n,d);break;case"selectionchange":if(jp)break;case"keydown":case"keyup":Ga(h,n,d)}var E;if(zl)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else An?qc(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Wc&&n.locale!=="ko"&&(An||C!=="onCompositionStart"?C==="onCompositionEnd"&&An&&(E=Vc()):(Dt=d,Ul="value"in Dt?Dt.value:Dt.textContent,An=!0)),k=Gs(c,C),0<k.length&&(C=new Ma(C,t,null,n,d),h.push({event:C,listeners:k}),E?C.data=E:(E=Kc(n),E!==null&&(C.data=E)))),(E=fp?pp(t,n):mp(t,n))&&(c=Gs(c,"onBeforeInput"),0<c.length&&(d=new Ma("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=E))}id(h,e)})}function Vr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gs(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ur(t,n),i!=null&&r.unshift(Vr(t,i,s)),i=Ur(t,e),i!=null&&r.push(Vr(t,i,s))),t=t.return}return r}function kn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ya(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,s?(a=Ur(n,i),a!=null&&o.unshift(Vr(n,a,l))):s||(a=Ur(n,i),a!=null&&o.push(Vr(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Tp=/\r\n?/g,Pp=/\u0000|\uFFFD/g;function Xa(t){return(typeof t=="string"?t:""+t).replace(Tp,`
`).replace(Pp,"")}function ys(t,e,n){if(e=Xa(e),Xa(t)!==e&&n)throw Error(S(425))}function Js(){}var Mo=null,zo=null;function Fo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bo=typeof setTimeout=="function"?setTimeout:void 0,Op=typeof clearTimeout=="function"?clearTimeout:void 0,Za=typeof Promise=="function"?Promise:void 0,Ap=typeof queueMicrotask=="function"?queueMicrotask:typeof Za<"u"?function(t){return Za.resolve(null).then(t).catch(Rp)}:Bo;function Rp(t){setTimeout(function(){throw t})}function Yi(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),zr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);zr(e)}function Ht(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function eu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ir=Math.random().toString(36).slice(2),ht="__reactFiber$"+ir,Wr="__reactProps$"+ir,bt="__reactContainer$"+ir,Ho="__reactEvents$"+ir,Ip="__reactListeners$"+ir,Lp="__reactHandles$"+ir;function an(t){var e=t[ht];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bt]||n[ht]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=eu(t);t!==null;){if(n=t[ht])return n;t=eu(t)}return e}t=n,n=t.parentNode}return null}function ns(t){return t=t[ht]||t[bt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ln(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(S(33))}function yi(t){return t[Wr]||null}var Vo=[],$n=-1;function Yt(t){return{current:t}}function te(t){0>$n||(t.current=Vo[$n],Vo[$n]=null,$n--)}function Y(t,e){$n++,Vo[$n]=t.current,t.current=e}var Jt={},je=Yt(Jt),Le=Yt(!1),fn=Jt;function Qn(t,e){var n=t.type.contextTypes;if(!n)return Jt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function $e(t){return t=t.childContextTypes,t!=null}function Qs(){te(Le),te(je)}function tu(t,e,n){if(je.current!==Jt)throw Error(S(168));Y(je,e),Y(Le,n)}function ld(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(S(108,wf(t)||"Unknown",s));return ie({},n,r)}function Ys(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jt,fn=je.current,Y(je,t),Y(Le,Le.current),!0}function nu(t,e,n){var r=t.stateNode;if(!r)throw Error(S(169));n?(t=ld(t,e,fn),r.__reactInternalMemoizedMergedChildContext=t,te(Le),te(je),Y(je,t)):te(Le),Y(Le,n)}var wt=null,wi=!1,Xi=!1;function ad(t){wt===null?wt=[t]:wt.push(t)}function $p(t){wi=!0,ad(t)}function Xt(){if(!Xi&&wt!==null){Xi=!0;var t=0,e=G;try{var n=wt;for(G=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}wt=null,wi=!1}catch(s){throw wt!==null&&(wt=wt.slice(t+1)),Rc(Rl,Xt),s}finally{G=e,Xi=!1}}return null}var Un=[],Dn=0,Xs=null,Zs=0,We=[],qe=0,pn=null,xt=1,_t="";function rn(t,e){Un[Dn++]=Zs,Un[Dn++]=Xs,Xs=t,Zs=e}function ud(t,e,n){We[qe++]=xt,We[qe++]=_t,We[qe++]=pn,pn=t;var r=xt;t=_t;var s=32-it(r)-1;r&=~(1<<s),n+=1;var i=32-it(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,xt=1<<32-it(e)+s|n<<s|r,_t=i+t}else xt=1<<i|n<<s|r,_t=t}function Bl(t){t.return!==null&&(rn(t,1),ud(t,1,0))}function Hl(t){for(;t===Xs;)Xs=Un[--Dn],Un[Dn]=null,Zs=Un[--Dn],Un[Dn]=null;for(;t===pn;)pn=We[--qe],We[qe]=null,_t=We[--qe],We[qe]=null,xt=We[--qe],We[qe]=null}var Fe=null,ze=null,ne=!1,st=null;function cd(t,e){var n=Ke(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ru(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fe=t,ze=Ht(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fe=t,ze=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=pn!==null?{id:xt,overflow:_t}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ke(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Fe=t,ze=null,!0):!1;default:return!1}}function Wo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qo(t){if(ne){var e=ze;if(e){var n=e;if(!ru(t,e)){if(Wo(t))throw Error(S(418));e=Ht(n.nextSibling);var r=Fe;e&&ru(t,e)?cd(r,n):(t.flags=t.flags&-4097|2,ne=!1,Fe=t)}}else{if(Wo(t))throw Error(S(418));t.flags=t.flags&-4097|2,ne=!1,Fe=t}}}function su(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fe=t}function ws(t){if(t!==Fe)return!1;if(!ne)return su(t),ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fo(t.type,t.memoizedProps)),e&&(e=ze)){if(Wo(t))throw dd(),Error(S(418));for(;e;)cd(t,e),e=Ht(e.nextSibling)}if(su(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(S(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ze=Ht(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ze=null}}else ze=Fe?Ht(t.stateNode.nextSibling):null;return!0}function dd(){for(var t=ze;t;)t=Ht(t.nextSibling)}function Yn(){ze=Fe=null,ne=!1}function Vl(t){st===null?st=[t]:st.push(t)}var Up=Nt.ReactCurrentBatchConfig;function pr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(S(309));var r=n.stateNode}if(!r)throw Error(S(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(S(284));if(!n._owner)throw Error(S(290,t))}return t}function xs(t,e){throw t=Object.prototype.toString.call(e),Error(S(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function iu(t){var e=t._init;return e(t._payload)}function hd(t){function e(g,f){if(t){var p=g.deletions;p===null?(g.deletions=[f],g.flags|=16):p.push(f)}}function n(g,f){if(!t)return null;for(;f!==null;)e(g,f),f=f.sibling;return null}function r(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(g,f){return g=Kt(g,f),g.index=0,g.sibling=null,g}function i(g,f,p){return g.index=p,t?(p=g.alternate,p!==null?(p=p.index,p<f?(g.flags|=2,f):p):(g.flags|=2,f)):(g.flags|=1048576,f)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,f,p,y){return f===null||f.tag!==6?(f=io(p,g.mode,y),f.return=g,f):(f=s(f,p),f.return=g,f)}function a(g,f,p,y){var _=p.type;return _===On?d(g,f,p.props.children,y,p.key):f!==null&&(f.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Rt&&iu(_)===f.type)?(y=s(f,p.props),y.ref=pr(g,f,p),y.return=g,y):(y=zs(p.type,p.key,p.props,null,g.mode,y),y.ref=pr(g,f,p),y.return=g,y)}function c(g,f,p,y){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=oo(p,g.mode,y),f.return=g,f):(f=s(f,p.children||[]),f.return=g,f)}function d(g,f,p,y,_){return f===null||f.tag!==7?(f=hn(p,g.mode,y,_),f.return=g,f):(f=s(f,p),f.return=g,f)}function h(g,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=io(""+f,g.mode,p),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case us:return p=zs(f.type,f.key,f.props,null,g.mode,p),p.ref=pr(g,null,f),p.return=g,p;case Pn:return f=oo(f,g.mode,p),f.return=g,f;case Rt:var y=f._init;return h(g,y(f._payload),p)}if(wr(f)||ur(f))return f=hn(f,g.mode,p,null),f.return=g,f;xs(g,f)}return null}function m(g,f,p,y){var _=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return _!==null?null:l(g,f,""+p,y);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case us:return p.key===_?a(g,f,p,y):null;case Pn:return p.key===_?c(g,f,p,y):null;case Rt:return _=p._init,m(g,f,_(p._payload),y)}if(wr(p)||ur(p))return _!==null?null:d(g,f,p,y,null);xs(g,p)}return null}function v(g,f,p,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return g=g.get(p)||null,l(f,g,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case us:return g=g.get(y.key===null?p:y.key)||null,a(f,g,y,_);case Pn:return g=g.get(y.key===null?p:y.key)||null,c(f,g,y,_);case Rt:var k=y._init;return v(g,f,p,k(y._payload),_)}if(wr(y)||ur(y))return g=g.get(p)||null,d(f,g,y,_,null);xs(f,y)}return null}function w(g,f,p,y){for(var _=null,k=null,E=f,C=f=0,K=null;E!==null&&C<p.length;C++){E.index>C?(K=E,E=null):K=E.sibling;var $=m(g,E,p[C],y);if($===null){E===null&&(E=K);break}t&&E&&$.alternate===null&&e(g,E),f=i($,f,C),k===null?_=$:k.sibling=$,k=$,E=K}if(C===p.length)return n(g,E),ne&&rn(g,C),_;if(E===null){for(;C<p.length;C++)E=h(g,p[C],y),E!==null&&(f=i(E,f,C),k===null?_=E:k.sibling=E,k=E);return ne&&rn(g,C),_}for(E=r(g,E);C<p.length;C++)K=v(E,g,C,p[C],y),K!==null&&(t&&K.alternate!==null&&E.delete(K.key===null?C:K.key),f=i(K,f,C),k===null?_=K:k.sibling=K,k=K);return t&&E.forEach(function(X){return e(g,X)}),ne&&rn(g,C),_}function x(g,f,p,y){var _=ur(p);if(typeof _!="function")throw Error(S(150));if(p=_.call(p),p==null)throw Error(S(151));for(var k=_=null,E=f,C=f=0,K=null,$=p.next();E!==null&&!$.done;C++,$=p.next()){E.index>C?(K=E,E=null):K=E.sibling;var X=m(g,E,$.value,y);if(X===null){E===null&&(E=K);break}t&&E&&X.alternate===null&&e(g,E),f=i(X,f,C),k===null?_=X:k.sibling=X,k=X,E=K}if($.done)return n(g,E),ne&&rn(g,C),_;if(E===null){for(;!$.done;C++,$=p.next())$=h(g,$.value,y),$!==null&&(f=i($,f,C),k===null?_=$:k.sibling=$,k=$);return ne&&rn(g,C),_}for(E=r(g,E);!$.done;C++,$=p.next())$=v(E,g,C,$.value,y),$!==null&&(t&&$.alternate!==null&&E.delete($.key===null?C:$.key),f=i($,f,C),k===null?_=$:k.sibling=$,k=$);return t&&E.forEach(function(De){return e(g,De)}),ne&&rn(g,C),_}function j(g,f,p,y){if(typeof p=="object"&&p!==null&&p.type===On&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case us:e:{for(var _=p.key,k=f;k!==null;){if(k.key===_){if(_=p.type,_===On){if(k.tag===7){n(g,k.sibling),f=s(k,p.props.children),f.return=g,g=f;break e}}else if(k.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Rt&&iu(_)===k.type){n(g,k.sibling),f=s(k,p.props),f.ref=pr(g,k,p),f.return=g,g=f;break e}n(g,k);break}else e(g,k);k=k.sibling}p.type===On?(f=hn(p.props.children,g.mode,y,p.key),f.return=g,g=f):(y=zs(p.type,p.key,p.props,null,g.mode,y),y.ref=pr(g,f,p),y.return=g,g=y)}return o(g);case Pn:e:{for(k=p.key;f!==null;){if(f.key===k)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){n(g,f.sibling),f=s(f,p.children||[]),f.return=g,g=f;break e}else{n(g,f);break}else e(g,f);f=f.sibling}f=oo(p,g.mode,y),f.return=g,g=f}return o(g);case Rt:return k=p._init,j(g,f,k(p._payload),y)}if(wr(p))return w(g,f,p,y);if(ur(p))return x(g,f,p,y);xs(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(n(g,f.sibling),f=s(f,p),f.return=g,g=f):(n(g,f),f=io(p,g.mode,y),f.return=g,g=f),o(g)):n(g,f)}return j}var Xn=hd(!0),fd=hd(!1),ei=Yt(null),ti=null,Mn=null,Wl=null;function ql(){Wl=Mn=ti=null}function Kl(t){var e=ei.current;te(ei),t._currentValue=e}function Ko(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Kn(t,e){ti=t,Wl=Mn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ie=!0),t.firstContext=null)}function Qe(t){var e=t._currentValue;if(Wl!==t)if(t={context:t,memoizedValue:e,next:null},Mn===null){if(ti===null)throw Error(S(308));Mn=t,ti.dependencies={lanes:0,firstContext:t}}else Mn=Mn.next=t;return e}var un=null;function Gl(t){un===null?un=[t]:un.push(t)}function pd(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Gl(e)):(n.next=s.next,s.next=n),e.interleaved=n,jt(t,r)}function jt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var It=!1;function Jl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function md(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,jt(t,n)}return s=r.interleaved,s===null?(e.next=e,Gl(r)):(e.next=s.next,s.next=e),r.interleaved=e,jt(t,n)}function Is(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Il(t,n)}}function ou(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ni(t,e,n,r){var s=t.updateQueue;It=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?i=c:o.next=c,o=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=a))}if(i!==null){var h=s.baseState;o=0,d=c=a=null,l=i;do{var m=l.lane,v=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=t,x=l;switch(m=e,v=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){h=w.call(v,h,m);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,m=typeof w=="function"?w.call(v,h,m):w,m==null)break e;h=ie({},h,m);break e;case 2:It=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=v,a=h):d=d.next=v,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(a=h),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);gn|=o,t.lanes=o,t.memoizedState=h}}function lu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(S(191,s));s.call(r)}}}var rs={},pt=Yt(rs),qr=Yt(rs),Kr=Yt(rs);function cn(t){if(t===rs)throw Error(S(174));return t}function Ql(t,e){switch(Y(Kr,e),Y(qr,t),Y(pt,rs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:No(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=No(e,t)}te(pt),Y(pt,e)}function Zn(){te(pt),te(qr),te(Kr)}function gd(t){cn(Kr.current);var e=cn(pt.current),n=No(e,t.type);e!==n&&(Y(qr,t),Y(pt,n))}function Yl(t){qr.current===t&&(te(pt),te(qr))}var re=Yt(0);function ri(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zi=[];function Xl(){for(var t=0;t<Zi.length;t++)Zi[t]._workInProgressVersionPrimary=null;Zi.length=0}var Ls=Nt.ReactCurrentDispatcher,eo=Nt.ReactCurrentBatchConfig,mn=0,se=null,pe=null,ge=null,si=!1,Cr=!1,Gr=0,Dp=0;function ke(){throw Error(S(321))}function Zl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!lt(t[n],e[n]))return!1;return!0}function ea(t,e,n,r,s,i){if(mn=i,se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ls.current=t===null||t.memoizedState===null?Bp:Hp,t=n(r,s),Cr){i=0;do{if(Cr=!1,Gr=0,25<=i)throw Error(S(301));i+=1,ge=pe=null,e.updateQueue=null,Ls.current=Vp,t=n(r,s)}while(Cr)}if(Ls.current=ii,e=pe!==null&&pe.next!==null,mn=0,ge=pe=se=null,si=!1,e)throw Error(S(300));return t}function ta(){var t=Gr!==0;return Gr=0,t}function ct(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?se.memoizedState=ge=t:ge=ge.next=t,ge}function Ye(){if(pe===null){var t=se.alternate;t=t!==null?t.memoizedState:null}else t=pe.next;var e=ge===null?se.memoizedState:ge.next;if(e!==null)ge=e,pe=t;else{if(t===null)throw Error(S(310));pe=t,t={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},ge===null?se.memoizedState=ge=t:ge=ge.next=t}return ge}function Jr(t,e){return typeof e=="function"?e(t):e}function to(t){var e=Ye(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=pe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,c=i;do{var d=c.lane;if((mn&d)===d)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,se.lanes|=d,gn|=d}c=c.next}while(c!==null&&c!==i);a===null?o=r:a.next=l,lt(r,e.memoizedState)||(Ie=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,se.lanes|=i,gn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function no(t){var e=Ye(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);lt(i,e.memoizedState)||(Ie=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function vd(){}function yd(t,e){var n=se,r=Ye(),s=e(),i=!lt(r.memoizedState,s);if(i&&(r.memoizedState=s,Ie=!0),r=r.queue,na(_d.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ge!==null&&ge.memoizedState.tag&1){if(n.flags|=2048,Qr(9,xd.bind(null,n,r,s,e),void 0,null),ve===null)throw Error(S(349));mn&30||wd(n,e,s)}return s}function wd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=se.updateQueue,e===null?(e={lastEffect:null,stores:null},se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xd(t,e,n,r){e.value=n,e.getSnapshot=r,kd(e)&&Sd(t)}function _d(t,e,n){return n(function(){kd(e)&&Sd(t)})}function kd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!lt(t,n)}catch{return!0}}function Sd(t){var e=jt(t,1);e!==null&&ot(e,t,1,-1)}function au(t){var e=ct();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:t},e.queue=t,t=t.dispatch=Fp.bind(null,se,t),[e.memoizedState,t]}function Qr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=se.updateQueue,e===null?(e={lastEffect:null,stores:null},se.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function bd(){return Ye().memoizedState}function $s(t,e,n,r){var s=ct();se.flags|=t,s.memoizedState=Qr(1|e,n,void 0,r===void 0?null:r)}function xi(t,e,n,r){var s=Ye();r=r===void 0?null:r;var i=void 0;if(pe!==null){var o=pe.memoizedState;if(i=o.destroy,r!==null&&Zl(r,o.deps)){s.memoizedState=Qr(e,n,i,r);return}}se.flags|=t,s.memoizedState=Qr(1|e,n,i,r)}function uu(t,e){return $s(8390656,8,t,e)}function na(t,e){return xi(2048,8,t,e)}function jd(t,e){return xi(4,2,t,e)}function Ed(t,e){return xi(4,4,t,e)}function Nd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Cd(t,e,n){return n=n!=null?n.concat([t]):null,xi(4,4,Nd.bind(null,e,t),n)}function ra(){}function Td(t,e){var n=Ye();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zl(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Pd(t,e){var n=Ye();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Zl(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Od(t,e,n){return mn&21?(lt(n,e)||(n=$c(),se.lanes|=n,gn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ie=!0),t.memoizedState=n)}function Mp(t,e){var n=G;G=n!==0&&4>n?n:4,t(!0);var r=eo.transition;eo.transition={};try{t(!1),e()}finally{G=n,eo.transition=r}}function Ad(){return Ye().memoizedState}function zp(t,e,n){var r=qt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Rd(t))Id(e,n);else if(n=pd(t,e,n,r),n!==null){var s=Ce();ot(n,t,r,s),Ld(n,e,r)}}function Fp(t,e,n){var r=qt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rd(t))Id(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,lt(l,o)){var a=e.interleaved;a===null?(s.next=s,Gl(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=pd(t,e,s,r),n!==null&&(s=Ce(),ot(n,t,r,s),Ld(n,e,r))}}function Rd(t){var e=t.alternate;return t===se||e!==null&&e===se}function Id(t,e){Cr=si=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ld(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Il(t,n)}}var ii={readContext:Qe,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},Bp={readContext:Qe,useCallback:function(t,e){return ct().memoizedState=[t,e===void 0?null:e],t},useContext:Qe,useEffect:uu,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$s(4194308,4,Nd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $s(4194308,4,t,e)},useInsertionEffect:function(t,e){return $s(4,2,t,e)},useMemo:function(t,e){var n=ct();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ct();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=zp.bind(null,se,t),[r.memoizedState,t]},useRef:function(t){var e=ct();return t={current:t},e.memoizedState=t},useState:au,useDebugValue:ra,useDeferredValue:function(t){return ct().memoizedState=t},useTransition:function(){var t=au(!1),e=t[0];return t=Mp.bind(null,t[1]),ct().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=se,s=ct();if(ne){if(n===void 0)throw Error(S(407));n=n()}else{if(n=e(),ve===null)throw Error(S(349));mn&30||wd(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,uu(_d.bind(null,r,i,t),[t]),r.flags|=2048,Qr(9,xd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ct(),e=ve.identifierPrefix;if(ne){var n=_t,r=xt;n=(r&~(1<<32-it(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Gr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Dp++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Hp={readContext:Qe,useCallback:Td,useContext:Qe,useEffect:na,useImperativeHandle:Cd,useInsertionEffect:jd,useLayoutEffect:Ed,useMemo:Pd,useReducer:to,useRef:bd,useState:function(){return to(Jr)},useDebugValue:ra,useDeferredValue:function(t){var e=Ye();return Od(e,pe.memoizedState,t)},useTransition:function(){var t=to(Jr)[0],e=Ye().memoizedState;return[t,e]},useMutableSource:vd,useSyncExternalStore:yd,useId:Ad,unstable_isNewReconciler:!1},Vp={readContext:Qe,useCallback:Td,useContext:Qe,useEffect:na,useImperativeHandle:Cd,useInsertionEffect:jd,useLayoutEffect:Ed,useMemo:Pd,useReducer:no,useRef:bd,useState:function(){return no(Jr)},useDebugValue:ra,useDeferredValue:function(t){var e=Ye();return pe===null?e.memoizedState=t:Od(e,pe.memoizedState,t)},useTransition:function(){var t=no(Jr)[0],e=Ye().memoizedState;return[t,e]},useMutableSource:vd,useSyncExternalStore:yd,useId:Ad,unstable_isNewReconciler:!1};function tt(t,e){if(t&&t.defaultProps){e=ie({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Go(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ie({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var _i={isMounted:function(t){return(t=t._reactInternals)?wn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ce(),s=qt(t),i=kt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Vt(t,i,s),e!==null&&(ot(e,t,s,r),Is(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ce(),s=qt(t),i=kt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Vt(t,i,s),e!==null&&(ot(e,t,s,r),Is(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ce(),r=qt(t),s=kt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Vt(t,s,r),e!==null&&(ot(e,t,r,n),Is(e,t,r))}};function cu(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Br(n,r)||!Br(s,i):!0}function $d(t,e,n){var r=!1,s=Jt,i=e.contextType;return typeof i=="object"&&i!==null?i=Qe(i):(s=$e(e)?fn:je.current,r=e.contextTypes,i=(r=r!=null)?Qn(t,s):Jt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=_i,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function du(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&_i.enqueueReplaceState(e,e.state,null)}function Jo(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Jl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Qe(i):(i=$e(e)?fn:je.current,s.context=Qn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Go(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&_i.enqueueReplaceState(s,s.state,null),ni(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function er(t,e){try{var n="",r=e;do n+=yf(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ro(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Qo(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Wp=typeof WeakMap=="function"?WeakMap:Map;function Ud(t,e,n){n=kt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){li||(li=!0,ol=r),Qo(t,e)},n}function Dd(t,e,n){n=kt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Qo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Qo(t,e),typeof r!="function"&&(Wt===null?Wt=new Set([this]):Wt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function hu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Wp;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=im.bind(null,t,e,n),e.then(t,t))}function fu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function pu(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=kt(-1,1),e.tag=2,Vt(n,e,1))),n.lanes|=1),t)}var qp=Nt.ReactCurrentOwner,Ie=!1;function Ne(t,e,n,r){e.child=t===null?fd(e,null,n,r):Xn(e,t.child,n,r)}function mu(t,e,n,r,s){n=n.render;var i=e.ref;return Kn(e,s),r=ea(t,e,n,r,i,s),n=ta(),t!==null&&!Ie?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Et(t,e,s)):(ne&&n&&Bl(e),e.flags|=1,Ne(t,e,r,s),e.child)}function gu(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!da(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Md(t,e,i,r,s)):(t=zs(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Br,n(o,r)&&t.ref===e.ref)return Et(t,e,s)}return e.flags|=1,t=Kt(i,r),t.ref=e.ref,t.return=e,e.child=t}function Md(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Br(i,r)&&t.ref===e.ref)if(Ie=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ie=!0);else return e.lanes=t.lanes,Et(t,e,s)}return Yo(t,e,n,r,s)}function zd(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(Fn,Me),Me|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Y(Fn,Me),Me|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Y(Fn,Me),Me|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Y(Fn,Me),Me|=r;return Ne(t,e,s,n),e.child}function Fd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Yo(t,e,n,r,s){var i=$e(n)?fn:je.current;return i=Qn(e,i),Kn(e,s),n=ea(t,e,n,r,i,s),r=ta(),t!==null&&!Ie?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Et(t,e,s)):(ne&&r&&Bl(e),e.flags|=1,Ne(t,e,n,s),e.child)}function vu(t,e,n,r,s){if($e(n)){var i=!0;Ys(e)}else i=!1;if(Kn(e,s),e.stateNode===null)Us(t,e),$d(e,n,r),Jo(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Qe(c):(c=$e(n)?fn:je.current,c=Qn(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&du(e,o,r,c),It=!1;var m=e.memoizedState;o.state=m,ni(e,r,o,s),a=e.memoizedState,l!==r||m!==a||Le.current||It?(typeof d=="function"&&(Go(e,n,d,r),a=e.memoizedState),(l=It||cu(e,n,l,r,m,a,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,md(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:tt(e.type,l),o.props=c,h=e.pendingProps,m=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Qe(a):(a=$e(n)?fn:je.current,a=Qn(e,a));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==a)&&du(e,o,r,a),It=!1,m=e.memoizedState,o.state=m,ni(e,r,o,s);var w=e.memoizedState;l!==h||m!==w||Le.current||It?(typeof v=="function"&&(Go(e,n,v,r),w=e.memoizedState),(c=It||cu(e,n,c,r,m,w,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Xo(t,e,n,r,i,s)}function Xo(t,e,n,r,s,i){Fd(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&nu(e,n,!1),Et(t,e,i);r=e.stateNode,qp.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Xn(e,t.child,null,i),e.child=Xn(e,null,l,i)):Ne(t,e,l,i),e.memoizedState=r.state,s&&nu(e,n,!0),e.child}function Bd(t){var e=t.stateNode;e.pendingContext?tu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&tu(t,e.context,!1),Ql(t,e.containerInfo)}function yu(t,e,n,r,s){return Yn(),Vl(s),e.flags|=256,Ne(t,e,n,r),e.child}var Zo={dehydrated:null,treeContext:null,retryLane:0};function el(t){return{baseLanes:t,cachePool:null,transitions:null}}function Hd(t,e,n){var r=e.pendingProps,s=re.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Y(re,s&1),t===null)return qo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=bi(o,r,0,null),t=hn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=el(n),e.memoizedState=Zo,t):sa(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Kp(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Kt(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Kt(l,i):(i=hn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?el(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Zo,r}return i=t.child,t=i.sibling,r=Kt(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function sa(t,e){return e=bi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _s(t,e,n,r){return r!==null&&Vl(r),Xn(e,t.child,null,n),t=sa(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Kp(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=ro(Error(S(422))),_s(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=bi({mode:"visible",children:r.children},s,0,null),i=hn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Xn(e,t.child,null,o),e.child.memoizedState=el(o),e.memoizedState=Zo,i);if(!(e.mode&1))return _s(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(S(419)),r=ro(i,r,void 0),_s(t,e,o,r)}if(l=(o&t.childLanes)!==0,Ie||l){if(r=ve,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,jt(t,s),ot(r,t,s,-1))}return ca(),r=ro(Error(S(421))),_s(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=om.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ze=Ht(s.nextSibling),Fe=e,ne=!0,st=null,t!==null&&(We[qe++]=xt,We[qe++]=_t,We[qe++]=pn,xt=t.id,_t=t.overflow,pn=e),e=sa(e,r.children),e.flags|=4096,e)}function wu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ko(t.return,e,n)}function so(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Vd(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ne(t,e,r.children,n),r=re.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wu(t,n,e);else if(t.tag===19)wu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Y(re,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ri(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),so(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ri(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}so(e,!0,n,null,i);break;case"together":so(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Us(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Et(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(S(153));if(e.child!==null){for(t=e.child,n=Kt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Kt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Gp(t,e,n){switch(e.tag){case 3:Bd(e),Yn();break;case 5:gd(e);break;case 1:$e(e.type)&&Ys(e);break;case 4:Ql(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Y(ei,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Y(re,re.current&1),e.flags|=128,null):n&e.child.childLanes?Hd(t,e,n):(Y(re,re.current&1),t=Et(t,e,n),t!==null?t.sibling:null);Y(re,re.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Vd(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Y(re,re.current),r)break;return null;case 22:case 23:return e.lanes=0,zd(t,e,n)}return Et(t,e,n)}var Wd,tl,qd,Kd;Wd=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tl=function(){};qd=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,cn(pt.current);var i=null;switch(n){case"input":s=So(t,s),r=So(t,r),i=[];break;case"select":s=ie({},s,{value:void 0}),r=ie({},r,{value:void 0}),i=[];break;case"textarea":s=Eo(t,s),r=Eo(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Js)}Co(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Lr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var a=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Lr.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&ee("scroll",t),i||l===a||(i=[])):(i=i||[]).push(c,a))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Kd=function(t,e,n,r){n!==r&&(e.flags|=4)};function mr(t,e){if(!ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Se(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Jp(t,e,n){var r=e.pendingProps;switch(Hl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(e),null;case 1:return $e(e.type)&&Qs(),Se(e),null;case 3:return r=e.stateNode,Zn(),te(Le),te(je),Xl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ws(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,st!==null&&(ul(st),st=null))),tl(t,e),Se(e),null;case 5:Yl(e);var s=cn(Kr.current);if(n=e.type,t!==null&&e.stateNode!=null)qd(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(S(166));return Se(e),null}if(t=cn(pt.current),ws(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ht]=e,r[Wr]=i,t=(e.mode&1)!==0,n){case"dialog":ee("cancel",r),ee("close",r);break;case"iframe":case"object":case"embed":ee("load",r);break;case"video":case"audio":for(s=0;s<_r.length;s++)ee(_r[s],r);break;case"source":ee("error",r);break;case"img":case"image":case"link":ee("error",r),ee("load",r);break;case"details":ee("toggle",r);break;case"input":Ca(r,i),ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ee("invalid",r);break;case"textarea":Pa(r,i),ee("invalid",r)}Co(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ys(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ys(r.textContent,l,t),s=["children",""+l]):Lr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ee("scroll",r)}switch(n){case"input":cs(r),Ta(r,i,!0);break;case"textarea":cs(r),Oa(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Js)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_c(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ht]=e,t[Wr]=r,Wd(t,e,!1,!1),e.stateNode=t;e:{switch(o=To(n,r),n){case"dialog":ee("cancel",t),ee("close",t),s=r;break;case"iframe":case"object":case"embed":ee("load",t),s=r;break;case"video":case"audio":for(s=0;s<_r.length;s++)ee(_r[s],t);s=r;break;case"source":ee("error",t),s=r;break;case"img":case"image":case"link":ee("error",t),ee("load",t),s=r;break;case"details":ee("toggle",t),s=r;break;case"input":Ca(t,r),s=So(t,r),ee("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ie({},r,{value:void 0}),ee("invalid",t);break;case"textarea":Pa(t,r),s=Eo(t,r),ee("invalid",t);break;default:s=r}Co(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?bc(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&kc(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&$r(t,a):typeof a=="number"&&$r(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Lr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&ee("scroll",t):a!=null&&Cl(t,i,a,o))}switch(n){case"input":cs(t),Ta(t,r,!1);break;case"textarea":cs(t),Oa(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Hn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Hn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Js)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Se(e),null;case 6:if(t&&e.stateNode!=null)Kd(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(S(166));if(n=cn(Kr.current),cn(pt.current),ws(e)){if(r=e.stateNode,n=e.memoizedProps,r[ht]=e,(i=r.nodeValue!==n)&&(t=Fe,t!==null))switch(t.tag){case 3:ys(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ys(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ht]=e,e.stateNode=r}return Se(e),null;case 13:if(te(re),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ne&&ze!==null&&e.mode&1&&!(e.flags&128))dd(),Yn(),e.flags|=98560,i=!1;else if(i=ws(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(S(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(S(317));i[ht]=e}else Yn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Se(e),i=!1}else st!==null&&(ul(st),st=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||re.current&1?me===0&&(me=3):ca())),e.updateQueue!==null&&(e.flags|=4),Se(e),null);case 4:return Zn(),tl(t,e),t===null&&Hr(e.stateNode.containerInfo),Se(e),null;case 10:return Kl(e.type._context),Se(e),null;case 17:return $e(e.type)&&Qs(),Se(e),null;case 19:if(te(re),i=e.memoizedState,i===null)return Se(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)mr(i,!1);else{if(me!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ri(t),o!==null){for(e.flags|=128,mr(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Y(re,re.current&1|2),e.child}t=t.sibling}i.tail!==null&&le()>tr&&(e.flags|=128,r=!0,mr(i,!1),e.lanes=4194304)}else{if(!r)if(t=ri(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),mr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ne)return Se(e),null}else 2*le()-i.renderingStartTime>tr&&n!==1073741824&&(e.flags|=128,r=!0,mr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=le(),e.sibling=null,n=re.current,Y(re,r?n&1|2:n&1),e):(Se(e),null);case 22:case 23:return ua(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Me&1073741824&&(Se(e),e.subtreeFlags&6&&(e.flags|=8192)):Se(e),null;case 24:return null;case 25:return null}throw Error(S(156,e.tag))}function Qp(t,e){switch(Hl(e),e.tag){case 1:return $e(e.type)&&Qs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zn(),te(Le),te(je),Xl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Yl(e),null;case 13:if(te(re),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(S(340));Yn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return te(re),null;case 4:return Zn(),null;case 10:return Kl(e.type._context),null;case 22:case 23:return ua(),null;case 24:return null;default:return null}}var ks=!1,be=!1,Yp=typeof WeakSet=="function"?WeakSet:Set,P=null;function zn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){oe(t,e,r)}else n.current=null}function nl(t,e,n){try{n()}catch(r){oe(t,e,r)}}var xu=!1;function Xp(t,e){if(Mo=qs,t=Xc(),Fl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,d=0,h=t,m=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)m=h,h=v;for(;;){if(h===t)break t;if(m===n&&++c===s&&(l=o),m===i&&++d===r&&(a=o),(v=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=v}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(zo={focusedElem:t,selectionRange:n},qs=!1,P=e;P!==null;)if(e=P,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,P=t;else for(;P!==null;){e=P;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,j=w.memoizedState,g=e.stateNode,f=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:tt(e.type,x),j);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(y){oe(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,P=t;break}P=e.return}return w=xu,xu=!1,w}function Tr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&nl(e,n,i)}s=s.next}while(s!==r)}}function ki(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function rl(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Gd(t){var e=t.alternate;e!==null&&(t.alternate=null,Gd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ht],delete e[Wr],delete e[Ho],delete e[Ip],delete e[Lp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Jd(t){return t.tag===5||t.tag===3||t.tag===4}function _u(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Js));else if(r!==4&&(t=t.child,t!==null))for(sl(t,e,n),t=t.sibling;t!==null;)sl(t,e,n),t=t.sibling}function il(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(il(t,e,n),t=t.sibling;t!==null;)il(t,e,n),t=t.sibling}var we=null,nt=!1;function Pt(t,e,n){for(n=n.child;n!==null;)Qd(t,e,n),n=n.sibling}function Qd(t,e,n){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(pi,n)}catch{}switch(n.tag){case 5:be||zn(n,e);case 6:var r=we,s=nt;we=null,Pt(t,e,n),we=r,nt=s,we!==null&&(nt?(t=we,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):we.removeChild(n.stateNode));break;case 18:we!==null&&(nt?(t=we,n=n.stateNode,t.nodeType===8?Yi(t.parentNode,n):t.nodeType===1&&Yi(t,n),zr(t)):Yi(we,n.stateNode));break;case 4:r=we,s=nt,we=n.stateNode.containerInfo,nt=!0,Pt(t,e,n),we=r,nt=s;break;case 0:case 11:case 14:case 15:if(!be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&nl(n,e,o),s=s.next}while(s!==r)}Pt(t,e,n);break;case 1:if(!be&&(zn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){oe(n,e,l)}Pt(t,e,n);break;case 21:Pt(t,e,n);break;case 22:n.mode&1?(be=(r=be)||n.memoizedState!==null,Pt(t,e,n),be=r):Pt(t,e,n);break;default:Pt(t,e,n)}}function ku(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Yp),e.forEach(function(r){var s=lm.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ze(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:we=l.stateNode,nt=!1;break e;case 3:we=l.stateNode.containerInfo,nt=!0;break e;case 4:we=l.stateNode.containerInfo,nt=!0;break e}l=l.return}if(we===null)throw Error(S(160));Qd(i,o,s),we=null,nt=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){oe(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Yd(e,t),e=e.sibling}function Yd(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ze(e,t),ut(t),r&4){try{Tr(3,t,t.return),ki(3,t)}catch(x){oe(t,t.return,x)}try{Tr(5,t,t.return)}catch(x){oe(t,t.return,x)}}break;case 1:Ze(e,t),ut(t),r&512&&n!==null&&zn(n,n.return);break;case 5:if(Ze(e,t),ut(t),r&512&&n!==null&&zn(n,n.return),t.flags&32){var s=t.stateNode;try{$r(s,"")}catch(x){oe(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&wc(s,i),To(l,o);var c=To(l,i);for(o=0;o<a.length;o+=2){var d=a[o],h=a[o+1];d==="style"?bc(s,h):d==="dangerouslySetInnerHTML"?kc(s,h):d==="children"?$r(s,h):Cl(s,d,h,c)}switch(l){case"input":bo(s,i);break;case"textarea":xc(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Hn(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?Hn(s,!!i.multiple,i.defaultValue,!0):Hn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Wr]=i}catch(x){oe(t,t.return,x)}}break;case 6:if(Ze(e,t),ut(t),r&4){if(t.stateNode===null)throw Error(S(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){oe(t,t.return,x)}}break;case 3:if(Ze(e,t),ut(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zr(e.containerInfo)}catch(x){oe(t,t.return,x)}break;case 4:Ze(e,t),ut(t);break;case 13:Ze(e,t),ut(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(la=le())),r&4&&ku(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(be=(c=be)||d,Ze(e,t),be=c):Ze(e,t),ut(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(P=t,d=t.child;d!==null;){for(h=P=d;P!==null;){switch(m=P,v=m.child,m.tag){case 0:case 11:case 14:case 15:Tr(4,m,m.return);break;case 1:zn(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(x){oe(r,n,x)}}break;case 5:zn(m,m.return);break;case 22:if(m.memoizedState!==null){bu(h);continue}}v!==null?(v.return=m,P=v):bu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Sc("display",o))}catch(x){oe(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){oe(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ze(e,t),ut(t),r&4&&ku(t);break;case 21:break;default:Ze(e,t),ut(t)}}function ut(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Jd(n)){var r=n;break e}n=n.return}throw Error(S(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&($r(s,""),r.flags&=-33);var i=_u(t);il(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=_u(t);sl(t,l,o);break;default:throw Error(S(161))}}catch(a){oe(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Zp(t,e,n){P=t,Xd(t)}function Xd(t,e,n){for(var r=(t.mode&1)!==0;P!==null;){var s=P,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ks;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||be;l=ks;var c=be;if(ks=o,(be=a)&&!c)for(P=s;P!==null;)o=P,a=o.child,o.tag===22&&o.memoizedState!==null?ju(s):a!==null?(a.return=o,P=a):ju(s);for(;i!==null;)P=i,Xd(i),i=i.sibling;P=s,ks=l,be=c}Su(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,P=i):Su(t)}}function Su(t){for(;P!==null;){var e=P;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:be||ki(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!be)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:tt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&lu(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}lu(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&zr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}be||e.flags&512&&rl(e)}catch(m){oe(e,e.return,m)}}if(e===t){P=null;break}if(n=e.sibling,n!==null){n.return=e.return,P=n;break}P=e.return}}function bu(t){for(;P!==null;){var e=P;if(e===t){P=null;break}var n=e.sibling;if(n!==null){n.return=e.return,P=n;break}P=e.return}}function ju(t){for(;P!==null;){var e=P;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ki(4,e)}catch(a){oe(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){oe(e,s,a)}}var i=e.return;try{rl(e)}catch(a){oe(e,i,a)}break;case 5:var o=e.return;try{rl(e)}catch(a){oe(e,o,a)}}}catch(a){oe(e,e.return,a)}if(e===t){P=null;break}var l=e.sibling;if(l!==null){l.return=e.return,P=l;break}P=e.return}}var em=Math.ceil,oi=Nt.ReactCurrentDispatcher,ia=Nt.ReactCurrentOwner,Ge=Nt.ReactCurrentBatchConfig,W=0,ve=null,ue=null,xe=0,Me=0,Fn=Yt(0),me=0,Yr=null,gn=0,Si=0,oa=0,Pr=null,Ae=null,la=0,tr=1/0,vt=null,li=!1,ol=null,Wt=null,Ss=!1,Mt=null,ai=0,Or=0,ll=null,Ds=-1,Ms=0;function Ce(){return W&6?le():Ds!==-1?Ds:Ds=le()}function qt(t){return t.mode&1?W&2&&xe!==0?xe&-xe:Up.transition!==null?(Ms===0&&(Ms=$c()),Ms):(t=G,t!==0||(t=window.event,t=t===void 0?16:Hc(t.type)),t):1}function ot(t,e,n,r){if(50<Or)throw Or=0,ll=null,Error(S(185));es(t,n,r),(!(W&2)||t!==ve)&&(t===ve&&(!(W&2)&&(Si|=n),me===4&&$t(t,xe)),Ue(t,r),n===1&&W===0&&!(e.mode&1)&&(tr=le()+500,wi&&Xt()))}function Ue(t,e){var n=t.callbackNode;Uf(t,e);var r=Ws(t,t===ve?xe:0);if(r===0)n!==null&&Ia(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ia(n),e===1)t.tag===0?$p(Eu.bind(null,t)):ad(Eu.bind(null,t)),Ap(function(){!(W&6)&&Xt()}),n=null;else{switch(Uc(r)){case 1:n=Rl;break;case 4:n=Ic;break;case 16:n=Vs;break;case 536870912:n=Lc;break;default:n=Vs}n=oh(n,Zd.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Zd(t,e){if(Ds=-1,Ms=0,W&6)throw Error(S(327));var n=t.callbackNode;if(Gn()&&t.callbackNode!==n)return null;var r=Ws(t,t===ve?xe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ui(t,r);else{e=r;var s=W;W|=2;var i=th();(ve!==t||xe!==e)&&(vt=null,tr=le()+500,dn(t,e));do try{rm();break}catch(l){eh(t,l)}while(!0);ql(),oi.current=i,W=s,ue!==null?e=0:(ve=null,xe=0,e=me)}if(e!==0){if(e===2&&(s=Io(t),s!==0&&(r=s,e=al(t,s))),e===1)throw n=Yr,dn(t,0),$t(t,r),Ue(t,le()),n;if(e===6)$t(t,r);else{if(s=t.current.alternate,!(r&30)&&!tm(s)&&(e=ui(t,r),e===2&&(i=Io(t),i!==0&&(r=i,e=al(t,i))),e===1))throw n=Yr,dn(t,0),$t(t,r),Ue(t,le()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(S(345));case 2:sn(t,Ae,vt);break;case 3:if($t(t,r),(r&130023424)===r&&(e=la+500-le(),10<e)){if(Ws(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ce(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Bo(sn.bind(null,t,Ae,vt),e);break}sn(t,Ae,vt);break;case 4:if($t(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-it(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*em(r/1960))-r,10<r){t.timeoutHandle=Bo(sn.bind(null,t,Ae,vt),r);break}sn(t,Ae,vt);break;case 5:sn(t,Ae,vt);break;default:throw Error(S(329))}}}return Ue(t,le()),t.callbackNode===n?Zd.bind(null,t):null}function al(t,e){var n=Pr;return t.current.memoizedState.isDehydrated&&(dn(t,e).flags|=256),t=ui(t,e),t!==2&&(e=Ae,Ae=n,e!==null&&ul(e)),t}function ul(t){Ae===null?Ae=t:Ae.push.apply(Ae,t)}function tm(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!lt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $t(t,e){for(e&=~oa,e&=~Si,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-it(e),r=1<<n;t[n]=-1,e&=~r}}function Eu(t){if(W&6)throw Error(S(327));Gn();var e=Ws(t,0);if(!(e&1))return Ue(t,le()),null;var n=ui(t,e);if(t.tag!==0&&n===2){var r=Io(t);r!==0&&(e=r,n=al(t,r))}if(n===1)throw n=Yr,dn(t,0),$t(t,e),Ue(t,le()),n;if(n===6)throw Error(S(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,sn(t,Ae,vt),Ue(t,le()),null}function aa(t,e){var n=W;W|=1;try{return t(e)}finally{W=n,W===0&&(tr=le()+500,wi&&Xt())}}function vn(t){Mt!==null&&Mt.tag===0&&!(W&6)&&Gn();var e=W;W|=1;var n=Ge.transition,r=G;try{if(Ge.transition=null,G=1,t)return t()}finally{G=r,Ge.transition=n,W=e,!(W&6)&&Xt()}}function ua(){Me=Fn.current,te(Fn)}function dn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Op(n)),ue!==null)for(n=ue.return;n!==null;){var r=n;switch(Hl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qs();break;case 3:Zn(),te(Le),te(je),Xl();break;case 5:Yl(r);break;case 4:Zn();break;case 13:te(re);break;case 19:te(re);break;case 10:Kl(r.type._context);break;case 22:case 23:ua()}n=n.return}if(ve=t,ue=t=Kt(t.current,null),xe=Me=e,me=0,Yr=null,oa=Si=gn=0,Ae=Pr=null,un!==null){for(e=0;e<un.length;e++)if(n=un[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}un=null}return t}function eh(t,e){do{var n=ue;try{if(ql(),Ls.current=ii,si){for(var r=se.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}si=!1}if(mn=0,ge=pe=se=null,Cr=!1,Gr=0,ia.current=null,n===null||n.return===null){me=1,Yr=e,ue=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=xe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=fu(o);if(v!==null){v.flags&=-257,pu(v,o,l,i,e),v.mode&1&&hu(i,c,e),e=v,a=c;var w=e.updateQueue;if(w===null){var x=new Set;x.add(a),e.updateQueue=x}else w.add(a);break e}else{if(!(e&1)){hu(i,c,e),ca();break e}a=Error(S(426))}}else if(ne&&l.mode&1){var j=fu(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),pu(j,o,l,i,e),Vl(er(a,l));break e}}i=a=er(a,l),me!==4&&(me=2),Pr===null?Pr=[i]:Pr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Ud(i,a,e);ou(i,g);break e;case 1:l=a;var f=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Wt===null||!Wt.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var y=Dd(i,l,e);ou(i,y);break e}}i=i.return}while(i!==null)}rh(n)}catch(_){e=_,ue===n&&n!==null&&(ue=n=n.return);continue}break}while(!0)}function th(){var t=oi.current;return oi.current=ii,t===null?ii:t}function ca(){(me===0||me===3||me===2)&&(me=4),ve===null||!(gn&268435455)&&!(Si&268435455)||$t(ve,xe)}function ui(t,e){var n=W;W|=2;var r=th();(ve!==t||xe!==e)&&(vt=null,dn(t,e));do try{nm();break}catch(s){eh(t,s)}while(!0);if(ql(),W=n,oi.current=r,ue!==null)throw Error(S(261));return ve=null,xe=0,me}function nm(){for(;ue!==null;)nh(ue)}function rm(){for(;ue!==null&&!Cf();)nh(ue)}function nh(t){var e=ih(t.alternate,t,Me);t.memoizedProps=t.pendingProps,e===null?rh(t):ue=e,ia.current=null}function rh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Qp(n,e),n!==null){n.flags&=32767,ue=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{me=6,ue=null;return}}else if(n=Jp(n,e,Me),n!==null){ue=n;return}if(e=e.sibling,e!==null){ue=e;return}ue=e=t}while(e!==null);me===0&&(me=5)}function sn(t,e,n){var r=G,s=Ge.transition;try{Ge.transition=null,G=1,sm(t,e,n,r)}finally{Ge.transition=s,G=r}return null}function sm(t,e,n,r){do Gn();while(Mt!==null);if(W&6)throw Error(S(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(S(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Df(t,i),t===ve&&(ue=ve=null,xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ss||(Ss=!0,oh(Vs,function(){return Gn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ge.transition,Ge.transition=null;var o=G;G=1;var l=W;W|=4,ia.current=null,Xp(t,n),Yd(n,t),bp(zo),qs=!!Mo,zo=Mo=null,t.current=n,Zp(n),Tf(),W=l,G=o,Ge.transition=i}else t.current=n;if(Ss&&(Ss=!1,Mt=t,ai=s),i=t.pendingLanes,i===0&&(Wt=null),Af(n.stateNode),Ue(t,le()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(li)throw li=!1,t=ol,ol=null,t;return ai&1&&t.tag!==0&&Gn(),i=t.pendingLanes,i&1?t===ll?Or++:(Or=0,ll=t):Or=0,Xt(),null}function Gn(){if(Mt!==null){var t=Uc(ai),e=Ge.transition,n=G;try{if(Ge.transition=null,G=16>t?16:t,Mt===null)var r=!1;else{if(t=Mt,Mt=null,ai=0,W&6)throw Error(S(331));var s=W;for(W|=4,P=t.current;P!==null;){var i=P,o=i.child;if(P.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(P=c;P!==null;){var d=P;switch(d.tag){case 0:case 11:case 15:Tr(8,d,i)}var h=d.child;if(h!==null)h.return=d,P=h;else for(;P!==null;){d=P;var m=d.sibling,v=d.return;if(Gd(d),d===c){P=null;break}if(m!==null){m.return=v,P=m;break}P=v}}}var w=i.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var j=x.sibling;x.sibling=null,x=j}while(x!==null)}}P=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,P=o;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Tr(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,P=g;break e}P=i.return}}var f=t.current;for(P=f;P!==null;){o=P;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,P=p;else e:for(o=f;P!==null;){if(l=P,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ki(9,l)}}catch(_){oe(l,l.return,_)}if(l===o){P=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,P=y;break e}P=l.return}}if(W=s,Xt(),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(pi,t)}catch{}r=!0}return r}finally{G=n,Ge.transition=e}}return!1}function Nu(t,e,n){e=er(n,e),e=Ud(t,e,1),t=Vt(t,e,1),e=Ce(),t!==null&&(es(t,1,e),Ue(t,e))}function oe(t,e,n){if(t.tag===3)Nu(t,t,n);else for(;e!==null;){if(e.tag===3){Nu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wt===null||!Wt.has(r))){t=er(n,t),t=Dd(e,t,1),e=Vt(e,t,1),t=Ce(),e!==null&&(es(e,1,t),Ue(e,t));break}}e=e.return}}function im(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ce(),t.pingedLanes|=t.suspendedLanes&n,ve===t&&(xe&n)===n&&(me===4||me===3&&(xe&130023424)===xe&&500>le()-la?dn(t,0):oa|=n),Ue(t,e)}function sh(t,e){e===0&&(t.mode&1?(e=fs,fs<<=1,!(fs&130023424)&&(fs=4194304)):e=1);var n=Ce();t=jt(t,e),t!==null&&(es(t,e,n),Ue(t,n))}function om(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),sh(t,n)}function lm(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(S(314))}r!==null&&r.delete(e),sh(t,n)}var ih;ih=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Le.current)Ie=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ie=!1,Gp(t,e,n);Ie=!!(t.flags&131072)}else Ie=!1,ne&&e.flags&1048576&&ud(e,Zs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Us(t,e),t=e.pendingProps;var s=Qn(e,je.current);Kn(e,n),s=ea(null,e,r,t,s,n);var i=ta();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$e(r)?(i=!0,Ys(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Jl(e),s.updater=_i,e.stateNode=s,s._reactInternals=e,Jo(e,r,t,n),e=Xo(null,e,r,!0,i,n)):(e.tag=0,ne&&i&&Bl(e),Ne(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Us(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=um(r),t=tt(r,t),s){case 0:e=Yo(null,e,r,t,n);break e;case 1:e=vu(null,e,r,t,n);break e;case 11:e=mu(null,e,r,t,n);break e;case 14:e=gu(null,e,r,tt(r.type,t),n);break e}throw Error(S(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tt(r,s),Yo(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tt(r,s),vu(t,e,r,s,n);case 3:e:{if(Bd(e),t===null)throw Error(S(387));r=e.pendingProps,i=e.memoizedState,s=i.element,md(t,e),ni(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=er(Error(S(423)),e),e=yu(t,e,r,n,s);break e}else if(r!==s){s=er(Error(S(424)),e),e=yu(t,e,r,n,s);break e}else for(ze=Ht(e.stateNode.containerInfo.firstChild),Fe=e,ne=!0,st=null,n=fd(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yn(),r===s){e=Et(t,e,n);break e}Ne(t,e,r,n)}e=e.child}return e;case 5:return gd(e),t===null&&qo(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Fo(r,s)?o=null:i!==null&&Fo(r,i)&&(e.flags|=32),Fd(t,e),Ne(t,e,o,n),e.child;case 6:return t===null&&qo(e),null;case 13:return Hd(t,e,n);case 4:return Ql(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xn(e,null,r,n):Ne(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tt(r,s),mu(t,e,r,s,n);case 7:return Ne(t,e,e.pendingProps,n),e.child;case 8:return Ne(t,e,e.pendingProps.children,n),e.child;case 12:return Ne(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Y(ei,r._currentValue),r._currentValue=o,i!==null)if(lt(i.value,o)){if(i.children===s.children&&!Le.current){e=Et(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=kt(-1,n&-n),a.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?a.next=a:(a.next=d.next,d.next=a),c.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Ko(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(S(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ko(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ne(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Kn(e,n),s=Qe(s),r=r(s),e.flags|=1,Ne(t,e,r,n),e.child;case 14:return r=e.type,s=tt(r,e.pendingProps),s=tt(r.type,s),gu(t,e,r,s,n);case 15:return Md(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tt(r,s),Us(t,e),e.tag=1,$e(r)?(t=!0,Ys(e)):t=!1,Kn(e,n),$d(e,r,s),Jo(e,r,s,n),Xo(null,e,r,!0,t,n);case 19:return Vd(t,e,n);case 22:return zd(t,e,n)}throw Error(S(156,e.tag))};function oh(t,e){return Rc(t,e)}function am(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(t,e,n,r){return new am(t,e,n,r)}function da(t){return t=t.prototype,!(!t||!t.isReactComponent)}function um(t){if(typeof t=="function")return da(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pl)return 11;if(t===Ol)return 14}return 2}function Kt(t,e){var n=t.alternate;return n===null?(n=Ke(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zs(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")da(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case On:return hn(n.children,s,i,e);case Tl:o=8,s|=8;break;case wo:return t=Ke(12,n,e,s|2),t.elementType=wo,t.lanes=i,t;case xo:return t=Ke(13,n,e,s),t.elementType=xo,t.lanes=i,t;case _o:return t=Ke(19,n,e,s),t.elementType=_o,t.lanes=i,t;case gc:return bi(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pc:o=10;break e;case mc:o=9;break e;case Pl:o=11;break e;case Ol:o=14;break e;case Rt:o=16,r=null;break e}throw Error(S(130,t==null?t:typeof t,""))}return e=Ke(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function hn(t,e,n,r){return t=Ke(7,t,r,e),t.lanes=n,t}function bi(t,e,n,r){return t=Ke(22,t,r,e),t.elementType=gc,t.lanes=n,t.stateNode={isHidden:!1},t}function io(t,e,n){return t=Ke(6,t,null,e),t.lanes=n,t}function oo(t,e,n){return e=Ke(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function cm(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zi(0),this.expirationTimes=zi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ha(t,e,n,r,s,i,o,l,a){return t=new cm(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ke(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jl(i),t}function dm(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function lh(t){if(!t)return Jt;t=t._reactInternals;e:{if(wn(t)!==t||t.tag!==1)throw Error(S(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($e(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(S(171))}if(t.tag===1){var n=t.type;if($e(n))return ld(t,n,e)}return e}function ah(t,e,n,r,s,i,o,l,a){return t=ha(n,r,!0,t,s,i,o,l,a),t.context=lh(null),n=t.current,r=Ce(),s=qt(n),i=kt(r,s),i.callback=e??null,Vt(n,i,s),t.current.lanes=s,es(t,s,r),Ue(t,r),t}function ji(t,e,n,r){var s=e.current,i=Ce(),o=qt(s);return n=lh(n),e.context===null?e.context=n:e.pendingContext=n,e=kt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Vt(s,e,o),t!==null&&(ot(t,s,o,i),Is(t,s,o)),o}function ci(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Cu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fa(t,e){Cu(t,e),(t=t.alternate)&&Cu(t,e)}function hm(){return null}var uh=typeof reportError=="function"?reportError:function(t){console.error(t)};function pa(t){this._internalRoot=t}Ei.prototype.render=pa.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(S(409));ji(t,e,null,null)};Ei.prototype.unmount=pa.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vn(function(){ji(null,t,null,null)}),e[bt]=null}};function Ei(t){this._internalRoot=t}Ei.prototype.unstable_scheduleHydration=function(t){if(t){var e=zc();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Lt.length&&e!==0&&e<Lt[n].priority;n++);Lt.splice(n,0,t),n===0&&Bc(t)}};function ma(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ni(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Tu(){}function fm(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=ci(o);i.call(c)}}var o=ah(e,r,t,0,null,!1,!1,"",Tu);return t._reactRootContainer=o,t[bt]=o.current,Hr(t.nodeType===8?t.parentNode:t),vn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=ci(a);l.call(c)}}var a=ha(t,0,!1,null,null,!1,!1,"",Tu);return t._reactRootContainer=a,t[bt]=a.current,Hr(t.nodeType===8?t.parentNode:t),vn(function(){ji(e,a,n,r)}),a}function Ci(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=ci(o);l.call(a)}}ji(e,o,t,s)}else o=fm(n,e,t,s,r);return ci(o)}Dc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=xr(e.pendingLanes);n!==0&&(Il(e,n|1),Ue(e,le()),!(W&6)&&(tr=le()+500,Xt()))}break;case 13:vn(function(){var r=jt(t,1);if(r!==null){var s=Ce();ot(r,t,1,s)}}),fa(t,1)}};Ll=function(t){if(t.tag===13){var e=jt(t,134217728);if(e!==null){var n=Ce();ot(e,t,134217728,n)}fa(t,134217728)}};Mc=function(t){if(t.tag===13){var e=qt(t),n=jt(t,e);if(n!==null){var r=Ce();ot(n,t,e,r)}fa(t,e)}};zc=function(){return G};Fc=function(t,e){var n=G;try{return G=t,e()}finally{G=n}};Oo=function(t,e,n){switch(e){case"input":if(bo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=yi(r);if(!s)throw Error(S(90));yc(r),bo(r,s)}}}break;case"textarea":xc(t,n);break;case"select":e=n.value,e!=null&&Hn(t,!!n.multiple,e,!1)}};Nc=aa;Cc=vn;var pm={usingClientEntryPoint:!1,Events:[ns,Ln,yi,jc,Ec,aa]},gr={findFiberByHostInstance:an,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mm={bundleType:gr.bundleType,version:gr.version,rendererPackageName:gr.rendererPackageName,rendererConfig:gr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Oc(t),t===null?null:t.stateNode},findFiberByHostInstance:gr.findFiberByHostInstance||hm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bs.isDisabled&&bs.supportsFiber)try{pi=bs.inject(mm),ft=bs}catch{}}He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pm;He.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ma(e))throw Error(S(200));return dm(t,e,null,n)};He.createRoot=function(t,e){if(!ma(t))throw Error(S(299));var n=!1,r="",s=uh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ha(t,1,!1,null,null,n,!1,r,s),t[bt]=e.current,Hr(t.nodeType===8?t.parentNode:t),new pa(e)};He.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(S(188)):(t=Object.keys(t).join(","),Error(S(268,t)));return t=Oc(e),t=t===null?null:t.stateNode,t};He.flushSync=function(t){return vn(t)};He.hydrate=function(t,e,n){if(!Ni(e))throw Error(S(200));return Ci(null,t,e,!0,n)};He.hydrateRoot=function(t,e,n){if(!ma(t))throw Error(S(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=uh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ah(e,null,t,1,n??null,s,!1,i,o),t[bt]=e.current,Hr(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ei(e)};He.render=function(t,e,n){if(!Ni(e))throw Error(S(200));return Ci(null,t,e,!1,n)};He.unmountComponentAtNode=function(t){if(!Ni(t))throw Error(S(40));return t._reactRootContainer?(vn(function(){Ci(null,null,t,!1,function(){t._reactRootContainer=null,t[bt]=null})}),!0):!1};He.unstable_batchedUpdates=aa;He.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ni(n))throw Error(S(200));if(t==null||t._reactInternals===void 0)throw Error(S(38));return Ci(t,e,n,!1,r)};He.version="18.3.1-next-f1338f8080-20240426";function ch(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ch)}catch(t){console.error(t)}}ch(),cc.exports=He;var gm=cc.exports,dh,Pu=gm;dh=Pu.createRoot,Pu.hydrateRoot;const vm="modulepreload",ym=function(t){return"/"+t},Ou={},ss=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(a=>{if(a=ym(a),a in Ou)return;Ou[a]=!0;const c=a.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":vm,c||(h.as="script"),h.crossOrigin="",h.href=a,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((m,v)=>{h.addEventListener("load",m),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},wm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ss(async()=>{const{default:r}=await Promise.resolve().then(()=>or);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class ga extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class xm extends ga{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Au extends ga{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ru extends ga{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var cl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(cl||(cl={}));var _m=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class km{constructor(e,{headers:n={},customFetch:r,region:s=cl.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=wm(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return _m(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:a}=n;a||(a=this.region);const c=new URL(`${this.url}/${e}`);a&&a!=="any"&&(l["x-region"]=a,c.searchParams.set("forceFunctionRegion",a));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(x=>{throw new xm(x)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new Au(h);if(!h.ok)throw new Ru(h);let v=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return v==="application/json"?w=yield h.json():v==="application/octet-stream"?w=yield h.blob():v==="text/event-stream"?w=h:v==="multipart/form-data"?w=yield h.formData():w=yield h.text(),{data:w,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Ru||s instanceof Au?s.context:void 0}}})}}var Re={},va={},Ti={},is={},Pi={},Oi={},Sm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},nr=Sm();const bm=nr.fetch,hh=nr.fetch.bind(nr),fh=nr.Headers,jm=nr.Request,Em=nr.Response,or=Object.freeze(Object.defineProperty({__proto__:null,Headers:fh,Request:jm,Response:Em,default:hh,fetch:bm},Symbol.toStringTag,{value:"Module"})),Nm=Hh(or);var Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});let Cm=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ai.default=Cm;var ph=Je&&Je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oi,"__esModule",{value:!0});const Tm=ph(Nm),Pm=ph(Ai);let Om=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Tm.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a,c;let d=null,h=null,m=null,v=i.status,w=i.statusText;if(i.ok){if(this.method!=="HEAD"){const f=await i.text();f===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=f:h=JSON.parse(f))}const j=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),g=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");j&&g&&g.length>1&&(m=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,v=406,w="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const j=await i.text();try{d=JSON.parse(j),Array.isArray(d)&&i.status===404&&(h=[],d=null,v=200,w="OK")}catch{i.status===404&&j===""?(v=204,w="No Content"):d={message:j}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,v=200,w="OK"),d&&this.shouldThrowOnError)throw new Pm.default(d)}return{error:d,data:h,count:m,status:v,statusText:w}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Oi.default=Om;var Am=Je&&Je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pi,"__esModule",{value:!0});const Rm=Am(Oi);let Im=class extends Rm.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Pi.default=Im;var Lm=Je&&Je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(is,"__esModule",{value:!0});const $m=Lm(Pi);let Um=class extends $m.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};is.default=Um;var Dm=Je&&Je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ti,"__esModule",{value:!0});const vr=Dm(is);let Mm=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new vr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new vr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(a.length>0){const c=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new vr.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new vr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new vr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Ti.default=Mm;var mh=Je&&Je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(va,"__esModule",{value:!0});const zm=mh(Ti),Fm=mh(is);let Bm=class gh{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new zm.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new gh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let l;const a=new URL(`${this.url}/rpc/${e}`);let c;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([h,m])=>m!==void 0).map(([h,m])=>[h,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([h,m])=>{a.searchParams.append(h,m)})):(l="POST",c=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new Fm.default({method:l,url:a,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};va.default=Bm;var lr=Je&&Je.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Re,"__esModule",{value:!0});Re.PostgrestError=Re.PostgrestBuilder=Re.PostgrestTransformBuilder=Re.PostgrestFilterBuilder=Re.PostgrestQueryBuilder=Re.PostgrestClient=void 0;const vh=lr(va);Re.PostgrestClient=vh.default;const yh=lr(Ti);Re.PostgrestQueryBuilder=yh.default;const wh=lr(is);Re.PostgrestFilterBuilder=wh.default;const xh=lr(Pi);Re.PostgrestTransformBuilder=xh.default;const _h=lr(Oi);Re.PostgrestBuilder=_h.default;const kh=lr(Ai);Re.PostgrestError=kh.default;var Hm=Re.default={PostgrestClient:vh.default,PostgrestQueryBuilder:yh.default,PostgrestFilterBuilder:wh.default,PostgrestTransformBuilder:xh.default,PostgrestBuilder:_h.default,PostgrestError:kh.default};const{PostgrestClient:Vm,PostgrestQueryBuilder:dv,PostgrestFilterBuilder:hv,PostgrestTransformBuilder:fv,PostgrestBuilder:pv,PostgrestError:mv}=Hm;class Wm{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const qm="2.15.5",Km=`realtime-js/${qm}`,Gm="1.0.0",dl=1e4,Jm=1e3,Qm=100;var Ar;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ar||(Ar={}));var he;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(he||(he={}));var rt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(rt||(rt={}));var hl;(function(t){t.websocket="websocket"})(hl||(hl={}));var ln;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ln||(ln={}));class Ym{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const a=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:c}}}class Sh{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Q;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Q||(Q={}));const Iu=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Xm(o,t,e,s),i),{})},Xm=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?bh(i,o):fl(o)},bh=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return n0(e,n)}switch(t){case Q.bool:return Zm(e);case Q.float4:case Q.float8:case Q.int2:case Q.int4:case Q.int8:case Q.numeric:case Q.oid:return e0(e);case Q.json:case Q.jsonb:return t0(e);case Q.timestamp:return r0(e);case Q.abstime:case Q.date:case Q.daterange:case Q.int4range:case Q.int8range:case Q.money:case Q.reltime:case Q.text:case Q.time:case Q.timestamptz:case Q.timetz:case Q.tsrange:case Q.tstzrange:return fl(e);default:return fl(e)}},fl=t=>t,Zm=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},e0=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},t0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},n0=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>bh(e,l))}return t},r0=t=>typeof t=="string"?t.replace(" ","T"):t,jh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class lo{constructor(e,n,r={},s=dl){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Lu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Lu||(Lu={}));class Rr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=Rr.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Rr.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},a={};return this.map(i,(c,d)=>{o[c]||(a[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const m=d.map(j=>j.presence_ref),v=h.map(j=>j.presence_ref),w=d.filter(j=>v.indexOf(j.presence_ref)<0),x=h.filter(j=>m.indexOf(j.presence_ref)<0);w.length>0&&(l[c]=w),x.length>0&&(a[c]=x)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:a},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var c;const d=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(a),d.length>0){const h=e[l].map(v=>v.presence_ref),m=d.filter(v=>h.indexOf(v.presence_ref)<0);e[l].unshift(...m)}r(l,d,a)}),this.map(o,(l,a)=>{let c=e[l];if(!c)return;const d=a.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=c,s(l,c,a),c.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $u;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})($u||($u={}));var Ir;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ir||(Ir={}));var yt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(yt||(yt={}));class ya{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=he.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new lo(this,rt.join,this.params,this.timeout),this.rejoinTimer=new Sh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=he.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=he.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Rr(this),this.broadcastEndpointURL=jh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==he.closed){const{config:{broadcast:o,presence:l,private:a}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Ir.PRESENCE]&&this.bindings[Ir.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:c,private:a};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(yt.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(yt.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var w;if(this.socket.setAuth(),v===void 0){e==null||e(yt.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,j=(w=x==null?void 0:x.length)!==null&&w!==void 0?w:0,g=[];for(let f=0;f<j;f++){const p=x[f],{filter:{event:y,schema:_,table:k,filter:E}}=p,C=v&&v[f];if(C&&C.event===y&&C.schema===_&&C.table===k&&C.filter===E)g.push(Object.assign(Object.assign({},p),{id:C.id}));else{this.unsubscribe(),this.state=he.errored,e==null||e(yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(yt.SUBSCRIBED);return}}).receive("error",v=>{this.state=he.errored,e==null||e(yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===he.joined&&e===Ir.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=he.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new lo(this,rt.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=he.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new lo(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Qm){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:c,join:d}=rt;if(r&&[l,a,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var w,x,j;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((j=(x=v.filter)===null||x===void 0?void 0:x.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(v=>v.callback(m,r)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var w,x,j,g,f,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const y=v.id,_=(w=v.filter)===null||w===void 0?void 0:w.event;return y&&((x=n.ids)===null||x===void 0?void 0:x.includes(y))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const y=(f=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return y==="*"||y===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof m=="object"&&"ids"in m){const w=m.data,{schema:x,table:j,commit_timestamp:g,type:f,errors:p}=w;m=Object.assign(Object.assign({},{schema:x,table:j,commit_timestamp:g,eventType:f,new:{},old:{},errors:p}),this._getPayloadRecords(w))}v.callback(m,r)})}_isClosed(){return this.state===he.closed}_isJoined(){return this.state===he.joined}_isJoining(){return this.state===he.joining}_isLeaving(){return this.state===he.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ya.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(rt.close,{},e)}_onError(e){this._on(rt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=he.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Iu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Iu(e.columns,e.old_record)),n}}const ao=()=>{},js={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},s0=[1e3,2e3,5e3,1e4],i0=1e4,o0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class l0{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=dl,this.transport=null,this.heartbeatIntervalMs=js.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ao,this.ref=0,this.reconnectTimer=null,this.logger=ao,this.conn=null,this.sendBuffer=[],this.serializer=new Ym,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>ss(async()=>{const{default:l}=await Promise.resolve().then(()=>or);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${hl.websocket}`,this.httpEndpoint=jh(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Wm.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Gm}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ar.connecting:return ln.Connecting;case Ar.open:return ln.Open;case Ar.closing:return ln.Closing;default:return ln.Closed}}isConnected(){return this.connectionState()===ln.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new ya(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Jm,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},js.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",a=i.status||"";this.log("receive",`${a} ${r} ${s} ${l}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(rt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([o0],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Km};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(rt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Sh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},js.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,l,a,c,d;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:dl,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:js.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:ao,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:h=>s0[h-1]||i0,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,m)=>m(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class wa extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function fe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class a0 extends wa{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class pl extends wa{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var u0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const Eh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ss(async()=>{const{default:r}=await Promise.resolve().then(()=>or);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},c0=()=>u0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ss(()=>Promise.resolve().then(()=>or),void 0)).Response:Response}),ml=t=>{if(Array.isArray(t))return t.map(n=>ml(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=ml(r)}),e},d0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var xn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const uo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),h0=(t,e,n)=>xn(void 0,void 0,void 0,function*(){const r=yield c0();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new a0(uo(s),i,o))}).catch(s=>{e(new pl(uo(s),s))}):e(new pl(uo(t),t))}),f0=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(d0(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function os(t,e,n,r,s,i){return xn(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,f0(e,r,s,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>h0(a,l,r))})})}function di(t,e,n,r){return xn(this,void 0,void 0,function*(){return os(t,"GET",e,n,r)})}function dt(t,e,n,r,s){return xn(this,void 0,void 0,function*(){return os(t,"POST",e,r,s,n)})}function gl(t,e,n,r,s){return xn(this,void 0,void 0,function*(){return os(t,"PUT",e,r,s,n)})}function p0(t,e,n,r){return xn(this,void 0,void 0,function*(){return os(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Nh(t,e,n,r,s){return xn(this,void 0,void 0,function*(){return os(t,"DELETE",e,r,s,n)})}var Ee=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const m0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Uu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class g0{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Eh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return Ee(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Uu),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield(e=="PUT"?gl:dt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fe(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Ee(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const c=Object.assign({upsert:Uu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",c.cacheControl)):(a=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield gl(this.fetch,l.toString(),a,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fe(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,n){return Ee(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield dt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new wa("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}})}update(e,n,r){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Ee(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Ee(this,void 0,void 0,function*(){try{return{data:{path:(yield dt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Ee(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield dt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Ee(this,void 0,void 0,function*(){try{const s=yield dt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}download(e,n){return Ee(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield di(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(fe(l))return{data:null,error:l};throw l}})}info(e){return Ee(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield di(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ml(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}})}exists(e){return Ee(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield p0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r)&&r instanceof pl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&s.push(a);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${c}`)}}}remove(e){return Ee(this,void 0,void 0,function*(){try{return{data:yield Nh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ee(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},m0),n),{prefix:e||""});return{data:yield dt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}listV2(e,n){return Ee(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield dt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const v0="2.12.1",y0={"X-Client-Info":`storage-js/${v0}`};var Sn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class w0{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},y0),n),this.fetch=Eh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Sn(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(fe(e))return{data:null,error:e};throw e}})}getBucket(e){return Sn(this,void 0,void 0,function*(){try{return{data:yield di(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Sn(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Sn(this,void 0,void 0,function*(){try{return{data:yield gl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Sn(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Sn(this,void 0,void 0,function*(){try{return{data:yield Nh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n))return{data:null,error:n};throw n}})}}class x0 extends w0{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new g0(this.url,this.headers,e,this.fetch)}}const _0="2.57.4";let kr="";typeof Deno<"u"?kr="deno":typeof document<"u"?kr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kr="react-native":kr="node";const k0={"X-Client-Info":`supabase-js-${kr}/${_0}`},S0={headers:k0},b0={schema:"public"},j0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},E0={};var N0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const C0=t=>{let e;return t?e=t:typeof fetch>"u"?e=hh:e=fetch,(...n)=>e(...n)},T0=()=>typeof Headers>"u"?fh:Headers,P0=(t,e,n)=>{const r=C0(n),s=T0();return(i,o)=>N0(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var O0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};function A0(t){return t.endsWith("/")?t:t+"/"}function R0(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:a,auth:c,realtime:d,global:h}=e,m={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>O0(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function I0(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(A0(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ch="2.71.1",Cn=30*1e3,vl=3,co=vl*Cn,L0="http://localhost:9999",$0="supabase.auth.token",U0={"X-Client-Info":`gotrue-js/${Ch}`},yl="X-Supabase-Api-Version",Th={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},D0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,M0=10*60*1e3;class xa extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function D(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class z0 extends xa{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function F0(t){return D(t)&&t.name==="AuthApiError"}class Ph extends xa{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Zt extends xa{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class At extends Zt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function B0(t){return D(t)&&t.name==="AuthSessionMissingError"}class Es extends Zt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ns extends Zt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Cs extends Zt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function H0(t){return D(t)&&t.name==="AuthImplicitGrantRedirectError"}class Du extends Zt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wl extends Zt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ho(t){return D(t)&&t.name==="AuthRetryableFetchError"}class Mu extends Zt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class xl extends Zt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const hi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zu=` 	
\r=`.split(""),V0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<zu.length;e+=1)t[zu[e].charCodeAt(0)]=-2;for(let e=0;e<hi.length;e+=1)t[hi[e].charCodeAt(0)]=e;return t})();function Fu(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(hi[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(hi[r]),e.queuedBits-=6}}function Oh(t,e,n){const r=V0[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Bu(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{K0(o,r,n)};for(let o=0;o<t.length;o+=1)Oh(t.charCodeAt(o),s,i);return e.join("")}function W0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function q0(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}W0(r,e)}}function K0(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function G0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Oh(t.charCodeAt(s),n,r);return new Uint8Array(e)}function J0(t){const e=[];return q0(t,n=>e.push(n)),new Uint8Array(e)}function Q0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Fu(s,n,r)),Fu(null,n,r),e.join("")}function Y0(t){return Math.round(Date.now()/1e3)+t}function X0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const et=()=>typeof window<"u"&&typeof document<"u",tn={tested:!1,writable:!1},Ah=()=>{if(!et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(tn.tested)return tn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),tn.tested=!0,tn.writable=!0}catch{tn.tested=!0,tn.writable=!1}return tn.writable};function Z0(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Rh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ss(async()=>{const{default:r}=await Promise.resolve().then(()=>or);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},eg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Tn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},nn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ot=async(t,e)=>{await t.removeItem(e)};class Ri{constructor(){this.promise=new Ri.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ri.promiseConstructor=Promise;function fo(t){const e=t.split(".");if(e.length!==3)throw new xl("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!D0.test(e[r]))throw new xl("JWT not in base64url format");return{header:JSON.parse(Bu(e[0])),payload:JSON.parse(Bu(e[1])),signature:G0(e[2]),raw:{header:e[0],payload:e[1]}}}async function tg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ng(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function rg(t){return("0"+t.toString(16)).substr(-2)}function sg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,rg).join("")}async function ig(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function og(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await ig(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bn(t,e,n=!1){const r=sg();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Tn(t,`${e}-code-verifier`,s);const i=await og(r);return[i,r===i?"plain":"s256"]}const lg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ag(t){const e=t.headers.get(yl);if(!e||!e.match(lg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ug(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function cg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const dg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jn(t){if(!dg.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function po(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Hu(t){return JSON.parse(JSON.stringify(t))}var hg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const on=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),fg=[502,503,504];async function Vu(t){var e;if(!eg(t))throw new wl(on(t),0);if(fg.includes(t.status))throw new wl(on(t),t.status);let n;try{n=await t.json()}catch(i){throw new Ph(on(i),i)}let r;const s=ag(t);if(s&&s.getTime()>=Th["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Mu(on(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new At}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Mu(on(n),t.status,n.weak_password.reasons);throw new z0(on(n),t.status||500,r)}const pg=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function F(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[yl]||(i[yl]=Th["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await mg(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function mg(t,e,n,r,s,i){const o=pg(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(a){throw console.error(a),new wl(on(a),0)}if(l.ok||await Vu(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await Vu(a)}}function gt(t){var e;let n=null;wg(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Y0(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Wu(t){const e=gt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ut(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function gg(t){return{data:t,error:null}}function vg(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=hg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function yg(t){return t}function wg(t){return t.access_token&&t.refresh_token&&t.expires_in}const mo=["global","local","others"];var xg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class _g{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Rh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=mo[0]){if(mo.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mo.join(", ")}`);try{return await F(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await F(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ut})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=xg(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await F(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:vg,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(D(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await F(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ut})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,a;try{const c={nextPage:null,lastPage:0,total:0},d=await F(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:yg});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(a=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return v.length>0&&(v.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);c[`${j}Page`]=x}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(D(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){jn(e);try{return await F(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ut})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){jn(e);try{return await F(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ut})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){jn(e);try{return await F(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ut})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){jn(e.userId);try{const{data:n,error:r}=await F(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(D(n))return{data:null,error:n};throw n}}async _deleteFactor(e){jn(e.userId),jn(e.id);try{return{data:await F(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}}function qu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function kg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const En={debug:!!(globalThis&&Ah()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ih extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Sg extends Ih{}async function bg(t,e,n){En.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),En.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){En.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{En.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw En.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Sg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(En.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}kg();const jg={url:L0,storageKey:$0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:U0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ku(t,e,n){return await n()}const Nn={};class Xr{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xr.nextInstanceID,Xr.nextInstanceID+=1,this.instanceID>0&&et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},jg),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new _g({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Rh(s.fetch),this.lock=s.lock||Ku,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:et()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=bg:this.lock=Ku,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Ah()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=qu(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Nn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Nn[this.storageKey]=Object.assign(Object.assign({},Nn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Nn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Nn[this.storageKey]=Object.assign(Object.assign({},Nn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ch}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Z0(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),et()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),H0(i)){const a=(e=i.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return D(n)?{error:n}:{error:new Ph("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:gt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:m}=e;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await bn(this.storage,this.storageKey)),i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:w},xform:gt})}else if("phone"in e){const{phone:d,password:h,options:m}=e;i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:gt})}else throw new Ns("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Wu})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Wu})}else throw new Ns("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Es}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,l,a,c,d,h,m,v;let w,x;if("message"in e)w=e.message,x=e.signature;else{const{chain:j,wallet:g,statement:f,options:p}=e;let y;if(et())if(typeof g=="object")y=g;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))y=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=g}const _=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in y&&y.signIn){const k=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),f?{statement:f}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)w=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),x=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in y)||typeof y.signMessage!="function"||!("publicKey"in y)||typeof y!="object"||!y.publicKey||!("toBase58"in y.publicKey)||typeof y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${_.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await y.signMessage(new TextEncoder().encode(w),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=k}}try{const{data:j,error:g}=await F(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Q0(x)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:gt});if(g)throw g;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Es}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:g})}catch(j){if(D(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const n=await nn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await F(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:gt});if(await Ot(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Es}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(D(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:gt}),{data:a,error:c}=l;return c?{data:{user:null,session:null},error:c}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Es}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:c})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:a}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await bn(this.storage,this.storageKey));const{error:h}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:a}=e,{data:c,error:d}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Ns("You must provide either an email or phone number.")}catch(l){if(D(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await F(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:gt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,c=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await bn(this.storage,this.storageKey)),await F(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:gg})}catch(i){if(D(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new At;const{error:s}=await F(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(D(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await F(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await F(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Ns("You must provide either an email or phone number and a type")}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await nn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<co:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await nn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=po()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ut}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new At}:await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ut})})}catch(n){if(D(n))return B0(n)&&(await this._removeSession(),await Ot(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new At;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await bn(this.storage,this.storageKey));const{data:c,error:d}=await F(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:Ut});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new At;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=fo(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(D(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new At;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!et())throw new Cs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Cs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Du("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Cs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Du("No code detected.");const{data:f,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:c}=e;if(!i||!l||!o||!c)throw new Cs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;a&&(m=parseInt(a));const v=m-d;v*1e3<=Cn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const w=m-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,m,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,m,d);const{data:x,error:j}=await this._getUser(i);if(j)throw j;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(D(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await nn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(F0(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Ot(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=X0(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await bn(this.storage,this.storageKey,!0));try{return await F(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(D(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,a,c,d;const{data:h,error:m}=i;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await F(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return et()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(D(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await F(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await ng(async s=>(s>0&&await tg(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await F(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ho(i)&&Date.now()+o-r<Cn})}catch(r){if(this._debug(n,"error",r),D(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),et()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await nn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await nn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Tn(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:po()}else if(s&&!s.user&&!s.user){const o=await nn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Ot(this.storage,this.storageKey+"-user"),await Tn(this.storage,this.storageKey,s)):s.user=po()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<co;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${co}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),ho(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new At;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ri;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new At;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),D(i)){const o={session:null,error:i};return ho(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Tn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Hu(s);await Tn(this.storage,this.storageKey,i)}else{const s=Hu(n);await Tn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ot(this.storage,this.storageKey),await Ot(this.storage,this.storageKey+"-code-verifier"),await Ot(this.storage,this.storageKey+"-user"),this.userStorage&&await Ot(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Cn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Cn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Cn}ms, refresh threshold is ${vl} ticks`),s<=vl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ih)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await bn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await F(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:c}=await F(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(D(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await F(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(D(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=fo(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+M0>s)return r;const{data:i,error:o}=await F(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};r=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=fo(r);n!=null&&n.allowExpired||ug(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const d=cg(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,J0(`${l}.${a}`)))throw new xl("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}}Xr.nextInstanceID=0;const Eg=Xr;class Ng extends Eg{constructor(e){super(e)}}var Cg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class Tg{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const l=I0(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const a=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:b0,realtime:E0,auth:Object.assign(Object.assign({},j0),{storageKey:a}),global:S0},d=R0(r??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=P0(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Vm(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new x0(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new km(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Cg(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:l,lock:a,debug:c},d,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ng({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:a,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new l0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Pg=(t,e,n)=>new Tg(t,e,n);function Og(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Og()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ag="https://rqairbvsiwohklvsxyre.supabase.co",Rg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJxYWlyYnZzaXdvaGtsdnN4eXJlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY5Nzk2NTcsImV4cCI6MjA4MjU1NTY1N30.6Uyi42A_4Pqe1G40qnx4M8ST38XRgh9x8o7mCtiVr18",B=Pg(Ag,Rg),Lh=O.createContext(void 0);function Ig({children:t}){const[e,n]=O.useState(null),[r,s]=O.useState(!0);O.useEffect(()=>{i();const{data:c}=B.auth.onAuthStateChange(()=>{(async()=>await i())()});return()=>{var d;(d=c==null?void 0:c.subscription)==null||d.unsubscribe()}},[]);const i=async()=>{try{const{data:{user:c}}=await B.auth.getUser();if(c){const{data:d}=await B.from("user_profiles").select("*").eq("id",c.id).maybeSingle();n(d)}else n(null)}catch(c){console.error("Error checking user:",c),n(null)}finally{s(!1)}},o=async(c,d)=>{const{error:h}=await B.auth.signInWithPassword({email:c,password:d});if(h)throw h;await i()},l=async(c,d,h,m,v)=>{const{data:w,error:x}=await B.auth.signUp({email:c,password:d});if(x)throw x;if(!w.user)throw new Error("User creation failed");const{error:j}=await B.from("user_profiles").insert({id:w.user.id,email:c,full_name:h,role:m,client_id:v||null,is_active:!0});if(j)throw j;await i()},a=async()=>{const{error:c}=await B.auth.signOut();if(c)throw c;n(null)};return u.jsx(Lh.Provider,{value:{user:e,loading:r,signIn:o,signUp:l,signOut:a},children:t})}function en(){const t=O.useContext(Lh);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),J=(t,e)=>{const n=O.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:a,...c},d)=>O.createElement("svg",{ref:d,...Lg,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${$g(t)}`,l].join(" "),...c},[...e.map(([h,m])=>O.createElement(h,m)),...Array.isArray(a)?a:[a]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=J("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=J("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=J("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=J("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=J("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=J("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=J("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=J("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=J("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=J("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=J("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=J("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=J("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=J("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=J("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=J("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=J("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=J("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=J("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=J("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=J("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=J("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=J("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=J("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=J("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=J("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=J("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=J("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Yg(){const{signIn:t}=en(),[e,n]=O.useState(""),[r,s]=O.useState(""),[i,o]=O.useState(!1),[l,a]=O.useState(""),c=async d=>{d.preventDefault(),a(""),o(!0);try{await t(e,r)}catch(h){a(h instanceof Error?h.message:"Failed to sign in")}finally{o(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-slate-100 flex items-center justify-center p-6",children:u.jsx("div",{className:"w-full max-w-md",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-full mb-4",children:u.jsx(Qu,{className:"w-8 h-8 text-white"})}),u.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Facet Builder Pro"}),u.jsx("p",{className:"text-slate-600",children:"Sign in to your account"})]}),u.jsxs("form",{onSubmit:c,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-2",children:"Email Address"}),u.jsx("input",{type:"email",id:"email",value:e,onChange:d=>n(d.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"you@company.com",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-2",children:"Password"}),u.jsx("input",{type:"password",id:"password",value:r,onChange:d=>s(d.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"",required:!0})]}),l&&u.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:l}),u.jsx("button",{type:"submit",disabled:i,className:"w-full py-3 px-6 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:i?u.jsxs(u.Fragment,{children:[u.jsx(Dh,{className:"w-5 h-5 animate-spin"}),"Signing In..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Qu,{className:"w-5 h-5"}),"Sign In"]})})]}),u.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200 text-center text-sm text-slate-600",children:[u.jsx("p",{children:"Demo Credentials:"}),u.jsxs("p",{className:"mt-2 font-mono text-xs",children:["Admin: admin@demo.com / Admin@123",u.jsx("br",{}),"Client: client@demo.com / Client@123"]})]})]})})})}function Xg(){const{user:t}=en(),[e,n]=O.useState([]),[r,s]=O.useState(""),[i,o]=O.useState(null),[l,a]=O.useState(!1),[c,d]=O.useState(!1),[h,m]=O.useState([]),[v,w]=O.useState(!1);O.useEffect(()=>{j()},[t]);const x=async y=>{if(y){o(y),a(!0),w(!0),m([]);try{const{data:_,error:k}=await B.from("facet_generation_jobs").select("id").eq("project_name",y.project_name);if(k)throw k;const E=(_||[]).map(C=>C.id);if(E.length>0){const{data:C,error:K}=await B.from("recommended_facets").select("*, categories (name)").in("job_id",E).order("sort_order");if(K)throw K;m(C||[])}}catch(_){console.error("Error loading project details:",_)}finally{w(!1)}}},j=async()=>{if(!t)return;const y=B.from("facet_generation_jobs").select("*").order("created_at",{ascending:!1});t.role!=="admin"&&y.eq("client_id",t.client_id);const{data:_}=await y;n(_||[])},g=async()=>{if(!(!r.trim()||!t)){d(!0);try{const{error:y}=await B.from("facet_generation_jobs").insert({client_id:t.client_id||t.id,project_name:r,category_ids:[],status:"pending",created_by:t.id});if(y)throw y;s(""),await j()}catch(y){console.error("Error creating project:",y)}finally{d(!1)}}},f=async y=>{confirm("Are you sure you want to delete this project?")&&(await B.from("facet_generation_jobs").delete().eq("id",y),await j())},p=y=>{switch(y){case"completed":return"bg-green-100 text-green-700";case"processing":return"bg-blue-100 text-blue-700";case"failed":return"bg-red-100 text-red-700";default:return"bg-yellow-100 text-yellow-700"}};return u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Project Management"}),u.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6 mb-6",children:[u.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Create New Project"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("input",{type:"text",value:r,onChange:y=>s(y.target.value),placeholder:"Enter project name",className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),u.jsxs("button",{onClick:g,disabled:c||!r.trim(),className:"inline-flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[u.jsx(zg,{className:"w-5 h-5"}),"Create Project"]})]})]}),u.jsx("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Project Name"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Status"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Categories"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Progress"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Created"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Actions"})]})}),u.jsxs("tbody",{className:"divide-y divide-slate-200",children:[e.map(y=>u.jsxs("tr",{className:"hover:bg-slate-50",children:[u.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-900",children:y.project_name||"Untitled Project"}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p(y.status)}`,children:y.status})}),u.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:y.total_categories}),u.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[y.progress,"%"]}),u.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:new Date(y.created_at).toLocaleDateString()}),u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>x(y),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:u.jsx(Mg,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>f(y.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:u.jsx(Fh,{className:"w-4 h-4"})})]})})]},y.id)),e.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-slate-500",children:"No projects yet. Create your first project to get started."})})]})]})}),l&&i&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] flex flex-col",children:[u.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[u.jsxs("h3",{className:"text-xl font-semibold text-slate-900",children:["Project Details: ",i.project_name||"Untitled Project"]}),u.jsx("button",{onClick:()=>a(!1),className:"p-2 hover:bg-slate-100 rounded-full",children:u.jsx(_l,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"p-6 overflow-y-auto",children:v?u.jsx("div",{className:"text-center py-12",children:u.jsx("p",{className:"text-slate-500",children:"Loading project history..."})}):u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Status"}),u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p(i.status)}`,children:i.status})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Created"}),u.jsx("p",{className:"text-slate-800",children:new Date(i.created_at).toLocaleDateString()})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Generated Facet History"}),h.length>0?u.jsx("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-slate-600",children:"Category"}),u.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-slate-600",children:"Facet Name"}),u.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-slate-600",children:"Priority"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200",children:h.map(y=>{var _;return u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm text-slate-500",children:((_=y.categories)==null?void 0:_.name)||"N/A"}),u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-slate-800",children:y.facet_name}),u.jsx("td",{className:"px-4 py-2 text-sm",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y.priority==="High"?"bg-red-100 text-red-700":y.priority==="Medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:y.priority})})]},y.id)})})]})}):u.jsx("div",{className:"text-center py-8 border-2 border-dashed border-slate-200 rounded-lg",children:u.jsx("p",{className:"text-slate-500",children:"No facets have been generated for this project yet."})})]})]})}),u.jsx("div",{className:"px-6 py-4 bg-slate-50 border-t border-slate-200 flex justify-end",children:u.jsx("button",{onClick:()=>a(!1),className:"px-6 py-2 bg-slate-200 text-slate-800 rounded-lg hover:bg-slate-300",children:"Close"})})]})})]})}function Zg(){const{user:t}=en(),[e,n]=O.useState(null),[r,s]=O.useState(!1),[i,o]=O.useState(null),l=h=>{h.target.files&&h.target.files[0]&&(n(h.target.files[0]),o(null))},a=h=>h.trim().split(`
`).map(v=>{const w=[];let x="",j=!1;for(let g=0;g<v.length;g++){const f=v[g];f==='"'?j=!j:f===","&&!j?(w.push(x.trim()),x=""):x+=f}return w.push(x.trim()),w}),c=async()=>{if(!(!e||!t)){s(!0),o(null);try{const h=await e.text(),m=a(h),v=m[0],x=m.slice(1).map(f=>{const p=f[0]||"",y=p.split(">").map(E=>E.trim()),_=y.length,k=y[y.length-1]||"";return{client_id:t.client_id||t.id,category_path:p,level:_,name:k,metadata:{}}}).filter(f=>f.name);let j=0,g=0;for(const f of x){const{error:p}=await B.from("categories").insert(f);p?g++:j++}o({success:j,failed:g}),n(null)}catch(h){console.error("Error uploading categories:",h),o({success:0,failed:1})}finally{s(!1)}}},d=()=>{const h=`industry_name,level-1,level-2,level-3,level-4,level-5,level-6,level-7,level-8,level-9,level-10,bread_crumbs,end_category
"Marine","Marine Electronics","Gps Chart Plotters","Chart Plotters - Multi Function","","","","","","","","Marine Electronics > Gps Chart Plotters > Chart Plotters - Multi Function","Chart Plotters - Multi Function"
"Hardware","Tools","Power Tools","Drills & Drivers","Cordless Pistol-Grip Drills","","","","","","","Power Tools > Drills & Drivers > Cordless Pistol-Grip Drills","Cordless Pistol-Grip Drills"
"Marine","Kayaks & Watersports","Sup Paddle Boards","Jobe & Red Paddle Sups At Best Prices","","","","","","","","Kayaks & Watersports > Sup Paddle Boards > Jobe & Red Paddle Sups At Best Prices","Jobe & Red Paddle Sups At Best Prices"
`,m=new Blob([h],{type:"text/csv;charset=utf-8;"}),v=URL.createObjectURL(m),w=document.createElement("a");w.href=v,w.download="category-upload-template.csv",document.body.appendChild(w),w.click(),document.body.removeChild(w)};return u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Upload Categories"}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[u.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Upload CSV File"}),u.jsx("div",{className:"mb-4",children:u.jsxs("label",{className:"block w-full cursor-pointer",children:[u.jsx("div",{className:"flex items-center justify-center w-full h-32 px-4 transition bg-white border-2 border-slate-300 border-dashed rounded-lg hover:border-blue-400",children:u.jsx("div",{className:"text-center",children:e?u.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[u.jsx(Uh,{className:"w-6 h-6"}),u.jsx("span",{className:"font-medium",children:e.name})]}):u.jsxs(u.Fragment,{children:[u.jsx(Bh,{className:"w-8 h-8 text-slate-400 mx-auto mb-2"}),u.jsx("p",{className:"text-sm text-slate-600",children:"Click to upload or drag and drop"}),u.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"CSV files only"})]})})}),u.jsx("input",{type:"file",accept:".csv",onChange:l,className:"hidden"})]})}),u.jsx("button",{onClick:c,disabled:!e||r,className:"w-full py-3 px-6 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?"Uploading...":"Upload Categories"}),i&&u.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 text-green-700 mb-2",children:[u.jsx($h,{className:"w-5 h-5"}),u.jsx("span",{className:"font-medium",children:"Upload Complete"})]}),u.jsxs("p",{className:"text-sm text-slate-600",children:["Successfully uploaded: ",i.success," categories",i.failed>0&&` (${i.failed} failed)`]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[u.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"CSV Format Requirements"}),u.jsxs("div",{className:"space-y-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Required Columns:"}),u.jsxs("ul",{className:"list-disc list-inside text-slate-600 space-y-1",children:[u.jsx("li",{children:'Category Path (e.g., "L1 > L2 > L3")'}),u.jsx("li",{children:"Level (1-10)"}),u.jsx("li",{children:"Description (optional)"})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Example:"}),u.jsx("div",{className:"bg-slate-50 p-3 rounded font-mono text-xs overflow-x-auto",children:"Marine Safety Equipment > Life Jackets,2,Category"})]}),u.jsxs("button",{onClick:d,className:"inline-flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors",children:[u.jsx(_a,{className:"w-4 h-4"}),"Download Template"]})]})]})]})]})}const Xu=["US","UK","AUS","Ireland","General European"],Bn=["Industry Keywords","Geography","Business Rules","Customer Intent","Competitive Analysis","Use Case Scenarios","Seasonal & Trends"];function ev(){const{user:t}=en(),[e,n]=O.useState([]),[r,s]=O.useState(null),[i,o]=O.useState(""),[l,a]=O.useState(""),[c,d]=O.useState(!1),[h,m]=O.useState(!1),[v,w]=O.useState(!1),[x,j]=O.useState([]),[g,f]=O.useState(!1),[p,y]=O.useState(null),[_,k]=O.useState(null),[E,C]=O.useState(Array(5).fill("")),[K,$]=O.useState(!1),[X,De]=O.useState({name:"",template:"",level:1}),[Oe,Xe]=O.useState([]);O.useEffect(()=>{at()},[t]);const ar=async b=>{if(b){s(b),w(!0),f(!0);try{const{data:A,error:R}=await B.from("prompt_versions").select("*").eq("prompt_template_id",b.id).order("version",{ascending:!1});if(R)throw R;j(A||[])}catch(A){console.error("Error loading prompt history:",A),k("Failed to load version history.")}finally{f(!1)}}},at=async()=>{if(!t)return;k(null);const b=B.from("prompt_templates").select("*");t.role!=="admin"&&b.or(`client_id.eq.${t.client_id},client_id.is.null`);const{data:A,error:R}=await b;if(R)console.error("Error loading prompts:",R),k(`Failed to load prompts: ${R.message}`),n([]);else{const M=(A||[]).sort((ae,ye)=>{const Tt=Bn.indexOf(ae.name),mt=Bn.indexOf(ye.name);return(Tt===-1?1/0:Tt)-(mt===-1?1/0:mt)});n(M)}},Ct=async(b,A)=>{if(!b){alert("There is no content to copy.");return}try{await navigator.clipboard.writeText(b),y(A),setTimeout(()=>{y(null)},2e3)}catch(R){console.error("Failed to copy text:",R),alert("Failed to copy content to clipboard.")}},T=async()=>{if(!X.name.trim()||!X.template.trim()){k("Prompt name and template content are required.");return}if(t){k(null),m(!0);try{const{error:b}=await B.from("prompt_templates").insert({name:X.name,template:X.template,level:X.level,client_id:t.client_id,current_version:1});if(b)throw b;$(!1),De({name:"",template:"",level:1}),await at()}catch(b){console.error("Error creating prompt:",b),k(`Failed to create prompt: ${b.message}`)}finally{m(!1)}}},L=b=>{var A,R;if(Xe([]),k(null),s(b),o(b.template),a(""),d(!0),C(Array(5).fill("")),b.name==="Geography"){const M=(((A=b.metadata)==null?void 0:A.country_templates)||[]).map(ae=>({...ae,id:Math.random().toString(36).substring(2,9)}));Xe(M),o("")}else if(b.name==="Industry Keywords"){const de=((R=b.metadata)==null?void 0:R.marine_levels)||[],M=Array(5).fill("").map((ae,ye)=>de[ye]||"");C(M)}},U=(b,A)=>{Xe(R=>R.map(de=>de.id===b?{...de,template:A}:de))},Z=(b,A)=>{const R=[...E];R[b]=A,C(R)},N=()=>{const b=new Set(Oe.map(R=>R.country)),A=Xu.find(R=>!b.has(R));A?Xe(R=>[...R,{id:Math.random().toString(36).substring(2,9),country:A,template:""}]):alert("All available countries have been added.")},I=b=>{Xe(A=>A.filter(R=>R.id!==b))},z=(b,A)=>{Xe(R=>R.map(de=>de.id===b?{...de,country:A}:de))},V=async()=>{if(!(!r||!t)){k(null),m(!0);try{const b=(r.current_version||1)+1;let A=i;if(r.name==="Geography"){const M=Oe.map(({id:ae,...ye})=>ye);A=JSON.stringify(M,null,2)}await B.from("prompt_versions").insert({prompt_template_id:r.id,version:b,template_content:A,variables:r.variables,edited_by:t.id,change_notes:l,is_active:!0}),await B.from("prompt_versions").update({is_active:!1}).eq("prompt_template_id",r.id).neq("version",b);const R={template:i,current_version:b,updated_at:new Date().toISOString(),metadata:r.metadata||{}};if(r.name==="Geography"){const M=Oe.map(({id:ae,...ye})=>ye);R.metadata.country_templates=M,R.template="This prompt uses country-specific templates stored in metadata."}r.name==="Industry Keywords"&&(R.metadata.marine_levels=E.filter(M=>M.trim()!==""));const{error:de}=await B.from("prompt_templates").update(R).eq("id",r.id);if(de)throw de;d(!1),s(null),await at()}catch(b){console.error("Error saving prompt version:",b),k(`Save failed: ${b.message}`)}finally{m(!1)}}},q=async(b,A)=>{t&&(A?await B.from("master_templates").delete().eq("prompt_template_id",b):await B.from("master_templates").insert({client_id:t.client_id||t.id,prompt_template_id:b,level_start:2,level_end:10,is_master:!0}),await at())},ce=async b=>{const{data:A}=await B.from("master_templates").select("id").eq("prompt_template_id",b).maybeSingle();return!!A};return u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Prompt Template Management"}),!c&&u.jsxs("button",{onClick:()=>$(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[u.jsx(Mh,{className:"w-5 h-5"}),"New Prompt"]})]}),c&&r?u.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6 mb-6",children:[u.jsxs("h3",{className:"font-semibold text-slate-900 mb-4",children:["Edit: ",r.name]}),u.jsxs("div",{className:"space-y-4",children:[r.name!=="Geography"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:r.name==="Industry Keywords"?"Level 1 Keywords":"Template Content"}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>Ct(i,"main-content"),className:"text-xs inline-flex items-center gap-1 text-slate-500 hover:text-slate-800",children:[u.jsx(Gu,{className:"w-3 h-3"})," Copy"]}),p==="main-content"&&u.jsx("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 bg-slate-800 text-white text-xs rounded py-1 px-2",children:"Copied!"})]}),u.jsx("textarea",{value:i,onChange:b=>o(b.target.value),rows:8,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm"})]}),r.name==="Geography"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Country-Specific Templates"}),u.jsxs("div",{className:"space-y-4",children:[Oe.map(b=>u.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("select",{value:b.country,onChange:A=>z(b.id,A.target.value),className:"font-medium text-slate-800 bg-white border border-slate-300 rounded-md px-3 py-1",children:Xu.map(A=>u.jsx("option",{value:A,children:A},A))}),u.jsx("button",{onClick:()=>I(b.id),className:"p-1 text-red-500 hover:bg-red-50 rounded-full",children:u.jsx(_l,{className:"w-4 h-4"})})]}),u.jsx("textarea",{value:b.template,onChange:A=>U(b.id,A.target.value),rows:5,placeholder:`Enter template content for ${b.country}...`,className:"w-full px-4 py-2 border border-slate-300 rounded-lg font-mono text-sm"})]},b.id)),u.jsx("button",{onClick:N,className:"w-full text-center py-3 border-2 border-dashed border-slate-300 text-slate-500 rounded-lg hover:bg-slate-50 hover:border-slate-400",children:"+ Add Country Template"})]})]}),r.name==="Industry Keywords"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Sub-Level Keywords (Levels 2-6)"}),u.jsx("div",{className:"space-y-3",children:E.map((b,A)=>u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:["Level ",A+2]}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>Ct(b,`level-${A+2}`),className:"text-xs inline-flex items-center gap-1 text-slate-500 hover:text-slate-800",children:[u.jsx(Gu,{className:"w-3 h-3"})," Copy"]}),p===`level-${A+2}`&&u.jsx("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 bg-slate-800 text-white text-xs rounded py-1 px-2",children:"Copied!"})]}),u.jsx("textarea",{value:b,onChange:R=>Z(A,R.target.value),rows:2,placeholder:`Enter keywords for level ${A+2}...`,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm"})]},A))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Change Notes"}),u.jsx("input",{type:"text",value:l,onChange:b=>a(b.target.value),placeholder:"Describe what you changed...",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:V,disabled:h,className:"inline-flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[u.jsx(Yu,{className:"w-4 h-4"}),h?"Saving...":"Save New Version"]}),u.jsx("button",{onClick:()=>{d(!1),k(null),s(null)},className:"px-6 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors",children:"Cancel"})]})]}),_&&u.jsxs("div",{className:"bg-red-50 border border-red-200 text-sm text-red-700 px-4 py-3 rounded-lg mb-4",role:"alert",children:[u.jsx("strong",{className:"font-bold",children:"Error: "}),u.jsx("span",{children:_})]})]}):u.jsx("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Name"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Level"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Version"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Master Template"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200",children:e.map(b=>u.jsxs("tr",{className:"hover:bg-slate-50",children:[u.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-900",children:b.name}),u.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:["Level ",b.level]}),u.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:["v",b.current_version||1]}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("button",{onClick:async()=>{const A=await ce(b.id);q(b.id,A)},className:"text-yellow-500 hover:text-yellow-600",children:u.jsx(qg,{className:"w-5 h-5"})})}),u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>L(b),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:u.jsx(Vg,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>ar(b),className:"p-1 text-slate-600 hover:bg-slate-50 rounded",children:u.jsx(Fg,{className:"w-4 h-4"})})]})})]},b.id))})]})}),u.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[u.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"Version Control"}),u.jsx("p",{className:"text-sm text-slate-600",children:"All prompt edits are automatically versioned. The system uses the latest version for facet generation. Mark prompts with Level 2-10 as master templates for comprehensive facet building."})]}),K&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full",children:[u.jsx("div",{className:"px-6 py-4 border-b border-slate-200",children:u.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Create New Prompt Template"})}),u.jsxs("div",{className:"p-6 space-y-4",children:[_&&u.jsx("div",{className:"bg-red-50 border border-red-200 text-sm text-red-700 px-4 py-3 rounded-lg",role:"alert",children:_}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Prompt Name"}),u.jsx("input",{type:"text",placeholder:"e.g., 'Technical Specifications'",value:X.name,onChange:b=>De({...X,name:b.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Template Content (Level 1)"}),u.jsx("textarea",{rows:8,placeholder:"Enter the main prompt content here...",value:X.template,onChange:b=>De({...X,template:b.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg font-mono text-sm focus:ring-2 focus:ring-blue-500"})]}),u.jsx("div",{className:"grid grid-cols-1 gap-4",children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Level"}),u.jsx("input",{type:"number",min:"1",value:X.level,onChange:b=>De({...X,level:parseInt(b.target.value,10)||1}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})})]}),u.jsxs("div",{className:"px-6 py-4 bg-slate-50 border-t border-slate-200 flex justify-end gap-3",children:[u.jsx("button",{onClick:()=>{$(!1),k(null),De({name:"",template:"",level:1})},className:"px-6 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200",children:"Cancel"}),u.jsxs("button",{onClick:T,disabled:h,className:"inline-flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[u.jsx(Yu,{className:"w-4 h-4"}),h?"Creating...":"Create Prompt"]})]})]})}),v&&r&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[u.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[u.jsxs("h3",{className:"text-xl font-semibold text-slate-900",children:["Version History: ",r.name]}),u.jsx("button",{onClick:()=>w(!1),className:"p-2 hover:bg-slate-100 rounded-full",children:u.jsx(_l,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"p-6 overflow-y-auto",children:g?u.jsx("p",{className:"text-center text-slate-500",children:"Loading history..."}):u.jsxs("div",{className:"space-y-6",children:[x.map((b,A)=>{var R;return u.jsxs("div",{className:"border border-slate-200 rounded-lg",children:[u.jsxs("div",{className:"bg-slate-50 p-3 flex justify-between items-center text-sm border-b",children:[u.jsxs("div",{className:"font-semibold",children:["Version ",b.version,A===0&&u.jsx("span",{className:"ml-2 text-xs font-medium bg-green-100 text-green-700 px-2 py-0.5 rounded-full",children:"Latest"})]}),u.jsxs("div",{className:"text-slate-500",children:[u.jsx("span",{className:"font-medium",children:"By:"})," ",((R=b.users)==null?void 0:R.email)||"Unknown User"," on"," ",new Date(b.created_at).toLocaleString()]})]}),u.jsxs("div",{className:"p-4 space-y-3",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-slate-800 text-xs uppercase tracking-wider mb-1",children:"Change Notes"}),u.jsx("p",{className:"text-sm text-slate-700 italic",children:b.change_notes||"No notes provided."})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-slate-800 text-xs uppercase tracking-wider mb-1",children:"Template Content"}),u.jsx("pre",{className:"bg-slate-100 p-3 rounded-md text-xs font-mono whitespace-pre-wrap overflow-x-auto",children:b.template_content})]})]})]},b.id)}),x.length===0&&u.jsx("p",{className:"text-center text-slate-500",children:"No version history found."})]})}),u.jsx("div",{className:"px-6 py-4 bg-slate-50 border-t border-slate-200 flex justify-end",children:u.jsx("button",{onClick:()=>w(!1),className:"px-6 py-2 bg-slate-200 text-slate-800 rounded-lg hover:bg-slate-300",children:"Close"})})]})})]})}function tv({onComplete:t}){const{user:e}=en(),[n,r]=O.useState([]),[s,i]=O.useState([]),[o,l]=O.useState(new Set),[a,c]=O.useState(new Set),[d,h]=O.useState(""),[m,v]=O.useState(!1),[w,x]=O.useState([]),[j,g]=O.useState({}),[f,p]=O.useState(null),[y,_]=O.useState(null),[k,E]=O.useState({}),[C,K]=O.useState({}),$=O.useMemo(()=>{var I;const N=s.find(z=>z.name==="Geography");if(N&&Array.isArray((I=N.metadata)==null?void 0:I.country_templates)){const z=N.metadata.country_templates.map(V=>V.country);return z.length>1?z:[]}return[]},[s]);O.useEffect(()=>{Xe()},[e]);const X=(N,I)=>{K(z=>{const V={...z},q=new Set(V[N]||[]);return q.has(I)?q.delete(I):q.add(I),V[N]=q,V})},De=(N,I)=>{K(z=>{const V={...z},q=V[N]||new Set,ce=I.map(b=>b.id);return q.size===ce.length?V[N]=new Set:V[N]=new Set(ce),V})},Oe=Object.values(C).reduce((N,I)=>N+I.size,0),Xe=async()=>{if(!e)return;const N=e.role==="admin"?{}:{client_id:e.client_id},[I,z]=await Promise.all([B.from("categories").select("*").match(N).order("category_path"),B.from("prompt_templates").select("*").order("level").order("execution_order")]),V=z.data||[],q=V.sort((ce,b)=>{const A=Bn.indexOf(ce.name),R=Bn.indexOf(b.name);return(A===-1?1/0:A)-(R===-1?1/0:R)});r(I.data||[]),i(q),c(new Set(V.map(ce=>ce.id)))},ar=(N,I)=>{E(z=>{const V=new Set(z[N]||[]);return V.has(I)?V.delete(I):V.add(I),{...z,[N]:V}})},at=N=>{const I=new Set(o);I.has(N)?I.delete(N):I.add(N),l(I)},Ct=N=>{const I=new Set(a);I.has(N)?(I.delete(N),E(z=>{const V={...z};return delete V[N],V})):I.add(N),c(I)},T=()=>{o.size===n.length?l(new Set):l(new Set(n.map(N=>N.id)))},L=()=>{a.size===s.length?c(new Set):c(new Set(s.map(N=>N.id)))},U=async()=>{if(!(!e||o.size===0)){v(!0),_(null);try{const N=s.filter(M=>a.has(M.id));N.sort((M,ae)=>{const ye=Bn.indexOf(M.name),Tt=Bn.indexOf(ae.name);return(ye===-1?1/0:ye)-(Tt===-1?1/0:Tt)});const I=N.map(M=>{var ye,Tt;if(!M)return null;let ae;if(M.name==="Industry Keywords"){const mt=M.template||"",_n=((ye=M.metadata)==null?void 0:ye.marine_levels)||[];ae=[mt,..._n].filter(Boolean)}else if(M.name==="Geography"){const mt=((Tt=M.metadata)==null?void 0:Tt.country_templates)||[];if(mt.length===0)ae={};else{const _n=Object.fromEntries(mt.map(ls=>[ls.country,ls.template])),Ii=k[M.id]||new Set;mt.length===1||Ii.size===0?ae=_n:ae=Object.fromEntries(Object.entries(_n).filter(([ls,iv])=>Ii.has(ls)))}}else ae=M.template;return{id:M.id,name:M.name,content:ae}}).filter(M=>M!==null),{data:z,error:V}=await B.from("facet_generation_jobs").insert({client_id:e.client_id||e.id,project_name:d,category_ids:Array.from(o),selected_prompts:Array.from(a),status:"processing",total_categories:o.size,processed_categories:0,created_by:e.id}).select().maybeSingle();if(V||!z)throw V;p(z.id);const ce=await fetch("https://rqairbvsiwohklvsxyre.supabase.co/functions/v1/generate-facets-ai",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJxYWlyYnZzaXdvaGtsdnN4eXJlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY5Nzk2NTcsImV4cCI6MjA4MjU1NTY1N30.6Uyi42A_4Pqe1G40qnx4M8ST38XRgh9x8o7mCtiVr18","Content-Type":"application/json"},body:JSON.stringify({job_id:z.id,category_ids:Array.from(o),prompts:I})});if(!ce.ok){const M=await ce.text();throw new Error(`Generation failed with status ${ce.status}: ${M}`)}const{data:b}=await B.from("recommended_facets").select("*").eq("job_id",z.id).order("sort_order"),A=b||[];x(A);const R=new Map(n.map(M=>[M.id,M.name])),de=A.reduce((M,ae)=>{const ye=ae.category_id;return M[ye]||(M[ye]=[]),M[ye].push(ae),M},{});g(de),await B.from("facet_generation_jobs").update({status:"completed",progress:100,processed_categories:o.size,completed_at:new Date().toISOString()}).eq("id",z.id)}catch(N){console.error("Error generating facets:",N),_(`Failed to generate facets: ${N.message}`),f&&await B.from("facet_generation_jobs").update({status:"failed"}).eq("id",f)}finally{v(!1)}}},Z=async()=>{const N=new Set(Object.values(C).flatMap(R=>Array.from(R)));if(N.size===0){console.log("No facets selected for export.");return}const I=w.filter(R=>N.has(R.id)),z=new Map(n.map(R=>[R.id,R.name])),q=["Category Name,Facet Name,Possible Values,Priority,Confidence Score,Filling %",...I.map(R=>{const de=z.get(R.category_id)||"Unknown Category",M=`"${(R.possible_values||"").replace(/"/g,'""')}"`,ae=`"${(R.facet_name||"").replace(/"/g,'""')}"`;return[`"${de}"`,ae,M,R.priority,R.confidence_score,R.filling_percentage].join(",")})].join(`
`),ce=new Blob([q],{type:"text/csv"}),b=URL.createObjectURL(ce),A=document.createElement("a");A.href=b,A.download=`facets-${d||f}.csv`,A.click(),URL.revokeObjectURL(b),await B.from("export_history").insert({client_id:(e==null?void 0:e.client_id)||(e==null?void 0:e.id),job_id:f,category_ids:Array.from(o),format:"csv",exported_by:e==null?void 0:e.id})};if(w.length>0){const N=new Map(n.map(I=>[I.id,I.name]));return u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Generated Facets"}),u.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-6 mb-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"font-semibold text-slate-900",children:[w.length," facets generated"]}),u.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["For ",o.size," categories"]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{disabled:Oe===0,onClick:Z,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(_a,{className:"w-4 h-4"}),"Export"," ",Oe>0?`(${Oe})`:""]}),u.jsx("button",{onClick:t,className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors",children:"Back to Dashboard"})]})]})}),u.jsx("div",{className:"space-y-8",children:Object.entries(j).map(([I,z])=>{var V;return u.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:[u.jsxs("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-200",children:[u.jsx("h4",{className:"text-lg font-semibold text-slate-900",children:N.get(I)||"Unknown Category"}),u.jsxs("p",{className:"text-sm text-slate-600",children:[z.length," facets"]})]}),u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"border-b border-slate-200",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 w-12 text-left",children:u.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500",checked:(((V=C[I])==null?void 0:V.size)||0)===z.length&&z.length>0,onChange:()=>De(I,z)})}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Facet Name"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Possible Values"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Priority"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Confidence"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Filling %"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200",children:z.map(q=>u.jsxs("tr",{className:"hover:bg-slate-50",children:[u.jsx("td",{className:"px-4 py-4",children:u.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500",checked:(C[I]||new Set).has(q.id),onChange:()=>X(I,q.id)})}),u.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-900",children:q.facet_name}),u.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 max-w-md truncate",children:q.possible_values}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${q.priority==="High"?"bg-red-100 text-red-700":q.priority==="Medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:q.priority})}),u.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[q.confidence_score,"/10"]}),u.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[q.filling_percentage,"%"]})]},q.id))})]})]},I)})})]})}return u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Generate Facets"}),u.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6 mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Project Name"}),u.jsx("input",{type:"text",value:d,onChange:N=>h(N.target.value),placeholder:"Enter project name",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[u.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"font-semibold text-slate-900",children:["Select Categories (",o.size,")"]}),u.jsx("button",{onClick:T,className:"text-sm text-blue-600 hover:text-blue-700",children:o.size===n.length?"Deselect All":"Select All"})]}),u.jsxs("div",{className:"max-h-96 overflow-y-auto space-y-2",children:[n.map(N=>u.jsxs("button",{onClick:()=>at(N.id),className:"w-full flex items-center gap-3 p-3 hover:bg-slate-50 rounded-lg transition-colors text-left",children:[o.has(N.id)?u.jsx(go,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}):u.jsx(vo,{className:"w-5 h-5 text-slate-400 flex-shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:N.name}),u.jsx("p",{className:"text-xs text-slate-500 truncate",children:N.category_path})]})]},N.id)),n.length===0&&u.jsx("p",{className:"text-center text-slate-500 py-8",children:"No categories available. Upload categories first."})]})]}),u.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"font-semibold text-slate-900",children:["Select Prompts (",a.size,")"]}),u.jsx("button",{onClick:L,className:"text-sm text-blue-600 hover:text-blue-700",children:a.size===s.length?"Deselect All":"Select All"})]}),u.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:s.map(N=>u.jsxs("div",{className:"p-3 hover:bg-slate-50 rounded-lg transition-colors",children:[u.jsxs("button",{onClick:()=>Ct(N.id),className:"w-full flex items-center gap-3 text-left",children:[a.has(N.id)?u.jsx(go,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}):u.jsx(vo,{className:"w-5 h-5 text-slate-400 flex-shrink-0"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-slate-900",children:N.name}),u.jsxs("p",{className:"text-xs text-slate-500",children:["Level ",N.level,"  ",N.type]})]})]}),N.name==="Geography"&&a.has(N.id)&&$.length>0&&u.jsxs("div",{className:"pl-8 pt-3 space-y-2",children:[u.jsx("p",{className:"text-xs font-semibold text-slate-600",children:"Select countries to include:"}),$.map(I=>u.jsxs("button",{onClick:()=>ar(N.id,I),className:"w-full flex items-center gap-3 text-left",children:[(k[N.id]||new Set).has(I)?u.jsx(go,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}):u.jsx(vo,{className:"w-4 h-4 text-slate-400 flex-shrink-0"}),u.jsx("span",{className:"text-sm text-slate-800",children:I})]},I))]})]},N.id))})]})]}),y&&u.jsxs("div",{className:"text-center bg-red-50 border border-red-200 text-sm text-red-700 px-4 py-3 rounded-lg mb-4 max-w-4xl mx-auto",role:"alert",children:[u.jsx("strong",{className:"font-bold",children:"An error occurred: "}),u.jsx("span",{children:y})]}),u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{onClick:U,disabled:m||o.size===0,className:"inline-flex items-center gap-2 px-8 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m?u.jsxs(u.Fragment,{children:[u.jsx(zh,{className:"w-5 h-5 animate-spin"}),"Generating..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Wg,{className:"w-5 h-5"}),"Generate Facets"]})})})]})}function nv(){const{user:t}=en(),[e,n]=O.useState([]),[r,s]=O.useState(""),[i,o]=O.useState(""),[l,a]=O.useState(!1);O.useEffect(()=>{(t==null?void 0:t.role)==="admin"&&c()},[t]);const c=async()=>{const{data:v}=await B.from("clients").select("*").order("created_at",{ascending:!1});n(v||[])},d=async()=>{if(!(!r.trim()||!t)){a(!0);try{const{error:v}=await B.from("clients").insert({name:r,contact_email:i,is_active:!0,created_by:t.id});if(v)throw v;s(""),o(""),await c()}catch(v){console.error("Error creating client:",v)}finally{a(!1)}}},h=async(v,w)=>{await B.from("clients").update({is_active:!w}).eq("id",v),await c()},m=async v=>{confirm("Are you sure? This will delete all data associated with this client.")&&(await B.from("clients").delete().eq("id",v),await c())};return(t==null?void 0:t.role)!=="admin"?u.jsx("div",{className:"text-center py-8 text-slate-500",children:"Access denied. Admin privileges required."}):u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Client Management"}),u.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6 mb-6",children:[u.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Create New Client"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsx("input",{type:"text",value:r,onChange:v=>s(v.target.value),placeholder:"Client Name",className:"px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),u.jsx("input",{type:"email",value:i,onChange:v=>o(v.target.value),placeholder:"Contact Email",className:"px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),u.jsxs("button",{onClick:d,disabled:l||!r.trim(),className:"inline-flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[u.jsx(Mh,{className:"w-5 h-5"}),"Create Client"]})]}),u.jsx("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Client Name"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Contact Email"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Status"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Created"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Actions"})]})}),u.jsxs("tbody",{className:"divide-y divide-slate-200",children:[e.map(v=>u.jsxs("tr",{className:"hover:bg-slate-50",children:[u.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-900",children:v.name}),u.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:v.contact_email||"-"}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v.is_active?"bg-green-100 text-green-700":"bg-slate-100 text-slate-700"}`,children:v.is_active?"Active":"Inactive"})}),u.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:new Date(v.created_at).toLocaleDateString()}),u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>h(v.id,v.is_active),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:v.is_active?"Deactivate":"Activate",children:v.is_active?u.jsx(Gg,{className:"w-4 h-4"}):u.jsx(Kg,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>m(v.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Delete",children:u.jsx(Fh,{className:"w-4 h-4"})})]})})]},v.id)),e.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-500",children:"No clients yet. Create your first client to get started."})})]})]})})]})}function rv(){const{user:t,signOut:e}=en(),[n,r]=O.useState("dashboard"),[s,i]=O.useState({facets_recommended:0,jobs_in_progress:0,jobs_yet_to_start:0,pending_categories:0,downloads:0,total_projects:0});O.useEffect(()=>{o()},[t]);const o=async()=>{var f,p,y;if(!t)return;const c=t.role==="admin"?{}:{client_id:t.client_id},[d,h,m,v]=await Promise.all([B.from("facet_generation_jobs").select("status").match(c),B.from("categories").select("id").match(c),B.from("export_history").select("id").match(c),B.from("facet_generation_jobs").select("id").match(c)]),w=d.data||[],x=w.filter(_=>_.status==="completed").length,j=w.filter(_=>_.status==="processing").length,g=w.filter(_=>_.status==="pending").length;i({facets_recommended:x,jobs_in_progress:j,jobs_yet_to_start:g,pending_categories:((f=h.data)==null?void 0:f.length)||0,downloads:((p=m.data)==null?void 0:p.length)||0,total_projects:((y=v.data)==null?void 0:y.length)||0})},l=[{id:"dashboard",label:"Dashboard",icon:Bg},{id:"projects",label:"Projects",icon:Ju},{id:"upload",label:"Upload Categories",icon:Bh},{id:"prompts",label:"Prompt Templates",icon:Uh},{id:"generate",label:"Generate Facets",icon:zh}];(t==null?void 0:t.role)==="admin"&&l.push({id:"clients",label:"Manage Clients",icon:Qg});const a=()=>{switch(n){case"dashboard":return u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:(t==null?void 0:t.role)==="admin"?"Admin Dashboard":"Dashboard"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:u.jsx($h,{className:"w-6 h-6 text-green-600"})}),u.jsx("span",{className:"text-3xl font-bold text-slate-900",children:s.facets_recommended})]}),u.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Facets Recommended"}),u.jsx("p",{className:"text-sm text-slate-600",children:"Successfully generated"})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:u.jsx(Jg,{className:"w-6 h-6 text-blue-600"})}),u.jsx("span",{className:"text-3xl font-bold text-slate-900",children:s.jobs_in_progress})]}),u.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"In Progress"}),u.jsx("p",{className:"text-sm text-slate-600",children:"Currently processing"})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:u.jsx(Dg,{className:"w-6 h-6 text-yellow-600"})}),u.jsx("span",{className:"text-3xl font-bold text-slate-900",children:s.jobs_yet_to_start})]}),u.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Yet to Start"}),u.jsx("p",{className:"text-sm text-slate-600",children:"Pending jobs"})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:"p-3 bg-slate-100 rounded-lg",children:u.jsx(Ug,{className:"w-6 h-6 text-slate-600"})}),u.jsx("span",{className:"text-3xl font-bold text-slate-900",children:s.pending_categories})]}),u.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Categories"}),u.jsx("p",{className:"text-sm text-slate-600",children:"Total uploaded"})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:u.jsx(_a,{className:"w-6 h-6 text-indigo-600"})}),u.jsx("span",{className:"text-3xl font-bold text-slate-900",children:s.downloads})]}),u.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Downloaded Outputs"}),u.jsx("p",{className:"text-sm text-slate-600",children:"Export history"})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:u.jsx(Ju,{className:"w-6 h-6 text-purple-600"})}),u.jsx("span",{className:"text-3xl font-bold text-slate-900",children:s.total_projects})]}),u.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Total Projects"}),u.jsx("p",{className:"text-sm text-slate-600",children:"All time"})]})]}),u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[u.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Quick Actions"}),u.jsxs("div",{className:"flex flex-wrap gap-3",children:[u.jsx("button",{onClick:()=>r("projects"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create New Project"}),u.jsx("button",{onClick:()=>r("upload"),className:"px-4 py-2 bg-white border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Upload Categories"}),u.jsx("button",{onClick:()=>r("generate"),className:"px-4 py-2 bg-white border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Generate Facets"})]})]})]});case"projects":return u.jsx(Xg,{});case"upload":return u.jsx(Zg,{});case"prompts":return u.jsx(ev,{});case"generate":return u.jsx(tv,{onComplete:()=>r("dashboard")});case"clients":return(t==null?void 0:t.role)==="admin"?u.jsx(nv,{}):null;default:return null}};return u.jsxs("div",{className:"min-h-screen bg-slate-50 flex",children:[u.jsxs("aside",{className:"w-64 bg-white border-r border-slate-200",children:[u.jsxs("div",{className:"p-6 border-b border-slate-200",children:[u.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"Facet Builder Pro"}),u.jsx("p",{className:"text-sm text-slate-600 mt-1",children:t==null?void 0:t.email}),(t==null?void 0:t.role)==="admin"&&u.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded",children:"Admin"})]}),u.jsx("nav",{className:"p-4",children:l.map(c=>{const d=c.icon;return u.jsxs("button",{onClick:()=>r(c.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg mb-1 transition-colors ${n===c.id?"bg-blue-50 text-blue-700 font-medium":"text-slate-700 hover:bg-slate-50"}`,children:[u.jsx(d,{className:"w-5 h-5"}),c.label]},c.id)})}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 w-64 p-4 border-t border-slate-200",children:u.jsxs("button",{onClick:e,className:"w-full flex items-center gap-3 px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[u.jsx(Hg,{className:"w-5 h-5"}),"Sign Out"]})})]}),u.jsx("main",{className:"flex-1 p-8 overflow-auto",children:a()})]})}function sv(){const{user:t,loading:e}=en();return e?u.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Dh,{className:"w-8 h-8 text-blue-600 animate-spin mx-auto mb-4"}),u.jsx("p",{className:"text-slate-600",children:"Loading..."})]})}):t?u.jsx(rv,{}):u.jsx(Yg,{})}dh(document.getElementById("root")).render(u.jsx(O.StrictMode,{children:u.jsx(Ig,{children:u.jsx(sv,{})})}));
