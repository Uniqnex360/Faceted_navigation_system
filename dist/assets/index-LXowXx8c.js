(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var rc={exports:{}},vi={},sc={exports:{}},B={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=Symbol.for("react.element"),Gh=Symbol.for("react.portal"),Jh=Symbol.for("react.fragment"),Qh=Symbol.for("react.strict_mode"),Yh=Symbol.for("react.profiler"),Xh=Symbol.for("react.provider"),Zh=Symbol.for("react.context"),ef=Symbol.for("react.forward_ref"),tf=Symbol.for("react.suspense"),nf=Symbol.for("react.memo"),rf=Symbol.for("react.lazy"),Ea=Symbol.iterator;function sf(t){return t===null||typeof t!="object"?null:(t=Ea&&t[Ea]||t["@@iterator"],typeof t=="function"?t:null)}var ic={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oc=Object.assign,lc={};function lr(t,e,n){this.props=t,this.context=e,this.refs=lc,this.updater=n||ic}lr.prototype.isReactComponent={};lr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};lr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ac(){}ac.prototype=lr.prototype;function jl(t,e,n){this.props=t,this.context=e,this.refs=lc,this.updater=n||ic}var El=jl.prototype=new ac;El.constructor=jl;oc(El,lr.prototype);El.isPureReactComponent=!0;var Na=Array.isArray,uc=Object.prototype.hasOwnProperty,Nl={current:null},cc={key:!0,ref:!0,__self:!0,__source:!0};function dc(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)uc.call(e,r)&&!cc.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:rs,type:t,key:i,ref:o,props:s,_owner:Nl.current}}function of(t,e){return{$$typeof:rs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Cl(t){return typeof t=="object"&&t!==null&&t.$$typeof===rs}function lf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ca=/\/+/g;function Di(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lf(""+t.key):e.toString(36)}function Rs(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case rs:case Gh:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Di(o,0):r,Na(s)?(n="",t!=null&&(n=t.replace(Ca,"$&/")+"/"),Rs(s,e,n,"",function(c){return c})):s!=null&&(Cl(s)&&(s=of(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ca,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Na(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+Di(i,l);o+=Rs(i,e,n,a,s)}else if(a=sf(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+Di(i,l++),o+=Rs(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function hs(t,e,n){if(t==null)return t;var r=[],s=0;return Rs(t,r,"","",function(i){return e.call(n,i,s++)}),r}function af(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ce={current:null},Is={transition:null},uf={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:Is,ReactCurrentOwner:Nl};function hc(){throw Error("act(...) is not supported in production builds of React.")}B.Children={map:hs,forEach:function(t,e,n){hs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return hs(t,function(){e++}),e},toArray:function(t){return hs(t,function(e){return e})||[]},only:function(t){if(!Cl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};B.Component=lr;B.Fragment=Jh;B.Profiler=Yh;B.PureComponent=jl;B.StrictMode=Qh;B.Suspense=tf;B.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uf;B.act=hc;B.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=oc({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Nl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)uc.call(e,a)&&!cc.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:rs,type:t.type,key:s,ref:i,props:r,_owner:o}};B.createContext=function(t){return t={$$typeof:Zh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Xh,_context:t},t.Consumer=t};B.createElement=dc;B.createFactory=function(t){var e=dc.bind(null,t);return e.type=t,e};B.createRef=function(){return{current:null}};B.forwardRef=function(t){return{$$typeof:ef,render:t}};B.isValidElement=Cl;B.lazy=function(t){return{$$typeof:rf,_payload:{_status:-1,_result:t},_init:af}};B.memo=function(t,e){return{$$typeof:nf,type:t,compare:e===void 0?null:e}};B.startTransition=function(t){var e=Is.transition;Is.transition={};try{t()}finally{Is.transition=e}};B.unstable_act=hc;B.useCallback=function(t,e){return Ce.current.useCallback(t,e)};B.useContext=function(t){return Ce.current.useContext(t)};B.useDebugValue=function(){};B.useDeferredValue=function(t){return Ce.current.useDeferredValue(t)};B.useEffect=function(t,e){return Ce.current.useEffect(t,e)};B.useId=function(){return Ce.current.useId()};B.useImperativeHandle=function(t,e,n){return Ce.current.useImperativeHandle(t,e,n)};B.useInsertionEffect=function(t,e){return Ce.current.useInsertionEffect(t,e)};B.useLayoutEffect=function(t,e){return Ce.current.useLayoutEffect(t,e)};B.useMemo=function(t,e){return Ce.current.useMemo(t,e)};B.useReducer=function(t,e,n){return Ce.current.useReducer(t,e,n)};B.useRef=function(t){return Ce.current.useRef(t)};B.useState=function(t){return Ce.current.useState(t)};B.useSyncExternalStore=function(t,e,n){return Ce.current.useSyncExternalStore(t,e,n)};B.useTransition=function(){return Ce.current.useTransition()};B.version="18.3.1";sc.exports=B;var O=sc.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cf=O,df=Symbol.for("react.element"),hf=Symbol.for("react.fragment"),ff=Object.prototype.hasOwnProperty,pf=cf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mf={key:!0,ref:!0,__self:!0,__source:!0};function fc(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ff.call(e,r)&&!mf.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:df,type:t,key:i,ref:o,props:s,_owner:pf.current}}vi.Fragment=hf;vi.jsx=fc;vi.jsxs=fc;rc.exports=vi;var u=rc.exports,pc={exports:{}},Ve={},mc={exports:{}},gc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,I){var U=C.length;C.push(I);e:for(;0<U;){var Z=U-1>>>1,le=C[Z];if(0<s(le,I))C[Z]=I,C[U]=le,U=Z;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var I=C[0],U=C.pop();if(U!==I){C[0]=U;e:for(var Z=0,le=C.length,Pt=le>>>1;Z<Pt;){var T=2*(Z+1)-1,R=C[T],M=T+1,V=C[M];if(0>s(R,U))M<le&&0>s(V,R)?(C[Z]=V,C[M]=U,Z=M):(C[Z]=R,C[T]=U,Z=T);else if(M<le&&0>s(V,U))C[Z]=V,C[M]=U,Z=M;else break e}}return I}function s(C,I){var U=C.sortIndex-I.sortIndex;return U!==0?U:C.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],c=[],d=1,h=null,m=3,v=!1,w=!1,x=!1,j=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(C){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=C)r(c),I.sortIndex=I.expirationTime,e(a,I);else break;I=n(c)}}function y(C){if(x=!1,p(C),!w)if(n(a)!==null)w=!0,ct(k);else{var I=n(c);I!==null&&Tt(y,I.startTime-C)}}function k(C,I){w=!1,x&&(x=!1,g(N),N=-1),v=!0;var U=m;try{for(p(I),h=n(a);h!==null&&(!(h.expirationTime>I)||C&&!Q());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,m=h.priorityLevel;var le=Z(h.expirationTime<=I);I=t.unstable_now(),typeof le=="function"?h.callback=le:h===n(a)&&r(a),p(I)}else r(a);h=n(a)}if(h!==null)var Pt=!0;else{var T=n(c);T!==null&&Tt(y,T.startTime-I),Pt=!1}return Pt}finally{h=null,m=U,v=!1}}var S=!1,E=null,N=-1,K=5,L=-1;function Q(){return!(t.unstable_now()-L<K)}function Pe(){if(E!==null){var C=t.unstable_now();L=C;var I=!0;try{I=E(!0,C)}finally{I?Oe():(S=!1,E=null)}}else S=!1}var Oe;if(typeof f=="function")Oe=function(){f(Pe)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,rn=Ze.port2;Ze.port1.onmessage=Pe,Oe=function(){rn.postMessage(null)}}else Oe=function(){j(Pe,0)};function ct(C){E=C,S||(S=!0,Oe())}function Tt(C,I){N=j(function(){C(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,ct(k))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(C){switch(m){case 1:case 2:case 3:var I=3;break;default:I=m}var U=m;m=I;try{return C()}finally{m=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,I){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var U=m;m=C;try{return I()}finally{m=U}},t.unstable_scheduleCallback=function(C,I,U){var Z=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Z+U:Z):U=Z,C){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=U+le,C={id:d++,callback:I,priorityLevel:C,startTime:U,expirationTime:le,sortIndex:-1},U>Z?(C.sortIndex=U,e(c,C),n(a)===null&&C===n(c)&&(x?(g(N),N=-1):x=!0,Tt(y,U-Z))):(C.sortIndex=le,e(a,C),w||v||(w=!0,ct(k))),C},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(C){var I=m;return function(){var U=m;m=I;try{return C.apply(this,arguments)}finally{m=U}}}})(gc);mc.exports=gc;var gf=mc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vf=O,Be=gf;function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vc=new Set,Mr={};function kn(t,e){Zn(t,e),Zn(t+"Capture",e)}function Zn(t,e){for(Mr[t]=e,t=0;t<e.length;t++)vc.add(e[t])}var bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_o=Object.prototype.hasOwnProperty,yf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ta={},Pa={};function wf(t){return _o.call(Pa,t)?!0:_o.call(Ta,t)?!1:yf.test(t)?Pa[t]=!0:(Ta[t]=!0,!1)}function xf(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _f(t,e,n,r){if(e===null||typeof e>"u"||xf(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Te(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xe[t]=new Te(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xe[e]=new Te(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xe[t]=new Te(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xe[t]=new Te(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xe[t]=new Te(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xe[t]=new Te(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xe[t]=new Te(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xe[t]=new Te(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xe[t]=new Te(t,5,!1,t.toLowerCase(),null,!1,!1)});var Tl=/[\-:]([a-z])/g;function Pl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Tl,Pl);xe[e]=new Te(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Tl,Pl);xe[e]=new Te(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Tl,Pl);xe[e]=new Te(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xe[t]=new Te(t,1,!1,t.toLowerCase(),null,!1,!1)});xe.xlinkHref=new Te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xe[t]=new Te(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ol(t,e,n,r){var s=xe.hasOwnProperty(e)?xe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_f(e,n,s,r)&&(n=null),r||s===null?wf(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ct=vf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fs=Symbol.for("react.element"),In=Symbol.for("react.portal"),Ln=Symbol.for("react.fragment"),Al=Symbol.for("react.strict_mode"),ko=Symbol.for("react.profiler"),yc=Symbol.for("react.provider"),wc=Symbol.for("react.context"),Rl=Symbol.for("react.forward_ref"),So=Symbol.for("react.suspense"),bo=Symbol.for("react.suspense_list"),Il=Symbol.for("react.memo"),Lt=Symbol.for("react.lazy"),xc=Symbol.for("react.offscreen"),Oa=Symbol.iterator;function fr(t){return t===null||typeof t!="object"?null:(t=Oa&&t[Oa]||t["@@iterator"],typeof t=="function"?t:null)}var oe=Object.assign,Mi;function kr(t){if(Mi===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Mi=e&&e[1]||""}return`
`+Mi+t}var zi=!1;function Fi(t,e){if(!t||zi)return"";zi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{zi=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?kr(t):""}function kf(t){switch(t.tag){case 5:return kr(t.type);case 16:return kr("Lazy");case 13:return kr("Suspense");case 19:return kr("SuspenseList");case 0:case 2:case 15:return t=Fi(t.type,!1),t;case 11:return t=Fi(t.type.render,!1),t;case 1:return t=Fi(t.type,!0),t;default:return""}}function jo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ln:return"Fragment";case In:return"Portal";case ko:return"Profiler";case Al:return"StrictMode";case So:return"Suspense";case bo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wc:return(t.displayName||"Context")+".Consumer";case yc:return(t._context.displayName||"Context")+".Provider";case Rl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Il:return e=t.displayName||null,e!==null?e:jo(t.type)||"Memo";case Lt:e=t._payload,t=t._init;try{return jo(t(e))}catch{}}return null}function Sf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jo(e);case 8:return e===Al?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _c(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bf(t){var e=_c(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ps(t){t._valueTracker||(t._valueTracker=bf(t))}function kc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_c(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ws(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Eo(t,e){var n=e.checked;return oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Aa(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Sc(t,e){e=e.checked,e!=null&&Ol(t,"checked",e,!1)}function No(t,e){Sc(t,e);var n=Qt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Co(t,e.type,n):e.hasOwnProperty("defaultValue")&&Co(t,e.type,Qt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ra(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Co(t,e,n){(e!=="number"||Ws(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Sr=Array.isArray;function Kn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function To(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(b(91));return oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ia(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(b(92));if(Sr(n)){if(1<n.length)throw Error(b(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qt(n)}}function bc(t,e){var n=Qt(e.value),r=Qt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function La(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Po(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ms,Ec=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ms=ms||document.createElement("div"),ms.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ms.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Nr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jf=["Webkit","ms","Moz","O"];Object.keys(Nr).forEach(function(t){jf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Nr[e]=Nr[t]})});function Nc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Nr.hasOwnProperty(t)&&Nr[t]?(""+e).trim():e+"px"}function Cc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Nc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Ef=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oo(t,e){if(e){if(Ef[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(b(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(b(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(b(61))}if(e.style!=null&&typeof e.style!="object")throw Error(b(62))}}function Ao(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ro=null;function Ll(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Io=null,Gn=null,Jn=null;function $a(t){if(t=os(t)){if(typeof Io!="function")throw Error(b(280));var e=t.stateNode;e&&(e=ki(e),Io(t.stateNode,t.type,e))}}function Tc(t){Gn?Jn?Jn.push(t):Jn=[t]:Gn=t}function Pc(){if(Gn){var t=Gn,e=Jn;if(Jn=Gn=null,$a(t),e)for(t=0;t<e.length;t++)$a(e[t])}}function Oc(t,e){return t(e)}function Ac(){}var Bi=!1;function Rc(t,e,n){if(Bi)return t(e,n);Bi=!0;try{return Oc(t,e,n)}finally{Bi=!1,(Gn!==null||Jn!==null)&&(Ac(),Pc())}}function Fr(t,e){var n=t.stateNode;if(n===null)return null;var r=ki(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(b(231,e,typeof n));return n}var Lo=!1;if(bt)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){Lo=!0}}),window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch{Lo=!1}function Nf(t,e,n,r,s,i,o,l,a){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Cr=!1,qs=null,Ks=!1,$o=null,Cf={onError:function(t){Cr=!0,qs=t}};function Tf(t,e,n,r,s,i,o,l,a){Cr=!1,qs=null,Nf.apply(Cf,arguments)}function Pf(t,e,n,r,s,i,o,l,a){if(Tf.apply(this,arguments),Cr){if(Cr){var c=qs;Cr=!1,qs=null}else throw Error(b(198));Ks||(Ks=!0,$o=c)}}function Sn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ic(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ua(t){if(Sn(t)!==t)throw Error(b(188))}function Of(t){var e=t.alternate;if(!e){if(e=Sn(t),e===null)throw Error(b(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ua(s),t;if(i===r)return Ua(s),e;i=i.sibling}throw Error(b(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?t:e}function Lc(t){return t=Of(t),t!==null?$c(t):null}function $c(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$c(t);if(e!==null)return e;t=t.sibling}return null}var Uc=Be.unstable_scheduleCallback,Da=Be.unstable_cancelCallback,Af=Be.unstable_shouldYield,Rf=Be.unstable_requestPaint,ue=Be.unstable_now,If=Be.unstable_getCurrentPriorityLevel,$l=Be.unstable_ImmediatePriority,Dc=Be.unstable_UserBlockingPriority,Gs=Be.unstable_NormalPriority,Lf=Be.unstable_LowPriority,Mc=Be.unstable_IdlePriority,yi=null,mt=null;function $f(t){if(mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(yi,t,void 0,(t.current.flags&128)===128)}catch{}}var lt=Math.clz32?Math.clz32:Mf,Uf=Math.log,Df=Math.LN2;function Mf(t){return t>>>=0,t===0?32:31-(Uf(t)/Df|0)|0}var gs=64,vs=4194304;function br(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Js(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=br(l):(i&=o,i!==0&&(r=br(i)))}else o=n&~s,o!==0?r=br(o):i!==0&&(r=br(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-lt(e),s=1<<n,r|=t[n],e&=~s;return r}function zf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ff(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-lt(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=zf(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function Uo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zc(){var t=gs;return gs<<=1,!(gs&4194240)&&(gs=64),t}function Vi(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ss(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-lt(e),t[e]=n}function Bf(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-lt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ul(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-lt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var G=0;function Fc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Bc,Dl,Vc,Hc,Wc,Do=!1,ys=[],Bt=null,Vt=null,Ht=null,Br=new Map,Vr=new Map,Ut=[],Vf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ma(t,e){switch(t){case"focusin":case"focusout":Bt=null;break;case"dragenter":case"dragleave":Vt=null;break;case"mouseover":case"mouseout":Ht=null;break;case"pointerover":case"pointerout":Br.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vr.delete(e.pointerId)}}function mr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=os(e),e!==null&&Dl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Hf(t,e,n,r,s){switch(e){case"focusin":return Bt=mr(Bt,t,e,n,r,s),!0;case"dragenter":return Vt=mr(Vt,t,e,n,r,s),!0;case"mouseover":return Ht=mr(Ht,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Br.set(i,mr(Br.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Vr.set(i,mr(Vr.get(i)||null,t,e,n,r,s)),!0}return!1}function qc(t){var e=hn(t.target);if(e!==null){var n=Sn(e);if(n!==null){if(e=n.tag,e===13){if(e=Ic(n),e!==null){t.blockedOn=e,Wc(t.priority,function(){Vc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ls(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Mo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ro=r,n.target.dispatchEvent(r),Ro=null}else return e=os(n),e!==null&&Dl(e),t.blockedOn=n,!1;e.shift()}return!0}function za(t,e,n){Ls(t)&&n.delete(e)}function Wf(){Do=!1,Bt!==null&&Ls(Bt)&&(Bt=null),Vt!==null&&Ls(Vt)&&(Vt=null),Ht!==null&&Ls(Ht)&&(Ht=null),Br.forEach(za),Vr.forEach(za)}function gr(t,e){t.blockedOn===e&&(t.blockedOn=null,Do||(Do=!0,Be.unstable_scheduleCallback(Be.unstable_NormalPriority,Wf)))}function Hr(t){function e(s){return gr(s,t)}if(0<ys.length){gr(ys[0],t);for(var n=1;n<ys.length;n++){var r=ys[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Bt!==null&&gr(Bt,t),Vt!==null&&gr(Vt,t),Ht!==null&&gr(Ht,t),Br.forEach(e),Vr.forEach(e),n=0;n<Ut.length;n++)r=Ut[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ut.length&&(n=Ut[0],n.blockedOn===null);)qc(n),n.blockedOn===null&&Ut.shift()}var Qn=Ct.ReactCurrentBatchConfig,Qs=!0;function qf(t,e,n,r){var s=G,i=Qn.transition;Qn.transition=null;try{G=1,Ml(t,e,n,r)}finally{G=s,Qn.transition=i}}function Kf(t,e,n,r){var s=G,i=Qn.transition;Qn.transition=null;try{G=4,Ml(t,e,n,r)}finally{G=s,Qn.transition=i}}function Ml(t,e,n,r){if(Qs){var s=Mo(t,e,n,r);if(s===null)Zi(t,e,r,Ys,n),Ma(t,r);else if(Hf(s,t,e,n,r))r.stopPropagation();else if(Ma(t,r),e&4&&-1<Vf.indexOf(t)){for(;s!==null;){var i=os(s);if(i!==null&&Bc(i),i=Mo(t,e,n,r),i===null&&Zi(t,e,r,Ys,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Zi(t,e,r,null,n)}}var Ys=null;function Mo(t,e,n,r){if(Ys=null,t=Ll(r),t=hn(t),t!==null)if(e=Sn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ic(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ys=t,null}function Kc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(If()){case $l:return 1;case Dc:return 4;case Gs:case Lf:return 16;case Mc:return 536870912;default:return 16}default:return 16}}var zt=null,zl=null,$s=null;function Gc(){if($s)return $s;var t,e=zl,n=e.length,r,s="value"in zt?zt.value:zt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return $s=s.slice(t,1<r?1-r:void 0)}function Us(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ws(){return!0}function Fa(){return!1}function He(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ws:Fa,this.isPropagationStopped=Fa,this}return oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),e}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fl=He(ar),is=oe({},ar,{view:0,detail:0}),Gf=He(is),Hi,Wi,vr,wi=oe({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vr&&(vr&&t.type==="mousemove"?(Hi=t.screenX-vr.screenX,Wi=t.screenY-vr.screenY):Wi=Hi=0,vr=t),Hi)},movementY:function(t){return"movementY"in t?t.movementY:Wi}}),Ba=He(wi),Jf=oe({},wi,{dataTransfer:0}),Qf=He(Jf),Yf=oe({},is,{relatedTarget:0}),qi=He(Yf),Xf=oe({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Zf=He(Xf),ep=oe({},ar,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tp=He(ep),np=oe({},ar,{data:0}),Va=He(np),rp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ip={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function op(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ip[t])?!!e[t]:!1}function Bl(){return op}var lp=oe({},is,{key:function(t){if(t.key){var e=rp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Us(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bl,charCode:function(t){return t.type==="keypress"?Us(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Us(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ap=He(lp),up=oe({},wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ha=He(up),cp=oe({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bl}),dp=He(cp),hp=oe({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),fp=He(hp),pp=oe({},wi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mp=He(pp),gp=[9,13,27,32],Vl=bt&&"CompositionEvent"in window,Tr=null;bt&&"documentMode"in document&&(Tr=document.documentMode);var vp=bt&&"TextEvent"in window&&!Tr,Jc=bt&&(!Vl||Tr&&8<Tr&&11>=Tr),Wa=" ",qa=!1;function Qc(t,e){switch(t){case"keyup":return gp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $n=!1;function yp(t,e){switch(t){case"compositionend":return Yc(e);case"keypress":return e.which!==32?null:(qa=!0,Wa);case"textInput":return t=e.data,t===Wa&&qa?null:t;default:return null}}function wp(t,e){if($n)return t==="compositionend"||!Vl&&Qc(t,e)?(t=Gc(),$s=zl=zt=null,$n=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Jc&&e.locale!=="ko"?null:e.data;default:return null}}var xp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ka(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xp[t.type]:e==="textarea"}function Xc(t,e,n,r){Tc(r),e=Xs(e,"onChange"),0<e.length&&(n=new Fl("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Pr=null,Wr=null;function _p(t){ud(t,0)}function xi(t){var e=Mn(t);if(kc(e))return t}function kp(t,e){if(t==="change")return e}var Zc=!1;if(bt){var Ki;if(bt){var Gi="oninput"in document;if(!Gi){var Ga=document.createElement("div");Ga.setAttribute("oninput","return;"),Gi=typeof Ga.oninput=="function"}Ki=Gi}else Ki=!1;Zc=Ki&&(!document.documentMode||9<document.documentMode)}function Ja(){Pr&&(Pr.detachEvent("onpropertychange",ed),Wr=Pr=null)}function ed(t){if(t.propertyName==="value"&&xi(Wr)){var e=[];Xc(e,Wr,t,Ll(t)),Rc(_p,e)}}function Sp(t,e,n){t==="focusin"?(Ja(),Pr=e,Wr=n,Pr.attachEvent("onpropertychange",ed)):t==="focusout"&&Ja()}function bp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xi(Wr)}function jp(t,e){if(t==="click")return xi(e)}function Ep(t,e){if(t==="input"||t==="change")return xi(e)}function Np(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ut=typeof Object.is=="function"?Object.is:Np;function qr(t,e){if(ut(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!_o.call(e,s)||!ut(t[s],e[s]))return!1}return!0}function Qa(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ya(t,e){var n=Qa(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qa(n)}}function td(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?td(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nd(){for(var t=window,e=Ws();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ws(t.document)}return e}function Hl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Cp(t){var e=nd(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&td(n.ownerDocument.documentElement,n)){if(r!==null&&Hl(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Ya(n,i);var o=Ya(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Tp=bt&&"documentMode"in document&&11>=document.documentMode,Un=null,zo=null,Or=null,Fo=!1;function Xa(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fo||Un==null||Un!==Ws(r)||(r=Un,"selectionStart"in r&&Hl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Or&&qr(Or,r)||(Or=r,r=Xs(zo,"onSelect"),0<r.length&&(e=new Fl("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Un)))}function xs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Dn={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionend:xs("Transition","TransitionEnd")},Ji={},rd={};bt&&(rd=document.createElement("div").style,"AnimationEvent"in window||(delete Dn.animationend.animation,delete Dn.animationiteration.animation,delete Dn.animationstart.animation),"TransitionEvent"in window||delete Dn.transitionend.transition);function _i(t){if(Ji[t])return Ji[t];if(!Dn[t])return t;var e=Dn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in rd)return Ji[t]=e[n];return t}var sd=_i("animationend"),id=_i("animationiteration"),od=_i("animationstart"),ld=_i("transitionend"),ad=new Map,Za="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xt(t,e){ad.set(t,e),kn(e,[t])}for(var Qi=0;Qi<Za.length;Qi++){var Yi=Za[Qi],Pp=Yi.toLowerCase(),Op=Yi[0].toUpperCase()+Yi.slice(1);Xt(Pp,"on"+Op)}Xt(sd,"onAnimationEnd");Xt(id,"onAnimationIteration");Xt(od,"onAnimationStart");Xt("dblclick","onDoubleClick");Xt("focusin","onFocus");Xt("focusout","onBlur");Xt(ld,"onTransitionEnd");Zn("onMouseEnter",["mouseout","mouseover"]);Zn("onMouseLeave",["mouseout","mouseover"]);Zn("onPointerEnter",["pointerout","pointerover"]);Zn("onPointerLeave",["pointerout","pointerover"]);kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ap=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function eu(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Pf(r,e,void 0,t),t.currentTarget=null}function ud(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,c=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;eu(s,l,c),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,c=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;eu(s,l,c),i=a}}}if(Ks)throw t=$o,Ks=!1,$o=null,t}function te(t,e){var n=e[qo];n===void 0&&(n=e[qo]=new Set);var r=t+"__bubble";n.has(r)||(cd(e,t,2,!1),n.add(r))}function Xi(t,e,n){var r=0;e&&(r|=4),cd(n,t,r,e)}var _s="_reactListening"+Math.random().toString(36).slice(2);function Kr(t){if(!t[_s]){t[_s]=!0,vc.forEach(function(n){n!=="selectionchange"&&(Ap.has(n)||Xi(n,!1,t),Xi(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_s]||(e[_s]=!0,Xi("selectionchange",!1,e))}}function cd(t,e,n,r){switch(Kc(e)){case 1:var s=qf;break;case 4:s=Kf;break;default:s=Ml}n=s.bind(null,e,n,t),s=void 0,!Lo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Zi(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=hn(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Rc(function(){var c=i,d=Ll(n),h=[];e:{var m=ad.get(t);if(m!==void 0){var v=Fl,w=t;switch(t){case"keypress":if(Us(n)===0)break e;case"keydown":case"keyup":v=ap;break;case"focusin":w="focus",v=qi;break;case"focusout":w="blur",v=qi;break;case"beforeblur":case"afterblur":v=qi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ba;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Qf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=dp;break;case sd:case id:case od:v=Zf;break;case ld:v=fp;break;case"scroll":v=Gf;break;case"wheel":v=mp;break;case"copy":case"cut":case"paste":v=tp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ha}var x=(e&4)!==0,j=!x&&t==="scroll",g=x?m!==null?m+"Capture":null:m;x=[];for(var f=c,p;f!==null;){p=f;var y=p.stateNode;if(p.tag===5&&y!==null&&(p=y,g!==null&&(y=Fr(f,g),y!=null&&x.push(Gr(f,y,p)))),j)break;f=f.return}0<x.length&&(m=new v(m,w,null,n,d),h.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==Ro&&(w=n.relatedTarget||n.fromElement)&&(hn(w)||w[jt]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=c,w=w?hn(w):null,w!==null&&(j=Sn(w),w!==j||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=c),v!==w)){if(x=Ba,y="onMouseLeave",g="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(x=Ha,y="onPointerLeave",g="onPointerEnter",f="pointer"),j=v==null?m:Mn(v),p=w==null?m:Mn(w),m=new x(y,f+"leave",v,n,d),m.target=j,m.relatedTarget=p,y=null,hn(d)===c&&(x=new x(g,f+"enter",w,n,d),x.target=p,x.relatedTarget=j,y=x),j=y,v&&w)t:{for(x=v,g=w,f=0,p=x;p;p=En(p))f++;for(p=0,y=g;y;y=En(y))p++;for(;0<f-p;)x=En(x),f--;for(;0<p-f;)g=En(g),p--;for(;f--;){if(x===g||g!==null&&x===g.alternate)break t;x=En(x),g=En(g)}x=null}else x=null;v!==null&&tu(h,m,v,x,!1),w!==null&&j!==null&&tu(h,j,w,x,!0)}}e:{if(m=c?Mn(c):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var k=kp;else if(Ka(m))if(Zc)k=Ep;else{k=bp;var S=Sp}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=jp);if(k&&(k=k(t,c))){Xc(h,k,n,d);break e}S&&S(t,m,c),t==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&Co(m,"number",m.value)}switch(S=c?Mn(c):window,t){case"focusin":(Ka(S)||S.contentEditable==="true")&&(Un=S,zo=c,Or=null);break;case"focusout":Or=zo=Un=null;break;case"mousedown":Fo=!0;break;case"contextmenu":case"mouseup":case"dragend":Fo=!1,Xa(h,n,d);break;case"selectionchange":if(Tp)break;case"keydown":case"keyup":Xa(h,n,d)}var E;if(Vl)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else $n?Qc(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Jc&&n.locale!=="ko"&&($n||N!=="onCompositionStart"?N==="onCompositionEnd"&&$n&&(E=Gc()):(zt=d,zl="value"in zt?zt.value:zt.textContent,$n=!0)),S=Xs(c,N),0<S.length&&(N=new Va(N,t,null,n,d),h.push({event:N,listeners:S}),E?N.data=E:(E=Yc(n),E!==null&&(N.data=E)))),(E=vp?yp(t,n):wp(t,n))&&(c=Xs(c,"onBeforeInput"),0<c.length&&(d=new Va("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=E))}ud(h,e)})}function Gr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xs(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Fr(t,n),i!=null&&r.unshift(Gr(t,i,s)),i=Fr(t,e),i!=null&&r.push(Gr(t,i,s))),t=t.return}return r}function En(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function tu(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,c=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&c!==null&&(l=c,s?(a=Fr(n,i),a!=null&&o.unshift(Gr(n,a,l))):s||(a=Fr(n,i),a!=null&&o.push(Gr(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Rp=/\r\n?/g,Ip=/\u0000|\uFFFD/g;function nu(t){return(typeof t=="string"?t:""+t).replace(Rp,`
`).replace(Ip,"")}function ks(t,e,n){if(e=nu(e),nu(t)!==e&&n)throw Error(b(425))}function Zs(){}var Bo=null,Vo=null;function Ho(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Wo=typeof setTimeout=="function"?setTimeout:void 0,Lp=typeof clearTimeout=="function"?clearTimeout:void 0,ru=typeof Promise=="function"?Promise:void 0,$p=typeof queueMicrotask=="function"?queueMicrotask:typeof ru<"u"?function(t){return ru.resolve(null).then(t).catch(Up)}:Wo;function Up(t){setTimeout(function(){throw t})}function eo(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Hr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Hr(e)}function Wt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function su(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ur=Math.random().toString(36).slice(2),pt="__reactFiber$"+ur,Jr="__reactProps$"+ur,jt="__reactContainer$"+ur,qo="__reactEvents$"+ur,Dp="__reactListeners$"+ur,Mp="__reactHandles$"+ur;function hn(t){var e=t[pt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[jt]||n[pt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=su(t);t!==null;){if(n=t[pt])return n;t=su(t)}return e}t=n,n=t.parentNode}return null}function os(t){return t=t[pt]||t[jt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Mn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(b(33))}function ki(t){return t[Jr]||null}var Ko=[],zn=-1;function Zt(t){return{current:t}}function ne(t){0>zn||(t.current=Ko[zn],Ko[zn]=null,zn--)}function X(t,e){zn++,Ko[zn]=t.current,t.current=e}var Yt={},be=Zt(Yt),$e=Zt(!1),vn=Yt;function er(t,e){var n=t.type.contextTypes;if(!n)return Yt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ue(t){return t=t.childContextTypes,t!=null}function ei(){ne($e),ne(be)}function iu(t,e,n){if(be.current!==Yt)throw Error(b(168));X(be,e),X($e,n)}function dd(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(b(108,Sf(t)||"Unknown",s));return oe({},n,r)}function ti(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yt,vn=be.current,X(be,t),X($e,$e.current),!0}function ou(t,e,n){var r=t.stateNode;if(!r)throw Error(b(169));n?(t=dd(t,e,vn),r.__reactInternalMemoizedMergedChildContext=t,ne($e),ne(be),X(be,t)):ne($e),X($e,n)}var xt=null,Si=!1,to=!1;function hd(t){xt===null?xt=[t]:xt.push(t)}function zp(t){Si=!0,hd(t)}function en(){if(!to&&xt!==null){to=!0;var t=0,e=G;try{var n=xt;for(G=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}xt=null,Si=!1}catch(s){throw xt!==null&&(xt=xt.slice(t+1)),Uc($l,en),s}finally{G=e,to=!1}}return null}var Fn=[],Bn=0,ni=null,ri=0,qe=[],Ke=0,yn=null,_t=1,kt="";function an(t,e){Fn[Bn++]=ri,Fn[Bn++]=ni,ni=t,ri=e}function fd(t,e,n){qe[Ke++]=_t,qe[Ke++]=kt,qe[Ke++]=yn,yn=t;var r=_t;t=kt;var s=32-lt(r)-1;r&=~(1<<s),n+=1;var i=32-lt(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,_t=1<<32-lt(e)+s|n<<s|r,kt=i+t}else _t=1<<i|n<<s|r,kt=t}function Wl(t){t.return!==null&&(an(t,1),fd(t,1,0))}function ql(t){for(;t===ni;)ni=Fn[--Bn],Fn[Bn]=null,ri=Fn[--Bn],Fn[Bn]=null;for(;t===yn;)yn=qe[--Ke],qe[Ke]=null,kt=qe[--Ke],qe[Ke]=null,_t=qe[--Ke],qe[Ke]=null}var Fe=null,ze=null,re=!1,ot=null;function pd(t,e){var n=Ge(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function lu(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fe=t,ze=Wt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fe=t,ze=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=yn!==null?{id:_t,overflow:kt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ge(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Fe=t,ze=null,!0):!1;default:return!1}}function Go(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jo(t){if(re){var e=ze;if(e){var n=e;if(!lu(t,e)){if(Go(t))throw Error(b(418));e=Wt(n.nextSibling);var r=Fe;e&&lu(t,e)?pd(r,n):(t.flags=t.flags&-4097|2,re=!1,Fe=t)}}else{if(Go(t))throw Error(b(418));t.flags=t.flags&-4097|2,re=!1,Fe=t}}}function au(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fe=t}function Ss(t){if(t!==Fe)return!1;if(!re)return au(t),re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ho(t.type,t.memoizedProps)),e&&(e=ze)){if(Go(t))throw md(),Error(b(418));for(;e;)pd(t,e),e=Wt(e.nextSibling)}if(au(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ze=Wt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ze=null}}else ze=Fe?Wt(t.stateNode.nextSibling):null;return!0}function md(){for(var t=ze;t;)t=Wt(t.nextSibling)}function tr(){ze=Fe=null,re=!1}function Kl(t){ot===null?ot=[t]:ot.push(t)}var Fp=Ct.ReactCurrentBatchConfig;function yr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,t))}return t}function bs(t,e){throw t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function uu(t){var e=t._init;return e(t._payload)}function gd(t){function e(g,f){if(t){var p=g.deletions;p===null?(g.deletions=[f],g.flags|=16):p.push(f)}}function n(g,f){if(!t)return null;for(;f!==null;)e(g,f),f=f.sibling;return null}function r(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(g,f){return g=Jt(g,f),g.index=0,g.sibling=null,g}function i(g,f,p){return g.index=p,t?(p=g.alternate,p!==null?(p=p.index,p<f?(g.flags|=2,f):p):(g.flags|=2,f)):(g.flags|=1048576,f)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,f,p,y){return f===null||f.tag!==6?(f=ao(p,g.mode,y),f.return=g,f):(f=s(f,p),f.return=g,f)}function a(g,f,p,y){var k=p.type;return k===Ln?d(g,f,p.props.children,y,p.key):f!==null&&(f.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Lt&&uu(k)===f.type)?(y=s(f,p.props),y.ref=yr(g,f,p),y.return=g,y):(y=Hs(p.type,p.key,p.props,null,g.mode,y),y.ref=yr(g,f,p),y.return=g,y)}function c(g,f,p,y){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=uo(p,g.mode,y),f.return=g,f):(f=s(f,p.children||[]),f.return=g,f)}function d(g,f,p,y,k){return f===null||f.tag!==7?(f=gn(p,g.mode,y,k),f.return=g,f):(f=s(f,p),f.return=g,f)}function h(g,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=ao(""+f,g.mode,p),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case fs:return p=Hs(f.type,f.key,f.props,null,g.mode,p),p.ref=yr(g,null,f),p.return=g,p;case In:return f=uo(f,g.mode,p),f.return=g,f;case Lt:var y=f._init;return h(g,y(f._payload),p)}if(Sr(f)||fr(f))return f=gn(f,g.mode,p,null),f.return=g,f;bs(g,f)}return null}function m(g,f,p,y){var k=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return k!==null?null:l(g,f,""+p,y);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case fs:return p.key===k?a(g,f,p,y):null;case In:return p.key===k?c(g,f,p,y):null;case Lt:return k=p._init,m(g,f,k(p._payload),y)}if(Sr(p)||fr(p))return k!==null?null:d(g,f,p,y,null);bs(g,p)}return null}function v(g,f,p,y,k){if(typeof y=="string"&&y!==""||typeof y=="number")return g=g.get(p)||null,l(f,g,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case fs:return g=g.get(y.key===null?p:y.key)||null,a(f,g,y,k);case In:return g=g.get(y.key===null?p:y.key)||null,c(f,g,y,k);case Lt:var S=y._init;return v(g,f,p,S(y._payload),k)}if(Sr(y)||fr(y))return g=g.get(p)||null,d(f,g,y,k,null);bs(f,y)}return null}function w(g,f,p,y){for(var k=null,S=null,E=f,N=f=0,K=null;E!==null&&N<p.length;N++){E.index>N?(K=E,E=null):K=E.sibling;var L=m(g,E,p[N],y);if(L===null){E===null&&(E=K);break}t&&E&&L.alternate===null&&e(g,E),f=i(L,f,N),S===null?k=L:S.sibling=L,S=L,E=K}if(N===p.length)return n(g,E),re&&an(g,N),k;if(E===null){for(;N<p.length;N++)E=h(g,p[N],y),E!==null&&(f=i(E,f,N),S===null?k=E:S.sibling=E,S=E);return re&&an(g,N),k}for(E=r(g,E);N<p.length;N++)K=v(E,g,N,p[N],y),K!==null&&(t&&K.alternate!==null&&E.delete(K.key===null?N:K.key),f=i(K,f,N),S===null?k=K:S.sibling=K,S=K);return t&&E.forEach(function(Q){return e(g,Q)}),re&&an(g,N),k}function x(g,f,p,y){var k=fr(p);if(typeof k!="function")throw Error(b(150));if(p=k.call(p),p==null)throw Error(b(151));for(var S=k=null,E=f,N=f=0,K=null,L=p.next();E!==null&&!L.done;N++,L=p.next()){E.index>N?(K=E,E=null):K=E.sibling;var Q=m(g,E,L.value,y);if(Q===null){E===null&&(E=K);break}t&&E&&Q.alternate===null&&e(g,E),f=i(Q,f,N),S===null?k=Q:S.sibling=Q,S=Q,E=K}if(L.done)return n(g,E),re&&an(g,N),k;if(E===null){for(;!L.done;N++,L=p.next())L=h(g,L.value,y),L!==null&&(f=i(L,f,N),S===null?k=L:S.sibling=L,S=L);return re&&an(g,N),k}for(E=r(g,E);!L.done;N++,L=p.next())L=v(E,g,N,L.value,y),L!==null&&(t&&L.alternate!==null&&E.delete(L.key===null?N:L.key),f=i(L,f,N),S===null?k=L:S.sibling=L,S=L);return t&&E.forEach(function(Pe){return e(g,Pe)}),re&&an(g,N),k}function j(g,f,p,y){if(typeof p=="object"&&p!==null&&p.type===Ln&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case fs:e:{for(var k=p.key,S=f;S!==null;){if(S.key===k){if(k=p.type,k===Ln){if(S.tag===7){n(g,S.sibling),f=s(S,p.props.children),f.return=g,g=f;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Lt&&uu(k)===S.type){n(g,S.sibling),f=s(S,p.props),f.ref=yr(g,S,p),f.return=g,g=f;break e}n(g,S);break}else e(g,S);S=S.sibling}p.type===Ln?(f=gn(p.props.children,g.mode,y,p.key),f.return=g,g=f):(y=Hs(p.type,p.key,p.props,null,g.mode,y),y.ref=yr(g,f,p),y.return=g,g=y)}return o(g);case In:e:{for(S=p.key;f!==null;){if(f.key===S)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){n(g,f.sibling),f=s(f,p.children||[]),f.return=g,g=f;break e}else{n(g,f);break}else e(g,f);f=f.sibling}f=uo(p,g.mode,y),f.return=g,g=f}return o(g);case Lt:return S=p._init,j(g,f,S(p._payload),y)}if(Sr(p))return w(g,f,p,y);if(fr(p))return x(g,f,p,y);bs(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(n(g,f.sibling),f=s(f,p),f.return=g,g=f):(n(g,f),f=ao(p,g.mode,y),f.return=g,g=f),o(g)):n(g,f)}return j}var nr=gd(!0),vd=gd(!1),si=Zt(null),ii=null,Vn=null,Gl=null;function Jl(){Gl=Vn=ii=null}function Ql(t){var e=si.current;ne(si),t._currentValue=e}function Qo(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Yn(t,e){ii=t,Gl=Vn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Le=!0),t.firstContext=null)}function Ye(t){var e=t._currentValue;if(Gl!==t)if(t={context:t,memoizedValue:e,next:null},Vn===null){if(ii===null)throw Error(b(308));Vn=t,ii.dependencies={lanes:0,firstContext:t}}else Vn=Vn.next=t;return e}var fn=null;function Yl(t){fn===null?fn=[t]:fn.push(t)}function yd(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Yl(e)):(n.next=s.next,s.next=n),e.interleaved=n,Et(t,r)}function Et(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var $t=!1;function Xl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function St(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,H&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Et(t,n)}return s=r.interleaved,s===null?(e.next=e,Yl(r)):(e.next=s.next,s.next=e),r.interleaved=e,Et(t,n)}function Ds(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ul(t,n)}}function cu(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function oi(t,e,n,r){var s=t.updateQueue;$t=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,c=a.next;a.next=null,o===null?i=c:o.next=c,o=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=a))}if(i!==null){var h=s.baseState;o=0,d=c=a=null,l=i;do{var m=l.lane,v=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=t,x=l;switch(m=e,v=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){h=w.call(v,h,m);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,m=typeof w=="function"?w.call(v,h,m):w,m==null)break e;h=oe({},h,m);break e;case 2:$t=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=v,a=h):d=d.next=v,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(a=h),s.baseState=a,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);xn|=o,t.lanes=o,t.memoizedState=h}}function du(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(b(191,s));s.call(r)}}}var ls={},gt=Zt(ls),Qr=Zt(ls),Yr=Zt(ls);function pn(t){if(t===ls)throw Error(b(174));return t}function Zl(t,e){switch(X(Yr,e),X(Qr,t),X(gt,ls),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Po(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Po(e,t)}ne(gt),X(gt,e)}function rr(){ne(gt),ne(Qr),ne(Yr)}function xd(t){pn(Yr.current);var e=pn(gt.current),n=Po(e,t.type);e!==n&&(X(Qr,t),X(gt,n))}function ea(t){Qr.current===t&&(ne(gt),ne(Qr))}var se=Zt(0);function li(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var no=[];function ta(){for(var t=0;t<no.length;t++)no[t]._workInProgressVersionPrimary=null;no.length=0}var Ms=Ct.ReactCurrentDispatcher,ro=Ct.ReactCurrentBatchConfig,wn=0,ie=null,pe=null,ge=null,ai=!1,Ar=!1,Xr=0,Bp=0;function _e(){throw Error(b(321))}function na(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ut(t[n],e[n]))return!1;return!0}function ra(t,e,n,r,s,i){if(wn=i,ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ms.current=t===null||t.memoizedState===null?qp:Kp,t=n(r,s),Ar){i=0;do{if(Ar=!1,Xr=0,25<=i)throw Error(b(301));i+=1,ge=pe=null,e.updateQueue=null,Ms.current=Gp,t=n(r,s)}while(Ar)}if(Ms.current=ui,e=pe!==null&&pe.next!==null,wn=0,ge=pe=ie=null,ai=!1,e)throw Error(b(300));return t}function sa(){var t=Xr!==0;return Xr=0,t}function ht(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?ie.memoizedState=ge=t:ge=ge.next=t,ge}function Xe(){if(pe===null){var t=ie.alternate;t=t!==null?t.memoizedState:null}else t=pe.next;var e=ge===null?ie.memoizedState:ge.next;if(e!==null)ge=e,pe=t;else{if(t===null)throw Error(b(310));pe=t,t={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},ge===null?ie.memoizedState=ge=t:ge=ge.next=t}return ge}function Zr(t,e){return typeof e=="function"?e(t):e}function so(t){var e=Xe(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=pe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,c=i;do{var d=c.lane;if((wn&d)===d)a!==null&&(a=a.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,ie.lanes|=d,xn|=d}c=c.next}while(c!==null&&c!==i);a===null?o=r:a.next=l,ut(r,e.memoizedState)||(Le=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ie.lanes|=i,xn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function io(t){var e=Xe(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ut(i,e.memoizedState)||(Le=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function _d(){}function kd(t,e){var n=ie,r=Xe(),s=e(),i=!ut(r.memoizedState,s);if(i&&(r.memoizedState=s,Le=!0),r=r.queue,ia(jd.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ge!==null&&ge.memoizedState.tag&1){if(n.flags|=2048,es(9,bd.bind(null,n,r,s,e),void 0,null),ve===null)throw Error(b(349));wn&30||Sd(n,e,s)}return s}function Sd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ie.updateQueue,e===null?(e={lastEffect:null,stores:null},ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function bd(t,e,n,r){e.value=n,e.getSnapshot=r,Ed(e)&&Nd(t)}function jd(t,e,n){return n(function(){Ed(e)&&Nd(t)})}function Ed(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ut(t,n)}catch{return!0}}function Nd(t){var e=Et(t,1);e!==null&&at(e,t,1,-1)}function hu(t){var e=ht();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:t},e.queue=t,t=t.dispatch=Wp.bind(null,ie,t),[e.memoizedState,t]}function es(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ie.updateQueue,e===null?(e={lastEffect:null,stores:null},ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Cd(){return Xe().memoizedState}function zs(t,e,n,r){var s=ht();ie.flags|=t,s.memoizedState=es(1|e,n,void 0,r===void 0?null:r)}function bi(t,e,n,r){var s=Xe();r=r===void 0?null:r;var i=void 0;if(pe!==null){var o=pe.memoizedState;if(i=o.destroy,r!==null&&na(r,o.deps)){s.memoizedState=es(e,n,i,r);return}}ie.flags|=t,s.memoizedState=es(1|e,n,i,r)}function fu(t,e){return zs(8390656,8,t,e)}function ia(t,e){return bi(2048,8,t,e)}function Td(t,e){return bi(4,2,t,e)}function Pd(t,e){return bi(4,4,t,e)}function Od(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ad(t,e,n){return n=n!=null?n.concat([t]):null,bi(4,4,Od.bind(null,e,t),n)}function oa(){}function Rd(t,e){var n=Xe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&na(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Id(t,e){var n=Xe();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&na(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ld(t,e,n){return wn&21?(ut(n,e)||(n=zc(),ie.lanes|=n,xn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Le=!0),t.memoizedState=n)}function Vp(t,e){var n=G;G=n!==0&&4>n?n:4,t(!0);var r=ro.transition;ro.transition={};try{t(!1),e()}finally{G=n,ro.transition=r}}function $d(){return Xe().memoizedState}function Hp(t,e,n){var r=Gt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ud(t))Dd(e,n);else if(n=yd(t,e,n,r),n!==null){var s=Ne();at(n,t,r,s),Md(n,e,r)}}function Wp(t,e,n){var r=Gt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ud(t))Dd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,ut(l,o)){var a=e.interleaved;a===null?(s.next=s,Yl(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=yd(t,e,s,r),n!==null&&(s=Ne(),at(n,t,r,s),Md(n,e,r))}}function Ud(t){var e=t.alternate;return t===ie||e!==null&&e===ie}function Dd(t,e){Ar=ai=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Md(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ul(t,n)}}var ui={readContext:Ye,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},qp={readContext:Ye,useCallback:function(t,e){return ht().memoizedState=[t,e===void 0?null:e],t},useContext:Ye,useEffect:fu,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zs(4194308,4,Od.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zs(4194308,4,t,e)},useInsertionEffect:function(t,e){return zs(4,2,t,e)},useMemo:function(t,e){var n=ht();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ht();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Hp.bind(null,ie,t),[r.memoizedState,t]},useRef:function(t){var e=ht();return t={current:t},e.memoizedState=t},useState:hu,useDebugValue:oa,useDeferredValue:function(t){return ht().memoizedState=t},useTransition:function(){var t=hu(!1),e=t[0];return t=Vp.bind(null,t[1]),ht().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ie,s=ht();if(re){if(n===void 0)throw Error(b(407));n=n()}else{if(n=e(),ve===null)throw Error(b(349));wn&30||Sd(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,fu(jd.bind(null,r,i,t),[t]),r.flags|=2048,es(9,bd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ht(),e=ve.identifierPrefix;if(re){var n=kt,r=_t;n=(r&~(1<<32-lt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Bp++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Kp={readContext:Ye,useCallback:Rd,useContext:Ye,useEffect:ia,useImperativeHandle:Ad,useInsertionEffect:Td,useLayoutEffect:Pd,useMemo:Id,useReducer:so,useRef:Cd,useState:function(){return so(Zr)},useDebugValue:oa,useDeferredValue:function(t){var e=Xe();return Ld(e,pe.memoizedState,t)},useTransition:function(){var t=so(Zr)[0],e=Xe().memoizedState;return[t,e]},useMutableSource:_d,useSyncExternalStore:kd,useId:$d,unstable_isNewReconciler:!1},Gp={readContext:Ye,useCallback:Rd,useContext:Ye,useEffect:ia,useImperativeHandle:Ad,useInsertionEffect:Td,useLayoutEffect:Pd,useMemo:Id,useReducer:io,useRef:Cd,useState:function(){return io(Zr)},useDebugValue:oa,useDeferredValue:function(t){var e=Xe();return pe===null?e.memoizedState=t:Ld(e,pe.memoizedState,t)},useTransition:function(){var t=io(Zr)[0],e=Xe().memoizedState;return[t,e]},useMutableSource:_d,useSyncExternalStore:kd,useId:$d,unstable_isNewReconciler:!1};function rt(t,e){if(t&&t.defaultProps){e=oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Yo(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ji={isMounted:function(t){return(t=t._reactInternals)?Sn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ne(),s=Gt(t),i=St(r,s);i.payload=e,n!=null&&(i.callback=n),e=qt(t,i,s),e!==null&&(at(e,t,s,r),Ds(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ne(),s=Gt(t),i=St(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=qt(t,i,s),e!==null&&(at(e,t,s,r),Ds(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ne(),r=Gt(t),s=St(n,r);s.tag=2,e!=null&&(s.callback=e),e=qt(t,s,r),e!==null&&(at(e,t,r,n),Ds(e,t,r))}};function pu(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!qr(n,r)||!qr(s,i):!0}function zd(t,e,n){var r=!1,s=Yt,i=e.contextType;return typeof i=="object"&&i!==null?i=Ye(i):(s=Ue(e)?vn:be.current,r=e.contextTypes,i=(r=r!=null)?er(t,s):Yt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ji,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function mu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ji.enqueueReplaceState(e,e.state,null)}function Xo(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Xl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ye(i):(i=Ue(e)?vn:be.current,s.context=er(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Yo(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ji.enqueueReplaceState(s,s.state,null),oi(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function sr(t,e){try{var n="",r=e;do n+=kf(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function oo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zo(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Jp=typeof WeakMap=="function"?WeakMap:Map;function Fd(t,e,n){n=St(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){di||(di=!0,ul=r),Zo(t,e)},n}function Bd(t,e,n){n=St(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Zo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Zo(t,e),typeof r!="function"&&(Kt===null?Kt=new Set([this]):Kt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function gu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Jp;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=um.bind(null,t,e,n),e.then(t,t))}function vu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function yu(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=St(-1,1),e.tag=2,qt(n,e,1))),n.lanes|=1),t)}var Qp=Ct.ReactCurrentOwner,Le=!1;function Ee(t,e,n,r){e.child=t===null?vd(e,null,n,r):nr(e,t.child,n,r)}function wu(t,e,n,r,s){n=n.render;var i=e.ref;return Yn(e,s),r=ra(t,e,n,r,i,s),n=sa(),t!==null&&!Le?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Nt(t,e,s)):(re&&n&&Wl(e),e.flags|=1,Ee(t,e,r,s),e.child)}function xu(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!pa(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Vd(t,e,i,r,s)):(t=Hs(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:qr,n(o,r)&&t.ref===e.ref)return Nt(t,e,s)}return e.flags|=1,t=Jt(i,r),t.ref=e.ref,t.return=e,e.child=t}function Vd(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(qr(i,r)&&t.ref===e.ref)if(Le=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Le=!0);else return e.lanes=t.lanes,Nt(t,e,s)}return el(t,e,n,r,s)}function Hd(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(Wn,Me),Me|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,X(Wn,Me),Me|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,X(Wn,Me),Me|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,X(Wn,Me),Me|=r;return Ee(t,e,s,n),e.child}function Wd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function el(t,e,n,r,s){var i=Ue(n)?vn:be.current;return i=er(e,i),Yn(e,s),n=ra(t,e,n,r,i,s),r=sa(),t!==null&&!Le?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Nt(t,e,s)):(re&&r&&Wl(e),e.flags|=1,Ee(t,e,n,s),e.child)}function _u(t,e,n,r,s){if(Ue(n)){var i=!0;ti(e)}else i=!1;if(Yn(e,s),e.stateNode===null)Fs(t,e),zd(e,n,r),Xo(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ye(c):(c=Ue(n)?vn:be.current,c=er(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==c)&&mu(e,o,r,c),$t=!1;var m=e.memoizedState;o.state=m,oi(e,r,o,s),a=e.memoizedState,l!==r||m!==a||$e.current||$t?(typeof d=="function"&&(Yo(e,n,d,r),a=e.memoizedState),(l=$t||pu(e,n,l,r,m,a,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,wd(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:rt(e.type,l),o.props=c,h=e.pendingProps,m=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ye(a):(a=Ue(n)?vn:be.current,a=er(e,a));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==a)&&mu(e,o,r,a),$t=!1,m=e.memoizedState,o.state=m,oi(e,r,o,s);var w=e.memoizedState;l!==h||m!==w||$e.current||$t?(typeof v=="function"&&(Yo(e,n,v,r),w=e.memoizedState),(c=$t||pu(e,n,c,r,m,w,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=a,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return tl(t,e,n,r,i,s)}function tl(t,e,n,r,s,i){Wd(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&ou(e,n,!1),Nt(t,e,i);r=e.stateNode,Qp.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=nr(e,t.child,null,i),e.child=nr(e,null,l,i)):Ee(t,e,l,i),e.memoizedState=r.state,s&&ou(e,n,!0),e.child}function qd(t){var e=t.stateNode;e.pendingContext?iu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&iu(t,e.context,!1),Zl(t,e.containerInfo)}function ku(t,e,n,r,s){return tr(),Kl(s),e.flags|=256,Ee(t,e,n,r),e.child}var nl={dehydrated:null,treeContext:null,retryLane:0};function rl(t){return{baseLanes:t,cachePool:null,transitions:null}}function Kd(t,e,n){var r=e.pendingProps,s=se.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),X(se,s&1),t===null)return Jo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ci(o,r,0,null),t=gn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=rl(n),e.memoizedState=nl,t):la(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Yp(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Jt(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Jt(l,i):(i=gn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?rl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=nl,r}return i=t.child,t=i.sibling,r=Jt(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function la(t,e){return e=Ci({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function js(t,e,n,r){return r!==null&&Kl(r),nr(e,t.child,null,n),t=la(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Yp(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=oo(Error(b(422))),js(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ci({mode:"visible",children:r.children},s,0,null),i=gn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&nr(e,t.child,null,o),e.child.memoizedState=rl(o),e.memoizedState=nl,i);if(!(e.mode&1))return js(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(b(419)),r=oo(i,r,void 0),js(t,e,o,r)}if(l=(o&t.childLanes)!==0,Le||l){if(r=ve,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Et(t,s),at(r,t,s,-1))}return fa(),r=oo(Error(b(421))),js(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=cm.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ze=Wt(s.nextSibling),Fe=e,re=!0,ot=null,t!==null&&(qe[Ke++]=_t,qe[Ke++]=kt,qe[Ke++]=yn,_t=t.id,kt=t.overflow,yn=e),e=la(e,r.children),e.flags|=4096,e)}function Su(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qo(t.return,e,n)}function lo(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Gd(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ee(t,e,r.children,n),r=se.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Su(t,n,e);else if(t.tag===19)Su(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(X(se,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&li(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),lo(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&li(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}lo(e,!0,n,null,i);break;case"together":lo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Nt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,n=Jt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Jt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Xp(t,e,n){switch(e.tag){case 3:qd(e),tr();break;case 5:xd(e);break;case 1:Ue(e.type)&&ti(e);break;case 4:Zl(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;X(si,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(X(se,se.current&1),e.flags|=128,null):n&e.child.childLanes?Kd(t,e,n):(X(se,se.current&1),t=Nt(t,e,n),t!==null?t.sibling:null);X(se,se.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Gd(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),X(se,se.current),r)break;return null;case 22:case 23:return e.lanes=0,Hd(t,e,n)}return Nt(t,e,n)}var Jd,sl,Qd,Yd;Jd=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sl=function(){};Qd=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,pn(gt.current);var i=null;switch(n){case"input":s=Eo(t,s),r=Eo(t,r),i=[];break;case"select":s=oe({},s,{value:void 0}),r=oe({},r,{value:void 0}),i=[];break;case"textarea":s=To(t,s),r=To(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zs)}Oo(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Mr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var a=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&a!==l&&(a!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(c,n)),n=a;else c==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(c,a)):c==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(c,""+a):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Mr.hasOwnProperty(c)?(a!=null&&c==="onScroll"&&te("scroll",t),i||l===a||(i=[])):(i=i||[]).push(c,a))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Yd=function(t,e,n,r){n!==r&&(e.flags|=4)};function wr(t,e){if(!re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ke(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Zp(t,e,n){var r=e.pendingProps;switch(ql(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(e),null;case 1:return Ue(e.type)&&ei(),ke(e),null;case 3:return r=e.stateNode,rr(),ne($e),ne(be),ta(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ss(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ot!==null&&(hl(ot),ot=null))),sl(t,e),ke(e),null;case 5:ea(e);var s=pn(Yr.current);if(n=e.type,t!==null&&e.stateNode!=null)Qd(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(b(166));return ke(e),null}if(t=pn(gt.current),Ss(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[pt]=e,r[Jr]=i,t=(e.mode&1)!==0,n){case"dialog":te("cancel",r),te("close",r);break;case"iframe":case"object":case"embed":te("load",r);break;case"video":case"audio":for(s=0;s<jr.length;s++)te(jr[s],r);break;case"source":te("error",r);break;case"img":case"image":case"link":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"input":Aa(r,i),te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},te("invalid",r);break;case"textarea":Ia(r,i),te("invalid",r)}Oo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ks(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ks(r.textContent,l,t),s=["children",""+l]):Mr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&te("scroll",r)}switch(n){case"input":ps(r),Ra(r,i,!0);break;case"textarea":ps(r),La(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Zs)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[pt]=e,t[Jr]=r,Jd(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ao(n,r),n){case"dialog":te("cancel",t),te("close",t),s=r;break;case"iframe":case"object":case"embed":te("load",t),s=r;break;case"video":case"audio":for(s=0;s<jr.length;s++)te(jr[s],t);s=r;break;case"source":te("error",t),s=r;break;case"img":case"image":case"link":te("error",t),te("load",t),s=r;break;case"details":te("toggle",t),s=r;break;case"input":Aa(t,r),s=Eo(t,r),te("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=oe({},r,{value:void 0}),te("invalid",t);break;case"textarea":Ia(t,r),s=To(t,r),te("invalid",t);break;default:s=r}Oo(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Cc(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Ec(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&zr(t,a):typeof a=="number"&&zr(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Mr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&te("scroll",t):a!=null&&Ol(t,i,a,o))}switch(n){case"input":ps(t),Ra(t,r,!1);break;case"textarea":ps(t),La(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Kn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Kn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Zs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ke(e),null;case 6:if(t&&e.stateNode!=null)Yd(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(b(166));if(n=pn(Yr.current),pn(gt.current),Ss(e)){if(r=e.stateNode,n=e.memoizedProps,r[pt]=e,(i=r.nodeValue!==n)&&(t=Fe,t!==null))switch(t.tag){case 3:ks(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ks(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[pt]=e,e.stateNode=r}return ke(e),null;case 13:if(ne(se),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(re&&ze!==null&&e.mode&1&&!(e.flags&128))md(),tr(),e.flags|=98560,i=!1;else if(i=Ss(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(b(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(b(317));i[pt]=e}else tr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ke(e),i=!1}else ot!==null&&(hl(ot),ot=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||se.current&1?me===0&&(me=3):fa())),e.updateQueue!==null&&(e.flags|=4),ke(e),null);case 4:return rr(),sl(t,e),t===null&&Kr(e.stateNode.containerInfo),ke(e),null;case 10:return Ql(e.type._context),ke(e),null;case 17:return Ue(e.type)&&ei(),ke(e),null;case 19:if(ne(se),i=e.memoizedState,i===null)return ke(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)wr(i,!1);else{if(me!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=li(t),o!==null){for(e.flags|=128,wr(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return X(se,se.current&1|2),e.child}t=t.sibling}i.tail!==null&&ue()>ir&&(e.flags|=128,r=!0,wr(i,!1),e.lanes=4194304)}else{if(!r)if(t=li(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),wr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!re)return ke(e),null}else 2*ue()-i.renderingStartTime>ir&&n!==1073741824&&(e.flags|=128,r=!0,wr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ue(),e.sibling=null,n=se.current,X(se,r?n&1|2:n&1),e):(ke(e),null);case 22:case 23:return ha(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Me&1073741824&&(ke(e),e.subtreeFlags&6&&(e.flags|=8192)):ke(e),null;case 24:return null;case 25:return null}throw Error(b(156,e.tag))}function em(t,e){switch(ql(e),e.tag){case 1:return Ue(e.type)&&ei(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rr(),ne($e),ne(be),ta(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ea(e),null;case 13:if(ne(se),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));tr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ne(se),null;case 4:return rr(),null;case 10:return Ql(e.type._context),null;case 22:case 23:return ha(),null;case 24:return null;default:return null}}var Es=!1,Se=!1,tm=typeof WeakSet=="function"?WeakSet:Set,P=null;function Hn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ae(t,e,r)}else n.current=null}function il(t,e,n){try{n()}catch(r){ae(t,e,r)}}var bu=!1;function nm(t,e){if(Bo=Qs,t=nd(),Hl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,c=0,d=0,h=t,m=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)m=h,h=v;for(;;){if(h===t)break t;if(m===n&&++c===s&&(l=o),m===i&&++d===r&&(a=o),(v=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=v}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vo={focusedElem:t,selectionRange:n},Qs=!1,P=e;P!==null;)if(e=P,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,P=t;else for(;P!==null;){e=P;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,j=w.memoizedState,g=e.stateNode,f=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:rt(e.type,x),j);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(y){ae(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,P=t;break}P=e.return}return w=bu,bu=!1,w}function Rr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&il(e,n,i)}s=s.next}while(s!==r)}}function Ei(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ol(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Xd(t){var e=t.alternate;e!==null&&(t.alternate=null,Xd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[pt],delete e[Jr],delete e[qo],delete e[Dp],delete e[Mp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Zd(t){return t.tag===5||t.tag===3||t.tag===4}function ju(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Zd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ll(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zs));else if(r!==4&&(t=t.child,t!==null))for(ll(t,e,n),t=t.sibling;t!==null;)ll(t,e,n),t=t.sibling}function al(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(al(t,e,n),t=t.sibling;t!==null;)al(t,e,n),t=t.sibling}var ye=null,st=!1;function At(t,e,n){for(n=n.child;n!==null;)eh(t,e,n),n=n.sibling}function eh(t,e,n){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(yi,n)}catch{}switch(n.tag){case 5:Se||Hn(n,e);case 6:var r=ye,s=st;ye=null,At(t,e,n),ye=r,st=s,ye!==null&&(st?(t=ye,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ye.removeChild(n.stateNode));break;case 18:ye!==null&&(st?(t=ye,n=n.stateNode,t.nodeType===8?eo(t.parentNode,n):t.nodeType===1&&eo(t,n),Hr(t)):eo(ye,n.stateNode));break;case 4:r=ye,s=st,ye=n.stateNode.containerInfo,st=!0,At(t,e,n),ye=r,st=s;break;case 0:case 11:case 14:case 15:if(!Se&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&il(n,e,o),s=s.next}while(s!==r)}At(t,e,n);break;case 1:if(!Se&&(Hn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ae(n,e,l)}At(t,e,n);break;case 21:At(t,e,n);break;case 22:n.mode&1?(Se=(r=Se)||n.memoizedState!==null,At(t,e,n),Se=r):At(t,e,n);break;default:At(t,e,n)}}function Eu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new tm),e.forEach(function(r){var s=dm.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function tt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ye=l.stateNode,st=!1;break e;case 3:ye=l.stateNode.containerInfo,st=!0;break e;case 4:ye=l.stateNode.containerInfo,st=!0;break e}l=l.return}if(ye===null)throw Error(b(160));eh(i,o,s),ye=null,st=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(c){ae(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)th(e,t),e=e.sibling}function th(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tt(e,t),dt(t),r&4){try{Rr(3,t,t.return),Ei(3,t)}catch(x){ae(t,t.return,x)}try{Rr(5,t,t.return)}catch(x){ae(t,t.return,x)}}break;case 1:tt(e,t),dt(t),r&512&&n!==null&&Hn(n,n.return);break;case 5:if(tt(e,t),dt(t),r&512&&n!==null&&Hn(n,n.return),t.flags&32){var s=t.stateNode;try{zr(s,"")}catch(x){ae(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Sc(s,i),Ao(l,o);var c=Ao(l,i);for(o=0;o<a.length;o+=2){var d=a[o],h=a[o+1];d==="style"?Cc(s,h):d==="dangerouslySetInnerHTML"?Ec(s,h):d==="children"?zr(s,h):Ol(s,d,h,c)}switch(l){case"input":No(s,i);break;case"textarea":bc(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Kn(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?Kn(s,!!i.multiple,i.defaultValue,!0):Kn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Jr]=i}catch(x){ae(t,t.return,x)}}break;case 6:if(tt(e,t),dt(t),r&4){if(t.stateNode===null)throw Error(b(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){ae(t,t.return,x)}}break;case 3:if(tt(e,t),dt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hr(e.containerInfo)}catch(x){ae(t,t.return,x)}break;case 4:tt(e,t),dt(t);break;case 13:tt(e,t),dt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ca=ue())),r&4&&Eu(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Se=(c=Se)||d,tt(e,t),Se=c):tt(e,t),dt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(P=t,d=t.child;d!==null;){for(h=P=d;P!==null;){switch(m=P,v=m.child,m.tag){case 0:case 11:case 14:case 15:Rr(4,m,m.return);break;case 1:Hn(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(x){ae(r,n,x)}}break;case 5:Hn(m,m.return);break;case 22:if(m.memoizedState!==null){Cu(h);continue}}v!==null?(v.return=m,P=v):Cu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Nc("display",o))}catch(x){ae(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){ae(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:tt(e,t),dt(t),r&4&&Eu(t);break;case 21:break;default:tt(e,t),dt(t)}}function dt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Zd(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(zr(s,""),r.flags&=-33);var i=ju(t);al(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=ju(t);ll(t,l,o);break;default:throw Error(b(161))}}catch(a){ae(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rm(t,e,n){P=t,nh(t)}function nh(t,e,n){for(var r=(t.mode&1)!==0;P!==null;){var s=P,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Es;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||Se;l=Es;var c=Se;if(Es=o,(Se=a)&&!c)for(P=s;P!==null;)o=P,a=o.child,o.tag===22&&o.memoizedState!==null?Tu(s):a!==null?(a.return=o,P=a):Tu(s);for(;i!==null;)P=i,nh(i),i=i.sibling;P=s,Es=l,Se=c}Nu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,P=i):Nu(t)}}function Nu(t){for(;P!==null;){var e=P;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Se||Ei(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Se)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:rt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&du(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}du(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Hr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}Se||e.flags&512&&ol(e)}catch(m){ae(e,e.return,m)}}if(e===t){P=null;break}if(n=e.sibling,n!==null){n.return=e.return,P=n;break}P=e.return}}function Cu(t){for(;P!==null;){var e=P;if(e===t){P=null;break}var n=e.sibling;if(n!==null){n.return=e.return,P=n;break}P=e.return}}function Tu(t){for(;P!==null;){var e=P;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ei(4,e)}catch(a){ae(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){ae(e,s,a)}}var i=e.return;try{ol(e)}catch(a){ae(e,i,a)}break;case 5:var o=e.return;try{ol(e)}catch(a){ae(e,o,a)}}}catch(a){ae(e,e.return,a)}if(e===t){P=null;break}var l=e.sibling;if(l!==null){l.return=e.return,P=l;break}P=e.return}}var sm=Math.ceil,ci=Ct.ReactCurrentDispatcher,aa=Ct.ReactCurrentOwner,Je=Ct.ReactCurrentBatchConfig,H=0,ve=null,ce=null,we=0,Me=0,Wn=Zt(0),me=0,ts=null,xn=0,Ni=0,ua=0,Ir=null,Re=null,ca=0,ir=1/0,yt=null,di=!1,ul=null,Kt=null,Ns=!1,Ft=null,hi=0,Lr=0,cl=null,Bs=-1,Vs=0;function Ne(){return H&6?ue():Bs!==-1?Bs:Bs=ue()}function Gt(t){return t.mode&1?H&2&&we!==0?we&-we:Fp.transition!==null?(Vs===0&&(Vs=zc()),Vs):(t=G,t!==0||(t=window.event,t=t===void 0?16:Kc(t.type)),t):1}function at(t,e,n,r){if(50<Lr)throw Lr=0,cl=null,Error(b(185));ss(t,n,r),(!(H&2)||t!==ve)&&(t===ve&&(!(H&2)&&(Ni|=n),me===4&&Dt(t,we)),De(t,r),n===1&&H===0&&!(e.mode&1)&&(ir=ue()+500,Si&&en()))}function De(t,e){var n=t.callbackNode;Ff(t,e);var r=Js(t,t===ve?we:0);if(r===0)n!==null&&Da(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Da(n),e===1)t.tag===0?zp(Pu.bind(null,t)):hd(Pu.bind(null,t)),$p(function(){!(H&6)&&en()}),n=null;else{switch(Fc(r)){case 1:n=$l;break;case 4:n=Dc;break;case 16:n=Gs;break;case 536870912:n=Mc;break;default:n=Gs}n=ch(n,rh.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function rh(t,e){if(Bs=-1,Vs=0,H&6)throw Error(b(327));var n=t.callbackNode;if(Xn()&&t.callbackNode!==n)return null;var r=Js(t,t===ve?we:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fi(t,r);else{e=r;var s=H;H|=2;var i=ih();(ve!==t||we!==e)&&(yt=null,ir=ue()+500,mn(t,e));do try{lm();break}catch(l){sh(t,l)}while(!0);Jl(),ci.current=i,H=s,ce!==null?e=0:(ve=null,we=0,e=me)}if(e!==0){if(e===2&&(s=Uo(t),s!==0&&(r=s,e=dl(t,s))),e===1)throw n=ts,mn(t,0),Dt(t,r),De(t,ue()),n;if(e===6)Dt(t,r);else{if(s=t.current.alternate,!(r&30)&&!im(s)&&(e=fi(t,r),e===2&&(i=Uo(t),i!==0&&(r=i,e=dl(t,i))),e===1))throw n=ts,mn(t,0),Dt(t,r),De(t,ue()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(b(345));case 2:un(t,Re,yt);break;case 3:if(Dt(t,r),(r&130023424)===r&&(e=ca+500-ue(),10<e)){if(Js(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ne(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Wo(un.bind(null,t,Re,yt),e);break}un(t,Re,yt);break;case 4:if(Dt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-lt(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sm(r/1960))-r,10<r){t.timeoutHandle=Wo(un.bind(null,t,Re,yt),r);break}un(t,Re,yt);break;case 5:un(t,Re,yt);break;default:throw Error(b(329))}}}return De(t,ue()),t.callbackNode===n?rh.bind(null,t):null}function dl(t,e){var n=Ir;return t.current.memoizedState.isDehydrated&&(mn(t,e).flags|=256),t=fi(t,e),t!==2&&(e=Re,Re=n,e!==null&&hl(e)),t}function hl(t){Re===null?Re=t:Re.push.apply(Re,t)}function im(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ut(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dt(t,e){for(e&=~ua,e&=~Ni,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-lt(e),r=1<<n;t[n]=-1,e&=~r}}function Pu(t){if(H&6)throw Error(b(327));Xn();var e=Js(t,0);if(!(e&1))return De(t,ue()),null;var n=fi(t,e);if(t.tag!==0&&n===2){var r=Uo(t);r!==0&&(e=r,n=dl(t,r))}if(n===1)throw n=ts,mn(t,0),Dt(t,e),De(t,ue()),n;if(n===6)throw Error(b(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,un(t,Re,yt),De(t,ue()),null}function da(t,e){var n=H;H|=1;try{return t(e)}finally{H=n,H===0&&(ir=ue()+500,Si&&en())}}function _n(t){Ft!==null&&Ft.tag===0&&!(H&6)&&Xn();var e=H;H|=1;var n=Je.transition,r=G;try{if(Je.transition=null,G=1,t)return t()}finally{G=r,Je.transition=n,H=e,!(H&6)&&en()}}function ha(){Me=Wn.current,ne(Wn)}function mn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Lp(n)),ce!==null)for(n=ce.return;n!==null;){var r=n;switch(ql(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ei();break;case 3:rr(),ne($e),ne(be),ta();break;case 5:ea(r);break;case 4:rr();break;case 13:ne(se);break;case 19:ne(se);break;case 10:Ql(r.type._context);break;case 22:case 23:ha()}n=n.return}if(ve=t,ce=t=Jt(t.current,null),we=Me=e,me=0,ts=null,ua=Ni=xn=0,Re=Ir=null,fn!==null){for(e=0;e<fn.length;e++)if(n=fn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}fn=null}return t}function sh(t,e){do{var n=ce;try{if(Jl(),Ms.current=ui,ai){for(var r=ie.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ai=!1}if(wn=0,ge=pe=ie=null,Ar=!1,Xr=0,aa.current=null,n===null||n.return===null){me=1,ts=e,ce=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=we,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var c=a,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=vu(o);if(v!==null){v.flags&=-257,yu(v,o,l,i,e),v.mode&1&&gu(i,c,e),e=v,a=c;var w=e.updateQueue;if(w===null){var x=new Set;x.add(a),e.updateQueue=x}else w.add(a);break e}else{if(!(e&1)){gu(i,c,e),fa();break e}a=Error(b(426))}}else if(re&&l.mode&1){var j=vu(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),yu(j,o,l,i,e),Kl(sr(a,l));break e}}i=a=sr(a,l),me!==4&&(me=2),Ir===null?Ir=[i]:Ir.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Fd(i,a,e);cu(i,g);break e;case 1:l=a;var f=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Kt===null||!Kt.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var y=Bd(i,l,e);cu(i,y);break e}}i=i.return}while(i!==null)}lh(n)}catch(k){e=k,ce===n&&n!==null&&(ce=n=n.return);continue}break}while(!0)}function ih(){var t=ci.current;return ci.current=ui,t===null?ui:t}function fa(){(me===0||me===3||me===2)&&(me=4),ve===null||!(xn&268435455)&&!(Ni&268435455)||Dt(ve,we)}function fi(t,e){var n=H;H|=2;var r=ih();(ve!==t||we!==e)&&(yt=null,mn(t,e));do try{om();break}catch(s){sh(t,s)}while(!0);if(Jl(),H=n,ci.current=r,ce!==null)throw Error(b(261));return ve=null,we=0,me}function om(){for(;ce!==null;)oh(ce)}function lm(){for(;ce!==null&&!Af();)oh(ce)}function oh(t){var e=uh(t.alternate,t,Me);t.memoizedProps=t.pendingProps,e===null?lh(t):ce=e,aa.current=null}function lh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=em(n,e),n!==null){n.flags&=32767,ce=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{me=6,ce=null;return}}else if(n=Zp(n,e,Me),n!==null){ce=n;return}if(e=e.sibling,e!==null){ce=e;return}ce=e=t}while(e!==null);me===0&&(me=5)}function un(t,e,n){var r=G,s=Je.transition;try{Je.transition=null,G=1,am(t,e,n,r)}finally{Je.transition=s,G=r}return null}function am(t,e,n,r){do Xn();while(Ft!==null);if(H&6)throw Error(b(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(b(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Bf(t,i),t===ve&&(ce=ve=null,we=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ns||(Ns=!0,ch(Gs,function(){return Xn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Je.transition,Je.transition=null;var o=G;G=1;var l=H;H|=4,aa.current=null,nm(t,n),th(n,t),Cp(Vo),Qs=!!Bo,Vo=Bo=null,t.current=n,rm(n),Rf(),H=l,G=o,Je.transition=i}else t.current=n;if(Ns&&(Ns=!1,Ft=t,hi=s),i=t.pendingLanes,i===0&&(Kt=null),$f(n.stateNode),De(t,ue()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(di)throw di=!1,t=ul,ul=null,t;return hi&1&&t.tag!==0&&Xn(),i=t.pendingLanes,i&1?t===cl?Lr++:(Lr=0,cl=t):Lr=0,en(),null}function Xn(){if(Ft!==null){var t=Fc(hi),e=Je.transition,n=G;try{if(Je.transition=null,G=16>t?16:t,Ft===null)var r=!1;else{if(t=Ft,Ft=null,hi=0,H&6)throw Error(b(331));var s=H;for(H|=4,P=t.current;P!==null;){var i=P,o=i.child;if(P.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var c=l[a];for(P=c;P!==null;){var d=P;switch(d.tag){case 0:case 11:case 15:Rr(8,d,i)}var h=d.child;if(h!==null)h.return=d,P=h;else for(;P!==null;){d=P;var m=d.sibling,v=d.return;if(Xd(d),d===c){P=null;break}if(m!==null){m.return=v,P=m;break}P=v}}}var w=i.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var j=x.sibling;x.sibling=null,x=j}while(x!==null)}}P=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,P=o;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Rr(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,P=g;break e}P=i.return}}var f=t.current;for(P=f;P!==null;){o=P;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,P=p;else e:for(o=f;P!==null;){if(l=P,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ei(9,l)}}catch(k){ae(l,l.return,k)}if(l===o){P=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,P=y;break e}P=l.return}}if(H=s,en(),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(yi,t)}catch{}r=!0}return r}finally{G=n,Je.transition=e}}return!1}function Ou(t,e,n){e=sr(n,e),e=Fd(t,e,1),t=qt(t,e,1),e=Ne(),t!==null&&(ss(t,1,e),De(t,e))}function ae(t,e,n){if(t.tag===3)Ou(t,t,n);else for(;e!==null;){if(e.tag===3){Ou(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kt===null||!Kt.has(r))){t=sr(n,t),t=Bd(e,t,1),e=qt(e,t,1),t=Ne(),e!==null&&(ss(e,1,t),De(e,t));break}}e=e.return}}function um(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ne(),t.pingedLanes|=t.suspendedLanes&n,ve===t&&(we&n)===n&&(me===4||me===3&&(we&130023424)===we&&500>ue()-ca?mn(t,0):ua|=n),De(t,e)}function ah(t,e){e===0&&(t.mode&1?(e=vs,vs<<=1,!(vs&130023424)&&(vs=4194304)):e=1);var n=Ne();t=Et(t,e),t!==null&&(ss(t,e,n),De(t,n))}function cm(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ah(t,n)}function dm(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(e),ah(t,n)}var uh;uh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||$e.current)Le=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Le=!1,Xp(t,e,n);Le=!!(t.flags&131072)}else Le=!1,re&&e.flags&1048576&&fd(e,ri,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fs(t,e),t=e.pendingProps;var s=er(e,be.current);Yn(e,n),s=ra(null,e,r,t,s,n);var i=sa();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ue(r)?(i=!0,ti(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Xl(e),s.updater=ji,e.stateNode=s,s._reactInternals=e,Xo(e,r,t,n),e=tl(null,e,r,!0,i,n)):(e.tag=0,re&&i&&Wl(e),Ee(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fs(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=fm(r),t=rt(r,t),s){case 0:e=el(null,e,r,t,n);break e;case 1:e=_u(null,e,r,t,n);break e;case 11:e=wu(null,e,r,t,n);break e;case 14:e=xu(null,e,r,rt(r.type,t),n);break e}throw Error(b(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rt(r,s),el(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rt(r,s),_u(t,e,r,s,n);case 3:e:{if(qd(e),t===null)throw Error(b(387));r=e.pendingProps,i=e.memoizedState,s=i.element,wd(t,e),oi(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=sr(Error(b(423)),e),e=ku(t,e,r,n,s);break e}else if(r!==s){s=sr(Error(b(424)),e),e=ku(t,e,r,n,s);break e}else for(ze=Wt(e.stateNode.containerInfo.firstChild),Fe=e,re=!0,ot=null,n=vd(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(tr(),r===s){e=Nt(t,e,n);break e}Ee(t,e,r,n)}e=e.child}return e;case 5:return xd(e),t===null&&Jo(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ho(r,s)?o=null:i!==null&&Ho(r,i)&&(e.flags|=32),Wd(t,e),Ee(t,e,o,n),e.child;case 6:return t===null&&Jo(e),null;case 13:return Kd(t,e,n);case 4:return Zl(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=nr(e,null,r,n):Ee(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rt(r,s),wu(t,e,r,s,n);case 7:return Ee(t,e,e.pendingProps,n),e.child;case 8:return Ee(t,e,e.pendingProps.children,n),e.child;case 12:return Ee(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,X(si,r._currentValue),r._currentValue=o,i!==null)if(ut(i.value,o)){if(i.children===s.children&&!$e.current){e=Nt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=St(-1,n&-n),a.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?a.next=a:(a.next=d.next,d.next=a),c.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Qo(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(b(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Qo(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ee(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Yn(e,n),s=Ye(s),r=r(s),e.flags|=1,Ee(t,e,r,n),e.child;case 14:return r=e.type,s=rt(r,e.pendingProps),s=rt(r.type,s),xu(t,e,r,s,n);case 15:return Vd(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rt(r,s),Fs(t,e),e.tag=1,Ue(r)?(t=!0,ti(e)):t=!1,Yn(e,n),zd(e,r,s),Xo(e,r,s,n),tl(null,e,r,!0,t,n);case 19:return Gd(t,e,n);case 22:return Hd(t,e,n)}throw Error(b(156,e.tag))};function ch(t,e){return Uc(t,e)}function hm(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ge(t,e,n,r){return new hm(t,e,n,r)}function pa(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fm(t){if(typeof t=="function")return pa(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Rl)return 11;if(t===Il)return 14}return 2}function Jt(t,e){var n=t.alternate;return n===null?(n=Ge(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hs(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")pa(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ln:return gn(n.children,s,i,e);case Al:o=8,s|=8;break;case ko:return t=Ge(12,n,e,s|2),t.elementType=ko,t.lanes=i,t;case So:return t=Ge(13,n,e,s),t.elementType=So,t.lanes=i,t;case bo:return t=Ge(19,n,e,s),t.elementType=bo,t.lanes=i,t;case xc:return Ci(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yc:o=10;break e;case wc:o=9;break e;case Rl:o=11;break e;case Il:o=14;break e;case Lt:o=16,r=null;break e}throw Error(b(130,t==null?t:typeof t,""))}return e=Ge(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function gn(t,e,n,r){return t=Ge(7,t,r,e),t.lanes=n,t}function Ci(t,e,n,r){return t=Ge(22,t,r,e),t.elementType=xc,t.lanes=n,t.stateNode={isHidden:!1},t}function ao(t,e,n){return t=Ge(6,t,null,e),t.lanes=n,t}function uo(t,e,n){return e=Ge(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function pm(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vi(0),this.expirationTimes=Vi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ma(t,e,n,r,s,i,o,l,a){return t=new pm(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ge(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xl(i),t}function mm(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:In,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function dh(t){if(!t)return Yt;t=t._reactInternals;e:{if(Sn(t)!==t||t.tag!==1)throw Error(b(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ue(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(b(171))}if(t.tag===1){var n=t.type;if(Ue(n))return dd(t,n,e)}return e}function hh(t,e,n,r,s,i,o,l,a){return t=ma(n,r,!0,t,s,i,o,l,a),t.context=dh(null),n=t.current,r=Ne(),s=Gt(n),i=St(r,s),i.callback=e??null,qt(n,i,s),t.current.lanes=s,ss(t,s,r),De(t,r),t}function Ti(t,e,n,r){var s=e.current,i=Ne(),o=Gt(s);return n=dh(n),e.context===null?e.context=n:e.pendingContext=n,e=St(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qt(s,e,o),t!==null&&(at(t,s,o,i),Ds(t,s,o)),o}function pi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Au(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ga(t,e){Au(t,e),(t=t.alternate)&&Au(t,e)}function gm(){return null}var fh=typeof reportError=="function"?reportError:function(t){console.error(t)};function va(t){this._internalRoot=t}Pi.prototype.render=va.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(b(409));Ti(t,e,null,null)};Pi.prototype.unmount=va.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_n(function(){Ti(null,t,null,null)}),e[jt]=null}};function Pi(t){this._internalRoot=t}Pi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Hc();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ut.length&&e!==0&&e<Ut[n].priority;n++);Ut.splice(n,0,t),n===0&&qc(t)}};function ya(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Oi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ru(){}function vm(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=pi(o);i.call(c)}}var o=hh(e,r,t,0,null,!1,!1,"",Ru);return t._reactRootContainer=o,t[jt]=o.current,Kr(t.nodeType===8?t.parentNode:t),_n(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=pi(a);l.call(c)}}var a=ma(t,0,!1,null,null,!1,!1,"",Ru);return t._reactRootContainer=a,t[jt]=a.current,Kr(t.nodeType===8?t.parentNode:t),_n(function(){Ti(e,a,n,r)}),a}function Ai(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=pi(o);l.call(a)}}Ti(e,o,t,s)}else o=vm(n,e,t,s,r);return pi(o)}Bc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=br(e.pendingLanes);n!==0&&(Ul(e,n|1),De(e,ue()),!(H&6)&&(ir=ue()+500,en()))}break;case 13:_n(function(){var r=Et(t,1);if(r!==null){var s=Ne();at(r,t,1,s)}}),ga(t,1)}};Dl=function(t){if(t.tag===13){var e=Et(t,134217728);if(e!==null){var n=Ne();at(e,t,134217728,n)}ga(t,134217728)}};Vc=function(t){if(t.tag===13){var e=Gt(t),n=Et(t,e);if(n!==null){var r=Ne();at(n,t,e,r)}ga(t,e)}};Hc=function(){return G};Wc=function(t,e){var n=G;try{return G=t,e()}finally{G=n}};Io=function(t,e,n){switch(e){case"input":if(No(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ki(r);if(!s)throw Error(b(90));kc(r),No(r,s)}}}break;case"textarea":bc(t,n);break;case"select":e=n.value,e!=null&&Kn(t,!!n.multiple,e,!1)}};Oc=da;Ac=_n;var ym={usingClientEntryPoint:!1,Events:[os,Mn,ki,Tc,Pc,da]},xr={findFiberByHostInstance:hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wm={bundleType:xr.bundleType,version:xr.version,rendererPackageName:xr.rendererPackageName,rendererConfig:xr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ct.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Lc(t),t===null?null:t.stateNode},findFiberByHostInstance:xr.findFiberByHostInstance||gm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cs.isDisabled&&Cs.supportsFiber)try{yi=Cs.inject(wm),mt=Cs}catch{}}Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ym;Ve.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ya(e))throw Error(b(200));return mm(t,e,null,n)};Ve.createRoot=function(t,e){if(!ya(t))throw Error(b(299));var n=!1,r="",s=fh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ma(t,1,!1,null,null,n,!1,r,s),t[jt]=e.current,Kr(t.nodeType===8?t.parentNode:t),new va(e)};Ve.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=Lc(e),t=t===null?null:t.stateNode,t};Ve.flushSync=function(t){return _n(t)};Ve.hydrate=function(t,e,n){if(!Oi(e))throw Error(b(200));return Ai(null,t,e,!0,n)};Ve.hydrateRoot=function(t,e,n){if(!ya(t))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=fh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=hh(e,null,t,1,n??null,s,!1,i,o),t[jt]=e.current,Kr(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Pi(e)};Ve.render=function(t,e,n){if(!Oi(e))throw Error(b(200));return Ai(null,t,e,!1,n)};Ve.unmountComponentAtNode=function(t){if(!Oi(t))throw Error(b(40));return t._reactRootContainer?(_n(function(){Ai(null,null,t,!1,function(){t._reactRootContainer=null,t[jt]=null})}),!0):!1};Ve.unstable_batchedUpdates=da;Ve.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Oi(n))throw Error(b(200));if(t==null||t._reactInternals===void 0)throw Error(b(38));return Ai(t,e,n,!1,r)};Ve.version="18.3.1-next-f1338f8080-20240426";function ph(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ph)}catch(t){console.error(t)}}ph(),pc.exports=Ve;var xm=pc.exports,mh,Iu=xm;mh=Iu.createRoot,Iu.hydrateRoot;const _m="modulepreload",km=function(t){return"/"+t},Lu={},as=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(a=>{if(a=km(a),a in Lu)return;Lu[a]=!0;const c=a.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":_m,c||(h.as="script"),h.crossOrigin="",h.href=a,l&&h.setAttribute("nonce",l),document.head.appendChild(h),c)return new Promise((m,v)=>{h.addEventListener("load",m),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Sm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>as(async()=>{const{default:r}=await Promise.resolve().then(()=>cr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class wa extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class bm extends wa{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class $u extends wa{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Uu extends wa{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var fl;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(fl||(fl={}));var jm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class Em{constructor(e,{headers:n={},customFetch:r,region:s=fl.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Sm(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return jm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:a}=n;a||(a=this.region);const c=new URL(`${this.url}/${e}`);a&&a!=="any"&&(l["x-region"]=a,c.searchParams.set("forceFunctionRegion",a));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(x=>{throw new bm(x)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new $u(h);if(!h.ok)throw new Uu(h);let v=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return v==="application/json"?w=yield h.json():v==="application/octet-stream"?w=yield h.blob():v==="text/event-stream"?w=h:v==="multipart/form-data"?w=yield h.formData():w=yield h.text(),{data:w,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Uu||s instanceof $u?s.context:void 0}}})}}var Ie={},xa={},Ri={},us={},Ii={},Li={},Nm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},or=Nm();const Cm=or.fetch,gh=or.fetch.bind(or),vh=or.Headers,Tm=or.Request,Pm=or.Response,cr=Object.freeze(Object.defineProperty({__proto__:null,Headers:vh,Request:Tm,Response:Pm,default:gh,fetch:Cm},Symbol.toStringTag,{value:"Module"})),Om=Kh(cr);var $i={};Object.defineProperty($i,"__esModule",{value:!0});let Am=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};$i.default=Am;var yh=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Li,"__esModule",{value:!0});const Rm=yh(Om),Im=yh($i);let Lm=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Rm.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a,c;let d=null,h=null,m=null,v=i.status,w=i.statusText;if(i.ok){if(this.method!=="HEAD"){const f=await i.text();f===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=f:h=JSON.parse(f))}const j=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),g=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");j&&g&&g.length>1&&(m=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,v=406,w="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const j=await i.text();try{d=JSON.parse(j),Array.isArray(d)&&i.status===404&&(h=[],d=null,v=200,w="OK")}catch{i.status===404&&j===""?(v=204,w="No Content"):d={message:j}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,v=200,w="OK"),d&&this.shouldThrowOnError)throw new Im.default(d)}return{error:d,data:h,count:m,status:v,statusText:w}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Li.default=Lm;var $m=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ii,"__esModule",{value:!0});const Um=$m(Li);let Dm=class extends Um.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Ii.default=Dm;var Mm=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(us,"__esModule",{value:!0});const zm=Mm(Ii);let Fm=class extends zm.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};us.default=Fm;var Bm=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ri,"__esModule",{value:!0});const _r=Bm(us);let Vm=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new _r.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new _r.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(a.length>0){const c=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new _r.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new _r.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new _r.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Ri.default=Vm;var wh=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xa,"__esModule",{value:!0});const Hm=wh(Ri),Wm=wh(us);let qm=class xh{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new Hm.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new xh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let l;const a=new URL(`${this.url}/rpc/${e}`);let c;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([h,m])=>m!==void 0).map(([h,m])=>[h,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([h,m])=>{a.searchParams.append(h,m)})):(l="POST",c=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new Wm.default({method:l,url:a,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};xa.default=qm;var dr=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.PostgrestError=Ie.PostgrestBuilder=Ie.PostgrestTransformBuilder=Ie.PostgrestFilterBuilder=Ie.PostgrestQueryBuilder=Ie.PostgrestClient=void 0;const _h=dr(xa);Ie.PostgrestClient=_h.default;const kh=dr(Ri);Ie.PostgrestQueryBuilder=kh.default;const Sh=dr(us);Ie.PostgrestFilterBuilder=Sh.default;const bh=dr(Ii);Ie.PostgrestTransformBuilder=bh.default;const jh=dr(Li);Ie.PostgrestBuilder=jh.default;const Eh=dr($i);Ie.PostgrestError=Eh.default;var Km=Ie.default={PostgrestClient:_h.default,PostgrestQueryBuilder:kh.default,PostgrestFilterBuilder:Sh.default,PostgrestTransformBuilder:bh.default,PostgrestBuilder:jh.default,PostgrestError:Eh.default};const{PostgrestClient:Gm,PostgrestQueryBuilder:mv,PostgrestFilterBuilder:gv,PostgrestTransformBuilder:vv,PostgrestBuilder:yv,PostgrestError:wv}=Km;class Jm{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Qm="2.15.5",Ym=`realtime-js/${Qm}`,Xm="1.0.0",pl=1e4,Zm=1e3,e0=100;var $r;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})($r||($r={}));var he;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(he||(he={}));var it;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(it||(it={}));var ml;(function(t){t.websocket="websocket"})(ml||(ml={}));var dn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(dn||(dn={}));class t0{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const a=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:c}}}class Nh{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Y;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Y||(Y={}));const Du=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=n0(o,t,e,s),i),{})},n0=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?Ch(i,o):gl(o)},Ch=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return o0(e,n)}switch(t){case Y.bool:return r0(e);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return s0(e);case Y.json:case Y.jsonb:return i0(e);case Y.timestamp:return l0(e);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return gl(e);default:return gl(e)}},gl=t=>t,r0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},s0=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},i0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},o0=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Ch(e,l))}return t},l0=t=>typeof t=="string"?t.replace(" ","T"):t,Th=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class co{constructor(e,n,r={},s=pl){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Mu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Mu||(Mu={}));class Ur{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ur.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=Ur.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ur.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},a={};return this.map(i,(c,d)=>{o[c]||(a[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const m=d.map(j=>j.presence_ref),v=h.map(j=>j.presence_ref),w=d.filter(j=>v.indexOf(j.presence_ref)<0),x=h.filter(j=>m.indexOf(j.presence_ref)<0);w.length>0&&(l[c]=w),x.length>0&&(a[c]=x)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:a},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var c;const d=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(a),d.length>0){const h=e[l].map(v=>v.presence_ref),m=d.filter(v=>h.indexOf(v.presence_ref)<0);e[l].unshift(...m)}r(l,d,a)}),this.map(o,(l,a)=>{let c=e[l];if(!c)return;const d=a.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=c,s(l,c,a),c.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(zu||(zu={}));var Dr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Dr||(Dr={}));var wt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(wt||(wt={}));class _a{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=he.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new co(this,it.join,this.params,this.timeout),this.rejoinTimer=new Nh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=he.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=he.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this._on(it.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ur(this),this.broadcastEndpointURL=Th(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==he.closed){const{config:{broadcast:o,presence:l,private:a}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Dr.PRESENCE]&&this.bindings[Dr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:c,private:a};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(wt.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(wt.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var w;if(this.socket.setAuth(),v===void 0){e==null||e(wt.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,j=(w=x==null?void 0:x.length)!==null&&w!==void 0?w:0,g=[];for(let f=0;f<j;f++){const p=x[f],{filter:{event:y,schema:k,table:S,filter:E}}=p,N=v&&v[f];if(N&&N.event===y&&N.schema===k&&N.table===S&&N.filter===E)g.push(Object.assign(Object.assign({},p),{id:N.id}));else{this.unsubscribe(),this.state=he.errored,e==null||e(wt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(wt.SUBSCRIBED);return}}).receive("error",v=>{this.state=he.errored,e==null||e(wt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(wt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===he.joined&&e===Dr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=he.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(it.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new co(this,it.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=he.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new co(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>e0){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:c,join:d}=it;if(r&&[l,a,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var w,x,j;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((j=(x=v.filter)===null||x===void 0?void 0:x.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(v=>v.callback(m,r)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var w,x,j,g,f,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const y=v.id,k=(w=v.filter)===null||w===void 0?void 0:w.event;return y&&((x=n.ids)===null||x===void 0?void 0:x.includes(y))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const y=(f=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return y==="*"||y===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof m=="object"&&"ids"in m){const w=m.data,{schema:x,table:j,commit_timestamp:g,type:f,errors:p}=w;m=Object.assign(Object.assign({},{schema:x,table:j,commit_timestamp:g,eventType:f,new:{},old:{},errors:p}),this._getPayloadRecords(w))}v.callback(m,r)})}_isClosed(){return this.state===he.closed}_isJoined(){return this.state===he.joined}_isJoining(){return this.state===he.joining}_isLeaving(){return this.state===he.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&_a.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(it.close,{},e)}_onError(e){this._on(it.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=he.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Du(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Du(e.columns,e.old_record)),n}}const ho=()=>{},Ts={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},a0=[1e3,2e3,5e3,1e4],u0=1e4,c0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class d0{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=pl,this.transport=null,this.heartbeatIntervalMs=Ts.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ho,this.ref=0,this.reconnectTimer=null,this.logger=ho,this.conn=null,this.sendBuffer=[],this.serializer=new t0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>as(async()=>{const{default:l}=await Promise.resolve().then(()=>cr);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${ml.websocket}`,this.httpEndpoint=Th(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Jm.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Xm}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case $r.connecting:return dn.Connecting;case $r.open:return dn.Open;case $r.closing:return dn.Closing;default:return dn.Closed}}isConnected(){return this.connectionState()===dn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new _a(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Zm,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ts.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",a=i.status||"";this.log("receive",`${a} ${r} ${s} ${l}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(it.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([c0],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Ym};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(it.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Nh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ts.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,l,a,c,d;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:pl,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Ts.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:ho,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:h=>a0[h-1]||u0,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,m)=>m(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ka extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function fe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class h0 extends ka{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vl extends ka{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var f0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const Ph=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>as(async()=>{const{default:r}=await Promise.resolve().then(()=>cr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},p0=()=>f0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield as(()=>Promise.resolve().then(()=>cr),void 0)).Response:Response}),yl=t=>{if(Array.isArray(t))return t.map(n=>yl(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=yl(r)}),e},m0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var bn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const fo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),g0=(t,e,n)=>bn(void 0,void 0,void 0,function*(){const r=yield p0();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new h0(fo(s),i,o))}).catch(s=>{e(new vl(fo(s),s))}):e(new vl(fo(t),t))}),v0=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(m0(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function cs(t,e,n,r,s,i){return bn(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,v0(e,r,s,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>g0(a,l,r))})})}function mi(t,e,n,r){return bn(this,void 0,void 0,function*(){return cs(t,"GET",e,n,r)})}function ft(t,e,n,r,s){return bn(this,void 0,void 0,function*(){return cs(t,"POST",e,r,s,n)})}function wl(t,e,n,r,s){return bn(this,void 0,void 0,function*(){return cs(t,"PUT",e,r,s,n)})}function y0(t,e,n,r){return bn(this,void 0,void 0,function*(){return cs(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Oh(t,e,n,r,s){return bn(this,void 0,void 0,function*(){return cs(t,"DELETE",e,r,s,n)})}var je=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const w0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class x0{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Ph(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return je(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Fu),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield(e=="PUT"?wl:ft)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fe(i))return{data:null,error:i};throw i}})}upload(e,n,r){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return je(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const c=Object.assign({upsert:Fu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",c.cacheControl)):(a=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield wl(this.fetch,l.toString(),a,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fe(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,n){return je(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield ft(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new ka("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}})}update(e,n,r){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return je(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}copy(e,n,r){return je(this,void 0,void 0,function*(){try{return{data:{path:(yield ft(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return je(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield ft(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return je(this,void 0,void 0,function*(){try{const s=yield ft(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}download(e,n){return je(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield mi(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(fe(l))return{data:null,error:l};throw l}})}info(e){return je(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield mi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:yl(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}})}exists(e){return je(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield y0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r)&&r instanceof vl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&s.push(a);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${c}`)}}}remove(e){return je(this,void 0,void 0,function*(){try{return{data:yield Oh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n))return{data:null,error:n};throw n}})}list(e,n,r){return je(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},w0),n),{prefix:e||""});return{data:yield ft(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}listV2(e,n){return je(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield ft(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const _0="2.12.1",k0={"X-Client-Info":`storage-js/${_0}`};var Nn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class S0{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},k0),n),this.fetch=Ph(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Nn(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(fe(e))return{data:null,error:e};throw e}})}getBucket(e){return Nn(this,void 0,void 0,function*(){try{return{data:yield mi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Nn(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Nn(this,void 0,void 0,function*(){try{return{data:yield wl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Nn(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Nn(this,void 0,void 0,function*(){try{return{data:yield Oh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n))return{data:null,error:n};throw n}})}}class b0 extends S0{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new x0(this.url,this.headers,e,this.fetch)}}const j0="2.57.4";let Er="";typeof Deno<"u"?Er="deno":typeof document<"u"?Er="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Er="react-native":Er="node";const E0={"X-Client-Info":`supabase-js-${Er}/${j0}`},N0={headers:E0},C0={schema:"public"},T0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},P0={};var O0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};const A0=t=>{let e;return t?e=t:typeof fetch>"u"?e=gh:e=fetch,(...n)=>e(...n)},R0=()=>typeof Headers>"u"?vh:Headers,I0=(t,e,n)=>{const r=A0(n),s=R0();return(i,o)=>O0(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var L0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};function $0(t){return t.endsWith("/")?t:t+"/"}function U0(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:a,auth:c,realtime:d,global:h}=e,m={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>L0(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function D0(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($0(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ah="2.71.1",An=30*1e3,xl=3,po=xl*An,M0="http://localhost:9999",z0="supabase.auth.token",F0={"X-Client-Info":`gotrue-js/${Ah}`},_l="X-Supabase-Api-Version",Rh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},B0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,V0=10*60*1e3;class Sa extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function D(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class H0 extends Sa{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function W0(t){return D(t)&&t.name==="AuthApiError"}class Ih extends Sa{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class tn extends Sa{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class It extends tn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function q0(t){return D(t)&&t.name==="AuthSessionMissingError"}class Ps extends tn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Os extends tn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class As extends tn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function K0(t){return D(t)&&t.name==="AuthImplicitGrantRedirectError"}class Bu extends tn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kl extends tn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function mo(t){return D(t)&&t.name==="AuthRetryableFetchError"}class Vu extends tn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Sl extends tn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const gi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hu=` 	
\r=`.split(""),G0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Hu.length;e+=1)t[Hu[e].charCodeAt(0)]=-2;for(let e=0;e<gi.length;e+=1)t[gi[e].charCodeAt(0)]=e;return t})();function Wu(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(gi[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(gi[r]),e.queuedBits-=6}}function Lh(t,e,n){const r=G0[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function qu(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Y0(o,r,n)};for(let o=0;o<t.length;o+=1)Lh(t.charCodeAt(o),s,i);return e.join("")}function J0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Q0(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}J0(r,e)}}function Y0(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function X0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Lh(t.charCodeAt(s),n,r);return new Uint8Array(e)}function Z0(t){const e=[];return Q0(t,n=>e.push(n)),new Uint8Array(e)}function eg(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Wu(s,n,r)),Wu(null,n,r),e.join("")}function tg(t){return Math.round(Date.now()/1e3)+t}function ng(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const nt=()=>typeof window<"u"&&typeof document<"u",on={tested:!1,writable:!1},$h=()=>{if(!nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(on.tested)return on.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),on.tested=!0,on.writable=!0}catch{on.tested=!0,on.writable=!1}return on.writable};function rg(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Uh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>as(async()=>{const{default:r}=await Promise.resolve().then(()=>cr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},sg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Rn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ln=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Rt=async(t,e)=>{await t.removeItem(e)};class Ui{constructor(){this.promise=new Ui.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ui.promiseConstructor=Promise;function go(t){const e=t.split(".");if(e.length!==3)throw new Sl("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!B0.test(e[r]))throw new Sl("JWT not in base64url format");return{header:JSON.parse(qu(e[0])),payload:JSON.parse(qu(e[1])),signature:X0(e[2]),raw:{header:e[0],payload:e[1]}}}async function ig(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function og(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function lg(t){return("0"+t.toString(16)).substr(-2)}function ag(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,lg).join("")}async function ug(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function cg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await ug(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Cn(t,e,n=!1){const r=ag();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Rn(t,`${e}-code-verifier`,s);const i=await cg(r);return[i,r===i?"plain":"s256"]}const dg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hg(t){const e=t.headers.get(_l);if(!e||!e.match(dg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function fg(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function pg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Tn(t){if(!mg.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vo(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ku(t){return JSON.parse(JSON.stringify(t))}var gg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const cn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),vg=[502,503,504];async function Gu(t){var e;if(!sg(t))throw new kl(cn(t),0);if(vg.includes(t.status))throw new kl(cn(t),t.status);let n;try{n=await t.json()}catch(i){throw new Ih(cn(i),i)}let r;const s=hg(t);if(s&&s.getTime()>=Rh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Vu(cn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new It}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Vu(cn(n),t.status,n.weak_password.reasons);throw new H0(cn(n),t.status||500,r)}const yg=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function z(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[_l]||(i[_l]=Rh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await wg(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function wg(t,e,n,r,s,i){const o=yg(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(a){throw console.error(a),new kl(cn(a),0)}if(l.ok||await Gu(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await Gu(a)}}function vt(t){var e;let n=null;Sg(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=tg(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Ju(t){const e=vt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Mt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function xg(t){return{data:t,error:null}}function _g(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=gg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function kg(t){return t}function Sg(t){return t.access_token&&t.refresh_token&&t.expires_in}const yo=["global","local","others"];var bg=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class jg{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Uh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=yo[0]){if(yo.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${yo.join(", ")}`);try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Mt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=bg(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:_g,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(D(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Mt})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,a;try{const c={nextPage:null,lastPage:0,total:0},d=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:kg});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(a=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return v.length>0&&(v.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);c[`${j}Page`]=x}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(D(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Tn(e);try{return await z(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Mt})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Tn(e);try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Mt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Tn(e);try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Mt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Tn(e.userId);try{const{data:n,error:r}=await z(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(D(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Tn(e.userId),Tn(e.id);try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}}function Qu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Eg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Pn={debug:!!(globalThis&&$h()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Dh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ng extends Dh{}async function Cg(t,e,n){Pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Pn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Pn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Ng(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Pn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Eg();const Tg={url:M0,storageKey:z0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:F0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Yu(t,e,n){return await n()}const On={};class ns{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ns.nextInstanceID,ns.nextInstanceID+=1,this.instanceID>0&&nt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Tg),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new jg({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Uh(s.fetch),this.lock=s.lock||Yu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:nt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Cg:this.lock=Yu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:$h()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Qu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Qu(this.memoryStorage)),nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=On[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){On[this.storageKey]=Object.assign(Object.assign({},On[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=On[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){On[this.storageKey]=Object.assign(Object.assign({},On[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ah}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=rg(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),nt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),K0(i)){const a=(e=i.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return D(n)?{error:n}:{error:new Ih("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:vt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:m}=e;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await Cn(this.storage,this.storageKey)),i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:w},xform:vt})}else if("phone"in e){const{phone:d,password:h,options:m}=e;i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:vt})}else throw new Os("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(D(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ju})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ju})}else throw new Os("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ps}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,l,a,c,d,h,m,v;let w,x;if("message"in e)w=e.message,x=e.signature;else{const{chain:j,wallet:g,statement:f,options:p}=e;let y;if(nt())if(typeof g=="object")y=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))y=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=g}const k=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in y&&y.signIn){const S=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),f?{statement:f}:null));let E;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")E=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)E=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)w=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),x=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in y)||typeof y.signMessage!="function"||!("publicKey"in y)||typeof y!="object"||!y.publicKey||!("toBase58"in y.publicKey)||typeof y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${k.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const S=await y.signMessage(new TextEncoder().encode(w),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=S}}try{const{data:j,error:g}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:eg(x)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:vt});if(g)throw g;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Ps}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:g})}catch(j){if(D(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const n=await ln(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:vt});if(await Rt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ps}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(D(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:vt}),{data:a,error:c}=l;return c?{data:{user:null,session:null},error:c}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Ps}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:c})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:a}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Cn(this.storage,this.storageKey));const{error:h}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:a}=e,{data:c,error:d}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Os("You must provide either an email or phone number.")}catch(l){if(D(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:vt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,c=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(s){if(D(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Cn(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:xg})}catch(i){if(D(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new It;const{error:s}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(D(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await z(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await z(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Os("You must provide either an email or phone number and a type")}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ln(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<po:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await ln(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=vo()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Mt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new It}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Mt})})}catch(n){if(D(n))return q0(n)&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new It;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await Cn(this.storage,this.storageKey));const{data:c,error:d}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:Mt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new It;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=go(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(D(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new It;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(D(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!nt())throw new As("No browser detected.");if(e.error||e.error_description||e.error_code)throw new As(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Bu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new As("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Bu("No code detected.");const{data:f,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:c}=e;if(!i||!l||!o||!c)throw new As("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;a&&(m=parseInt(a));const v=m-d;v*1e3<=An&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const w=m-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,m,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,m,d);const{data:x,error:j}=await this._getUser(i);if(j)throw j;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(D(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ln(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(W0(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Rt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=ng(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Cn(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(D(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,a,c,d;const{data:h,error:m}=i;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return nt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(D(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await og(async s=>(s>0&&await ig(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:vt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&mo(i)&&Date.now()+o-r<An})}catch(r){if(this._debug(n,"error",r),D(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),nt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await ln(this.storage,this.storageKey);if(s&&this.userStorage){let o=await ln(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Rn(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:vo()}else if(s&&!s.user&&!s.user){const o=await ln(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Rt(this.storage,this.storageKey+"-user"),await Rn(this.storage,this.storageKey,s)):s.user=vo()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<po;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${po}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),mo(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new It;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ui;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new It;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),D(i)){const o={session:null,error:i};return mo(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Rn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Ku(s);await Rn(this.storage,this.storageKey,i)}else{const s=Ku(n);await Rn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Rt(this.storage,this.storageKey),await Rt(this.storage,this.storageKey+"-code-verifier"),await Rt(this.storage,this.storageKey+"-user"),this.userStorage&&await Rt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&nt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),An);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/An);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${An}ms, refresh threshold is ${xl} ticks`),s<=xl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Dh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Cn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await z(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:c}=await z(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(D(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await z(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(D(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=go(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+V0>s)return r;const{data:i,error:o}=await z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};r=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=go(r);n!=null&&n.allowExpired||fg(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const d=pg(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,Z0(`${l}.${a}`)))throw new Sl("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}}ns.nextInstanceID=0;const Pg=ns;class Og extends Pg{constructor(e){super(e)}}var Ag=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function a(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,a)}c((r=r.apply(t,e||[])).next())})};class Rg{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const l=D0(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const a=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:C0,realtime:P0,auth:Object.assign(Object.assign({},T0),{storageKey:a}),global:N0},d=U0(r??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=I0(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Gm(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new b0(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Em(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Ag(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:l,lock:a,debug:c},d,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Og({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:a,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new d0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ig=(t,e,n)=>new Rg(t,e,n);function Lg(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Lg()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const $g="https://rqairbvsiwohklvsxyre.supabase.co",Ug="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJxYWlyYnZzaXdvaGtsdnN4eXJlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY5Nzk2NTcsImV4cCI6MjA4MjU1NTY1N30.6Uyi42A_4Pqe1G40qnx4M8ST38XRgh9x8o7mCtiVr18",F=Ig($g,Ug),Mh=O.createContext(void 0);function Dg({children:t}){const[e,n]=O.useState(null),[r,s]=O.useState(!0);O.useEffect(()=>{i();const{data:c}=F.auth.onAuthStateChange(()=>{(async()=>await i())()});return()=>{var d;(d=c==null?void 0:c.subscription)==null||d.unsubscribe()}},[]);const i=async()=>{try{const{data:{user:c}}=await F.auth.getUser();if(c){const{data:d}=await F.from("user_profiles").select("*").eq("id",c.id).maybeSingle();n(d)}else n(null)}catch(c){console.error("Error checking user:",c),n(null)}finally{s(!1)}},o=async(c,d)=>{const{error:h}=await F.auth.signInWithPassword({email:c,password:d});if(h)throw h;await i()},l=async(c,d,h,m,v)=>{const{data:w,error:x}=await F.auth.signUp({email:c,password:d});if(x)throw x;if(!w.user)throw new Error("User creation failed");const{error:j}=await F.from("user_profiles").insert({id:w.user.id,email:c,full_name:h,role:m,client_id:v||null,is_active:!0});if(j)throw j;await i()},a=async()=>{const{error:c}=await F.auth.signOut();if(c)throw c;n(null)};return u.jsx(Mh.Provider,{value:{user:e,loading:r,signIn:o,signUp:l,signOut:a},children:t})}function nn(){const t=O.useContext(Mh);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),J=(t,e)=>{const n=O.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:a,...c},d)=>O.createElement("svg",{ref:d,...Mg,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${zg(t)}`,l].join(" "),...c},[...e.map(([h,m])=>O.createElement(h,m)),...Array.isArray(a)?a:[a]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=J("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=J("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=J("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=J("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=J("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=J("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=J("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=J("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=J("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=J("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=J("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=J("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=J("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ec=J("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=J("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=J("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=J("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=J("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=J("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=J("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=J("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=J("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=J("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=J("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=J("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=J("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=J("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=J("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function tv(){const{signIn:t}=nn(),[e,n]=O.useState(""),[r,s]=O.useState(""),[i,o]=O.useState(!1),[l,a]=O.useState(""),c=async d=>{d.preventDefault(),a(""),o(!0);try{await t(e,r)}catch(h){a(h instanceof Error?h.message:"Failed to sign in")}finally{o(!1)}};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-slate-100 flex items-center justify-center p-6",children:u.jsx("div",{className:"w-full max-w-md",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-full mb-4",children:u.jsx(ec,{className:"w-8 h-8 text-white"})}),u.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Facet Builder Pro"}),u.jsx("p",{className:"text-slate-600",children:"Sign in to your account"})]}),u.jsxs("form",{onSubmit:c,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-2",children:"Email Address"}),u.jsx("input",{type:"email",id:"email",value:e,onChange:d=>n(d.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"you@company.com",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-2",children:"Password"}),u.jsx("input",{type:"password",id:"password",value:r,onChange:d=>s(d.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"",required:!0})]}),l&&u.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:l}),u.jsx("button",{type:"submit",disabled:i,className:"w-full py-3 px-6 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:i?u.jsxs(u.Fragment,{children:[u.jsx(Bh,{className:"w-5 h-5 animate-spin"}),"Signing In..."]}):u.jsxs(u.Fragment,{children:[u.jsx(ec,{className:"w-5 h-5"}),"Sign In"]})})]}),u.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200 text-center text-sm text-slate-600",children:[u.jsx("p",{children:"Demo Credentials:"}),u.jsxs("p",{className:"mt-2 font-mono text-xs",children:["Admin: admin@demo.com / Admin@123",u.jsx("br",{}),"Client: client@demo.com / Client@123"]})]})]})})})}function nv(){const{user:t}=nn(),[e,n]=O.useState([]),[r,s]=O.useState(""),[i,o]=O.useState(null),[l,a]=O.useState(!1),[c,d]=O.useState(!1),[h,m]=O.useState([]),[v,w]=O.useState(!1);O.useEffect(()=>{j()},[t]);const x=async y=>{if(y){o(y),a(!0),w(!0),m([]);try{const{data:k,error:S}=await F.from("facet_generation_jobs").select("id").eq("project_name",y.project_name);if(S)throw S;const E=(k||[]).map(N=>N.id);if(E.length>0){const{data:N,error:K}=await F.from("recommended_facets").select("*, categories (name)").in("job_id",E).order("sort_order");if(K)throw K;m(N||[])}}catch(k){console.error("Error loading project details:",k)}finally{w(!1)}}},j=async()=>{if(!t)return;const y=F.from("facet_generation_jobs").select("*").order("created_at",{ascending:!1});t.role!=="admin"&&y.eq("client_id",t.client_id);const{data:k}=await y;n(k||[])},g=async()=>{if(!(!r.trim()||!t)){d(!0);try{const{error:y}=await F.from("facet_generation_jobs").insert({client_id:t.client_id||t.id,project_name:r,category_ids:[],status:"pending",created_by:t.id});if(y)throw y;s(""),await j()}catch(y){console.error("Error creating project:",y)}finally{d(!1)}}},f=async y=>{confirm("Are you sure you want to delete this project?")&&(await F.from("facet_generation_jobs").delete().eq("id",y),await j())},p=y=>{switch(y){case"completed":return"bg-green-100 text-green-700";case"processing":return"bg-blue-100 text-blue-700";case"failed":return"bg-red-100 text-red-700";default:return"bg-yellow-100 text-yellow-700"}};return u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Project Management"}),u.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6 mb-6",children:[u.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Create New Project"}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("input",{type:"text",value:r,onChange:y=>s(y.target.value),placeholder:"Enter project name",className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),u.jsxs("button",{onClick:g,disabled:c||!r.trim(),className:"inline-flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[u.jsx(Hg,{className:"w-5 h-5"}),"Create Project"]})]})]}),u.jsx("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Project Name"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Status"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Categories"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Progress"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Created"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Actions"})]})}),u.jsxs("tbody",{className:"divide-y divide-slate-200",children:[e.map(y=>u.jsxs("tr",{className:"hover:bg-slate-50",children:[u.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-900",children:y.project_name||"Untitled Project"}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p(y.status)}`,children:y.status})}),u.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:y.total_categories}),u.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[y.progress,"%"]}),u.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:new Date(y.created_at).toLocaleDateString()}),u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>x(y),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:u.jsx(Vg,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>f(y.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:u.jsx(Wh,{className:"w-4 h-4"})})]})})]},y.id)),e.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-slate-500",children:"No projects yet. Create your first project to get started."})})]})]})}),l&&i&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] flex flex-col",children:[u.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between z-10",children:[u.jsxs("h3",{className:"text-xl font-semibold text-slate-900",children:["Project Details: ",i.project_name||"Untitled Project"]}),u.jsx("button",{onClick:()=>a(!1),className:"p-2 hover:bg-slate-100 rounded-full",children:u.jsx(bl,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"p-6 overflow-y-auto",children:v?u.jsx("div",{className:"text-center py-12",children:u.jsx("p",{className:"text-slate-500",children:"Loading project history..."})}):u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Status"}),u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p(i.status)}`,children:i.status})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Created"}),u.jsx("p",{className:"text-slate-800",children:new Date(i.created_at).toLocaleDateString()})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Generated Facet History"}),h.length>0?u.jsx("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-slate-600",children:"Category"}),u.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-slate-600",children:"Facet Name"}),u.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-slate-600",children:"Priority"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200",children:h.map(y=>{var k;return u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 py-2 text-sm text-slate-500",children:((k=y.categories)==null?void 0:k.name)||"N/A"}),u.jsx("td",{className:"px-4 py-2 text-sm font-medium text-slate-800",children:y.facet_name}),u.jsx("td",{className:"px-4 py-2 text-sm",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y.priority==="High"?"bg-red-100 text-red-700":y.priority==="Medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:y.priority})})]},y.id)})})]})}):u.jsx("div",{className:"text-center py-8 border-2 border-dashed border-slate-200 rounded-lg",children:u.jsx("p",{className:"text-slate-500",children:"No facets have been generated for this project yet."})})]})]})}),u.jsx("div",{className:"px-6 py-4 bg-slate-50 border-t border-slate-200 flex justify-end",children:u.jsx("button",{onClick:()=>a(!1),className:"px-6 py-2 bg-slate-200 text-slate-800 rounded-lg hover:bg-slate-300",children:"Close"})})]})})]})}function rv(){const{user:t}=nn(),[e,n]=O.useState(null),[r,s]=O.useState(!1),[i,o]=O.useState(null),l=h=>{h.target.files&&h.target.files[0]&&(n(h.target.files[0]),o(null))},a=h=>h.trim().split(`
`).map(v=>{const w=[];let x="",j=!1;for(let g=0;g<v.length;g++){const f=v[g];f==='"'?j=!j:f===","&&!j?(w.push(x.trim()),x=""):x+=f}return w.push(x.trim()),w}),c=async()=>{if(!(!e||!t)){s(!0),o(null);try{const h=await e.text(),m=a(h);if(m.length<2)throw new Error("CSV file is empty or only contains a header.");const v=m[0].map(p=>p.toLowerCase()),w=m.slice(1),x=v.indexOf("breadcrumbs");if(x===-1)throw new Error("CSV must contain a 'breadcrumbs' column.");const j=w.map(p=>{const y=p[x]||"",k=y.split(">").map(N=>N.trim()),S=k.length,E=k[k.length-1]||"";return{client_id:t.client_id||t.id,category_path:y,level:S,name:E,metadata:{}}}).filter(p=>p.name);let g=0,f=0;for(const p of j){const{error:y}=await F.from("categories").insert(p);y?(console.error("Failed to insert category:",p.name,y.message),f++):g++}o({success:g,failed:f}),n(null)}catch(h){console.error("Error uploading categories:",h),alert(`Upload failed: ${h.message}`),o({success:0,failed:dataRows.length||1})}finally{s(!1)}}},d=()=>{const h=`industry_name,level-1,level-2,level-3,level-4,level-5,level-6,level-7,level-8,level-9,level-10,bread_crumbs,end_category
"Marine","Marine Electronics","Gps Chart Plotters","Chart Plotters - Multi Function","","","","","","","","Marine Electronics > Gps Chart Plotters > Chart Plotters - Multi Function","Chart Plotters - Multi Function"
"Hardware","Tools","Power Tools","Drills & Drivers","Cordless Pistol-Grip Drills","","","","","","","Power Tools > Drills & Drivers > Cordless Pistol-Grip Drills","Cordless Pistol-Grip Drills"
"Marine","Kayaks & Watersports","Sup Paddle Boards","Jobe & Red Paddle Sups At Best Prices","","","","","","","","Kayaks & Watersports > Sup Paddle Boards > Jobe & Red Paddle Sups At Best Prices","Jobe & Red Paddle Sups At Best Prices"
`,m=new Blob([h],{type:"text/csv;charset=utf-8;"}),v=URL.createObjectURL(m),w=document.createElement("a");w.href=v,w.download="category-upload-template.csv",document.body.appendChild(w),w.click(),document.body.removeChild(w)};return u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Upload Categories"}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[u.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Upload CSV File"}),u.jsx("div",{className:"mb-4",children:u.jsxs("label",{className:"block w-full cursor-pointer",children:[u.jsx("div",{className:"flex items-center justify-center w-full h-32 px-4 transition bg-white border-2 border-slate-300 border-dashed rounded-lg hover:border-blue-400",children:u.jsx("div",{className:"text-center",children:e?u.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[u.jsx(Fh,{className:"w-6 h-6"}),u.jsx("span",{className:"font-medium",children:e.name})]}):u.jsxs(u.Fragment,{children:[u.jsx(qh,{className:"w-8 h-8 text-slate-400 mx-auto mb-2"}),u.jsx("p",{className:"text-sm text-slate-600",children:"Click to upload or drag and drop"}),u.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"CSV files only"})]})})}),u.jsx("input",{type:"file",accept:".csv",onChange:l,className:"hidden"})]})}),u.jsx("button",{onClick:c,disabled:!e||r,className:"w-full py-3 px-6 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?"Uploading...":"Upload Categories"}),i&&u.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 text-green-700 mb-2",children:[u.jsx(zh,{className:"w-5 h-5"}),u.jsx("span",{className:"font-medium",children:"Upload Complete"})]}),u.jsxs("p",{className:"text-sm text-slate-600",children:["Successfully uploaded: ",i.success," categories",i.failed>0&&` (${i.failed} failed)`]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[u.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"CSV Format Requirements"}),u.jsxs("div",{className:"space-y-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Required Columns:"}),u.jsxs("ul",{className:"list-disc list-inside text-slate-600 space-y-1",children:[u.jsx("li",{children:'Category Path (e.g., "L1 > L2 > L3")'}),u.jsx("li",{children:"Level (1-10)"}),u.jsx("li",{children:"Description (optional)"})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Example:"}),u.jsx("div",{className:"bg-slate-50 p-3 rounded font-mono text-xs overflow-x-auto",children:"Marine Safety Equipment > Life Jackets,2,Category"})]}),u.jsxs("button",{onClick:d,className:"inline-flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors",children:[u.jsx(ba,{className:"w-4 h-4"}),"Download Template"]})]})]})]})]})}const nc=["US","UK","AUS","Ireland","General European"],qn=["Industry Keywords","Geography","Business Rules","Customer Intent","Competitive Analysis","Use Case Scenarios","Seasonal & Trends"];function sv(){const{user:t}=nn(),[e,n]=O.useState([]),[r,s]=O.useState(null),[i,o]=O.useState(""),[l,a]=O.useState(""),[c,d]=O.useState(!1),[h,m]=O.useState(!1),[v,w]=O.useState(!1),[x,j]=O.useState([]),[g,f]=O.useState(!1),[p,y]=O.useState(null),[k,S]=O.useState(null),[E,N]=O.useState(Array(5).fill("")),[K,L]=O.useState(!1),[Q,Pe]=O.useState({name:"",template:"",level:1}),[Oe,Ze]=O.useState([]);O.useEffect(()=>{ct()},[t]);const rn=async _=>{if(_){s(_),w(!0),f(!0);try{const{data:A,error:$}=await F.from("prompt_versions").select("*").eq("prompt_template_id",_.id).order("version",{ascending:!1});if($)throw $;j(A||[])}catch(A){console.error("Error loading prompt history:",A),S("Failed to load version history.")}finally{f(!1)}}},ct=async()=>{if(!t)return;S(null);const _=F.from("prompt_templates").select("*");t.role!=="admin"&&_.or(`client_id.eq.${t.client_id},client_id.is.null`);const{data:A,error:$}=await _;if($)console.error("Error loading prompts:",$),S(`Failed to load prompts: ${$.message}`),n([]);else{const q=(A||[]).sort((We,et)=>{const jn=qn.indexOf(We.name),W=qn.indexOf(et.name);return(jn===-1?1/0:jn)-(W===-1?1/0:W)});n(q)}},Tt=async(_,A)=>{if(!_){alert("There is no content to copy.");return}try{await navigator.clipboard.writeText(_),y(A),setTimeout(()=>{y(null)},2e3)}catch($){console.error("Failed to copy text:",$),alert("Failed to copy content to clipboard.")}},C=async()=>{if(!Q.name.trim()||!Q.template.trim()){S("Prompt name and template content are required.");return}if(t){S(null),m(!0);try{const{error:_}=await F.from("prompt_templates").insert({name:Q.name,template:Q.template,level:Q.level,client_id:t.client_id,current_version:1});if(_)throw _;L(!1),Pe({name:"",template:"",level:1}),await ct()}catch(_){console.error("Error creating prompt:",_),S(`Failed to create prompt: ${_.message}`)}finally{m(!1)}}},I=_=>{var A,$;if(Ze([]),S(null),s(_),o(_.template),a(""),d(!0),N(Array(5).fill("")),_.name==="Geography"){const q=(((A=_.metadata)==null?void 0:A.country_templates)||[]).map(We=>({...We,id:Math.random().toString(36).substring(2,9)}));Ze(q),o("")}else if(_.name==="Industry Keywords"){const ee=(($=_.metadata)==null?void 0:$.marine_levels)||[],q=Array(5).fill("").map((We,et)=>ee[et]||"");N(q)}},U=(_,A)=>{Ze($=>$.map(ee=>ee.id===_?{...ee,template:A}:ee))},Z=(_,A)=>{const $=[...E];$[_]=A,N($)},le=()=>{const _=new Set(Oe.map($=>$.country)),A=nc.find($=>!_.has($));A?Ze($=>[...$,{id:Math.random().toString(36).substring(2,9),country:A,template:""}]):alert("All available countries have been added.")},Pt=_=>{Ze(A=>A.filter($=>$.id!==_))},T=(_,A)=>{Ze($=>$.map(ee=>ee.id===_?{...ee,country:A}:ee))},R=async()=>{if(!(!r||!t)){if(S(null),r.name==="Geography"){if(Oe.length===0){S("For Geography prompts, you must add at least one country template.");return}if(Oe.some(A=>A.template.trim()==="")){S("All added country templates must have content. Please fill in or remove empty templates.");return}}m(!0);try{const _=(r.current_version||1)+1;let A=i;if(r.name==="Geography"){const q=Oe.map(({id:We,...et})=>et);A=JSON.stringify(q,null,2)}await F.from("prompt_versions").insert({prompt_template_id:r.id,version:_,template_content:A,variables:r.variables,edited_by:t.id,change_notes:l,is_active:!0}),await F.from("prompt_versions").update({is_active:!1}).eq("prompt_template_id",r.id).neq("version",_);const $={template:i,current_version:_,updated_at:new Date().toISOString(),metadata:r.metadata||{}};if(r.name==="Geography"){const q=Oe.map(({id:We,...et})=>et);$.metadata.country_templates=q,$.template="This prompt uses country-specific templates stored in metadata."}r.name==="Industry Keywords"&&($.metadata.marine_levels=E.filter(q=>q.trim()!==""));const{error:ee}=await F.from("prompt_templates").update($).eq("id",r.id);if(ee)throw ee;d(!1),s(null),await ct()}catch(_){console.error("Error saving prompt version:",_),S(`Save failed: ${_.message}`)}finally{m(!1)}}},M=async(_,A)=>{t&&(A?await F.from("master_templates").delete().eq("prompt_template_id",_):await F.from("master_templates").insert({client_id:t.client_id||t.id,prompt_template_id:_,level_start:2,level_end:10,is_master:!0}),await ct())},V=async _=>{const{data:A}=await F.from("master_templates").select("id").eq("prompt_template_id",_).maybeSingle();return!!A};return u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Prompt Template Management"}),!c&&u.jsxs("button",{onClick:()=>L(!0),className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[u.jsx(Vh,{className:"w-5 h-5"}),"New Prompt"]})]}),c&&r?u.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6 mb-6",children:[u.jsxs("h3",{className:"font-semibold text-slate-900 mb-4",children:["Edit: ",r.name]}),u.jsxs("div",{className:"space-y-4",children:[r.name!=="Geography"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:r.name==="Industry Keywords"?"Level 1 Keywords":"Template Content"}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>Tt(i,"main-content"),className:"text-xs inline-flex items-center gap-1 text-slate-500 hover:text-slate-800",children:[u.jsx(Xu,{className:"w-3 h-3"})," Copy"]}),p==="main-content"&&u.jsx("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 bg-slate-800 text-white text-xs rounded py-1 px-2",children:"Copied!"})]}),u.jsx("textarea",{value:i,onChange:_=>o(_.target.value),rows:8,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm"})]}),r.name==="Geography"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Country-Specific Templates"}),u.jsxs("div",{className:"space-y-4",children:[Oe.map(_=>u.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsx("select",{value:_.country,onChange:A=>T(_.id,A.target.value),className:"font-medium text-slate-800 bg-white border border-slate-300 rounded-md px-3 py-1",children:nc.map(A=>u.jsx("option",{value:A,children:A},A))}),u.jsx("button",{onClick:()=>Pt(_.id),className:"p-1 text-red-500 hover:bg-red-50 rounded-full",children:u.jsx(bl,{className:"w-4 h-4"})})]}),u.jsx("textarea",{value:_.template,onChange:A=>U(_.id,A.target.value),rows:5,placeholder:`Enter template content for ${_.country}...`,className:"w-full px-4 py-2 border border-slate-300 rounded-lg font-mono text-sm"})]},_.id)),u.jsx("button",{onClick:le,className:"w-full text-center py-3 border-2 border-dashed border-slate-300 text-slate-500 rounded-lg hover:bg-slate-50 hover:border-slate-400",children:"+ Add Country Template"})]})]}),r.name==="Industry Keywords"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Sub-Level Keywords (Levels 2-6)"}),u.jsx("div",{className:"space-y-3",children:E.map((_,A)=>u.jsxs("div",{children:[u.jsxs("label",{className:"block text-xs font-medium text-slate-500 mb-1",children:["Level ",A+2]}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>Tt(_,`level-${A+2}`),className:"text-xs inline-flex items-center gap-1 text-slate-500 hover:text-slate-800",children:[u.jsx(Xu,{className:"w-3 h-3"})," Copy"]}),p===`level-${A+2}`&&u.jsx("span",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-1 bg-slate-800 text-white text-xs rounded py-1 px-2",children:"Copied!"})]}),u.jsx("textarea",{value:_,onChange:$=>Z(A,$.target.value),rows:2,placeholder:`Enter keywords for level ${A+2}...`,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm"})]},A))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Change Notes"}),u.jsx("input",{type:"text",value:l,onChange:_=>a(_.target.value),placeholder:"Describe what you changed...",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:R,disabled:h,className:"inline-flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[u.jsx(tc,{className:"w-4 h-4"}),h?"Saving...":"Save New Version"]}),u.jsx("button",{onClick:()=>{d(!1),S(null),s(null)},className:"px-6 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors",children:"Cancel"})]})]}),k&&u.jsxs("div",{className:"bg-red-50 border border-red-200 text-sm text-red-700 px-4 py-3 rounded-lg mb-4",role:"alert",children:[u.jsx("strong",{className:"font-bold",children:"Error: "}),u.jsx("span",{children:k})]})]}):u.jsx("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Name"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Level"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Version"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Master Template"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Actions"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200",children:e.map(_=>u.jsxs("tr",{className:"hover:bg-slate-50",children:[u.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-900",children:_.name}),u.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:["Level ",_.level]}),u.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:["v",_.current_version||1]}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("button",{onClick:async()=>{const A=await V(_.id);M(_.id,A)},className:"text-yellow-500 hover:text-yellow-600",children:u.jsx(Qg,{className:"w-5 h-5"})})}),u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>I(_),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:u.jsx(Gg,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>rn(_),className:"p-1 text-slate-600 hover:bg-slate-50 rounded",children:u.jsx(Wg,{className:"w-4 h-4"})})]})})]},_.id))})]})}),u.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[u.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"Version Control"}),u.jsx("p",{className:"text-sm text-slate-600",children:"All prompt edits are automatically versioned. The system uses the latest version for facet generation. Mark prompts with Level 2-10 as master templates for comprehensive facet building."})]}),K&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full",children:[u.jsx("div",{className:"px-6 py-4 border-b border-slate-200",children:u.jsx("h3",{className:"text-xl font-semibold text-slate-900",children:"Create New Prompt Template"})}),u.jsxs("div",{className:"p-6 space-y-4",children:[k&&u.jsx("div",{className:"bg-red-50 border border-red-200 text-sm text-red-700 px-4 py-3 rounded-lg",role:"alert",children:k}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Prompt Name"}),u.jsx("input",{type:"text",placeholder:"e.g., 'Technical Specifications'",value:Q.name,onChange:_=>Pe({...Q,name:_.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Template Content (Level 1)"}),u.jsx("textarea",{rows:8,placeholder:"Enter the main prompt content here...",value:Q.template,onChange:_=>Pe({...Q,template:_.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg font-mono text-sm focus:ring-2 focus:ring-blue-500"})]}),u.jsx("div",{className:"grid grid-cols-1 gap-4",children:u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Level"}),u.jsx("input",{type:"number",min:"1",value:Q.level,onChange:_=>Pe({...Q,level:parseInt(_.target.value,10)||1}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})})]}),u.jsxs("div",{className:"px-6 py-4 bg-slate-50 border-t border-slate-200 flex justify-end gap-3",children:[u.jsx("button",{onClick:()=>{L(!1),S(null),Pe({name:"",template:"",level:1})},className:"px-6 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200",children:"Cancel"}),u.jsxs("button",{onClick:C,disabled:h,className:"inline-flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[u.jsx(tc,{className:"w-4 h-4"}),h?"Creating...":"Create Prompt"]})]})]})}),v&&r&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[u.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between",children:[u.jsxs("h3",{className:"text-xl font-semibold text-slate-900",children:["Version History: ",r.name]}),u.jsx("button",{onClick:()=>w(!1),className:"p-2 hover:bg-slate-100 rounded-full",children:u.jsx(bl,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"p-6 overflow-y-auto",children:g?u.jsx("p",{className:"text-center text-slate-500",children:"Loading history..."}):u.jsxs("div",{className:"space-y-6",children:[x.map((_,A)=>{var $;return u.jsxs("div",{className:"border border-slate-200 rounded-lg",children:[u.jsxs("div",{className:"bg-slate-50 p-3 flex justify-between items-center text-sm border-b",children:[u.jsxs("div",{className:"font-semibold",children:["Version ",_.version,A===0&&u.jsx("span",{className:"ml-2 text-xs font-medium bg-green-100 text-green-700 px-2 py-0.5 rounded-full",children:"Latest"})]}),u.jsxs("div",{className:"text-slate-500",children:[u.jsx("span",{className:"font-medium",children:"By:"})," ",(($=_.users)==null?void 0:$.email)||"Unknown User"," on"," ",new Date(_.created_at).toLocaleString()]})]}),u.jsxs("div",{className:"p-4 space-y-3",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-slate-800 text-xs uppercase tracking-wider mb-1",children:"Change Notes"}),u.jsx("p",{className:"text-sm text-slate-700 italic",children:_.change_notes||"No notes provided."})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-slate-800 text-xs uppercase tracking-wider mb-1",children:"Template Content"}),u.jsx("pre",{className:"bg-slate-100 p-3 rounded-md text-xs font-mono whitespace-pre-wrap overflow-x-auto",children:_.template_content})]})]})]},_.id)}),x.length===0&&u.jsx("p",{className:"text-center text-slate-500",children:"No version history found."})]})}),u.jsx("div",{className:"px-6 py-4 bg-slate-50 border-t border-slate-200 flex justify-end",children:u.jsx("button",{onClick:()=>w(!1),className:"px-6 py-2 bg-slate-200 text-slate-800 rounded-lg hover:bg-slate-300",children:"Close"})})]})})]})}function iv({onComplete:t}){const{user:e}=nn(),[n,r]=O.useState([]),[s,i]=O.useState([]),[o,l]=O.useState(new Set),[a,c]=O.useState(new Set),[d,h]=O.useState(""),[m,v]=O.useState(!1),[w,x]=O.useState([]),[j,g]=O.useState({}),[f,p]=O.useState(null),[y,k]=O.useState(null),[S,E]=O.useState({}),[N,K]=O.useState(null),[L,Q]=O.useState({}),Pe=O.useMemo(()=>{var R;const T=s.find(M=>M.name==="Geography");if(T&&Array.isArray((R=T.metadata)==null?void 0:R.country_templates)){const M=T.metadata.country_templates.map(V=>V.country);return M.length>1?M:[]}return[]},[s]);O.useEffect(()=>{ct()},[e]);const Oe=(T,R)=>{Q(M=>{const V={...M},_=new Set(V[T]||[]);return _.has(R)?_.delete(R):_.add(R),V[T]=_,V})},Ze=(T,R)=>{Q(M=>{const V={...M},_=V[T]||new Set,A=R.map($=>$.id);return _.size===A.length?V[T]=new Set:V[T]=new Set(A),V})},rn=Object.values(L).reduce((T,R)=>T+R.size,0),ct=async()=>{if(!e)return;const T=e.role==="admin"?{}:{client_id:e.client_id},[R,M]=await Promise.all([F.from("categories").select("*").match(T).order("category_path"),F.from("prompt_templates").select("*").order("level").order("execution_order")]),V=M.data||[],_=V.sort((A,$)=>{const ee=qn.indexOf(A.name),q=qn.indexOf($.name);return(ee===-1?1/0:ee)-(q===-1?1/0:q)});r(R.data||[]),i(_),c(new Set(V.map(A=>A.id)))},Tt=(T,R)=>{E(M=>{const V=new Set(M[T]||[]);return V.has(R)?V.delete(R):V.add(R),{...M,[T]:V}})},C=T=>{const R=new Set(o);R.has(T)?R.delete(T):R.add(T),l(R)},I=T=>{const R=new Set(a);R.has(T)?(R.delete(T),E(M=>{const V={...M};return delete V[T],V})):R.add(T),c(R)},U=()=>{o.size===n.length?l(new Set):l(new Set(n.map(T=>T.id)))},Z=()=>{a.size===s.length?c(new Set):c(new Set(s.map(T=>T.id)))},le=async()=>{var R;if(o.size===0)return;if(!e){k("You must be logged in to perform this action.");return}const T=e.client_id;if(!T){k("Your user profile is not associated with a client. Cannot create job."),v(!1);return}if(o.size!==0){v(!0),k(null);try{K(null);for(const W of a){const de=s.find(Ae=>Ae.id===W);if((de==null?void 0:de.name)==="Geography"){const Ae=((R=de.metadata)==null?void 0:R.country_templates)||[],sn=S[de.id]||new Set;if(Ae.length>1&&sn.size===0){K("Please select at least one country for the Geography prompt."),v(!1);return}}}const M=s.filter(W=>a.has(W.id));M.sort((W,de)=>{const Ae=qn.indexOf(W.name),sn=qn.indexOf(de.name);return(Ae===-1?1/0:Ae)-(sn===-1?1/0:sn)});const V=M.map(W=>{var Ae,sn;if(!W)return null;let de;if(W.name==="Industry Keywords"){const Ot=W.template||"",hr=((Ae=W.metadata)==null?void 0:Ae.marine_levels)||[];de=[Ot,...hr].filter(Boolean)}else if(W.name==="Geography"){const Ot=((sn=W.metadata)==null?void 0:sn.country_templates)||[];if(Ot.length===0)de={};else{const hr=Object.fromEntries(Ot.map(ds=>[ds.country,ds.template])),ja=S[W.id]||new Set;Ot.length>1&&ja.size===0?de={}:Ot.length===1?de=hr:de=Object.fromEntries(Object.entries(hr).filter(([ds,uv])=>ja.has(ds)))}}else de=W.template;return{id:W.id,name:W.name,content:de}}).filter(W=>W!==null),{data:_,error:A}=await F.from("facet_generation_jobs").insert({client_id:T,project_name:d,category_ids:Array.from(o),selected_prompts:Array.from(a),status:"processing",total_categories:o.size,processed_categories:0,created_by:e.id}).select().maybeSingle();if(A||!_)throw A;p(_.id);const ee=await fetch("https://rqairbvsiwohklvsxyre.supabase.co/functions/v1/generate-facets-ai",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJxYWlyYnZzaXdvaGtsdnN4eXJlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY5Nzk2NTcsImV4cCI6MjA4MjU1NTY1N30.6Uyi42A_4Pqe1G40qnx4M8ST38XRgh9x8o7mCtiVr18","Content-Type":"application/json"},body:JSON.stringify({job_id:_.id,category_ids:Array.from(o),prompts:V})});if(!ee.ok){const W=await ee.text();throw new Error(`Generation failed with status ${ee.status}: ${W}`)}const{data:q}=await F.from("recommended_facets").select("*").eq("job_id",_.id).order("sort_order"),We=q||[];x(We);const et=new Map(n.map(W=>[W.id,W.name])),jn=We.reduce((W,de)=>{const Ae=de.category_id;return W[Ae]||(W[Ae]=[]),W[Ae].push(de),W},{});g(jn),await F.from("facet_generation_jobs").update({status:"completed",progress:100,processed_categories:o.size,completed_at:new Date().toISOString()}).eq("id",_.id)}catch(M){console.error("Error generating facets:",M),k(`Failed to generate facets: ${M.message}`),f&&await F.from("facet_generation_jobs").update({status:"failed"}).eq("id",f)}finally{v(!1)}}},Pt=async()=>{const T=new Set(Object.values(L).flatMap(q=>Array.from(q)));if(T.size===0){console.log("No facets selected for export.");return}const R=w.filter(q=>T.has(q.id)),M=new Map(n.map(q=>[q.id,q.name])),_=["Category Name,Facet Name,Possible Values,Priority,Confidence Score,Filling %",...R.map(q=>{const We=M.get(q.category_id)||"Unknown Category",et=`"${(q.possible_values||"").replace(/"/g,'""')}"`,jn=`"${(q.facet_name||"").replace(/"/g,'""')}"`;return[`"${We}"`,jn,et,q.priority,q.confidence_score,q.filling_percentage].join(",")})].join(`
`),A=new Blob([_],{type:"text/csv"}),$=URL.createObjectURL(A),ee=document.createElement("a");ee.href=$,ee.download=`facets-${d||f}.csv`,ee.click(),URL.revokeObjectURL($),await F.from("export_history").insert({job_id:f,category_ids:Array.from(o),format:"csv",exported_by:e==null?void 0:e.id})};if(w.length>0){const T=new Map(n.map(R=>[R.id,R.name]));return u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Generated Facets"}),u.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-6 mb-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"font-semibold text-slate-900",children:[w.length," facets generated"]}),u.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["For ",o.size," categories"]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{disabled:rn===0,onClick:Pt,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(ba,{className:"w-4 h-4"}),"Export"," ",rn>0?`(${rn})`:""]}),u.jsx("button",{onClick:t,className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors",children:"Back to Dashboard"})]})]})}),u.jsx("div",{className:"space-y-8",children:Object.entries(j).map(([R,M])=>{var V;return u.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:[u.jsxs("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-200",children:[u.jsx("h4",{className:"text-lg font-semibold text-slate-900",children:T.get(R)||"Unknown Category"}),u.jsxs("p",{className:"text-sm text-slate-600",children:[M.length," facets"]})]}),u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"border-b border-slate-200",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 w-12 text-left",children:u.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500",checked:(((V=L[R])==null?void 0:V.size)||0)===M.length&&M.length>0,onChange:()=>Ze(R,M)})}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Facet Name"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Possible Values"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Priority"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Confidence"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Filling %"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200",children:M.map(_=>u.jsxs("tr",{className:"hover:bg-slate-50",children:[u.jsx("td",{className:"px-4 py-4",children:u.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500",checked:(L[R]||new Set).has(_.id),onChange:()=>Oe(R,_.id)})}),u.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-900",children:_.facet_name}),u.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 max-w-md truncate",children:_.possible_values}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_.priority==="High"?"bg-red-100 text-red-700":_.priority==="Medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:_.priority})}),u.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[_.confidence_score,"/10"]}),u.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[_.filling_percentage,"%"]})]},_.id))})]})]},R)})})]})}return u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Generate Facets"}),u.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6 mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Project Name"}),u.jsx("input",{type:"text",value:d,onChange:T=>h(T.target.value),placeholder:"Enter project name",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[u.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"font-semibold text-slate-900",children:["Select Categories (",o.size,")"]}),u.jsx("button",{onClick:U,className:"text-sm text-blue-600 hover:text-blue-700",children:o.size===n.length?"Deselect All":"Select All"})]}),u.jsxs("div",{className:"max-h-96 overflow-y-auto space-y-2",children:[n.map(T=>u.jsxs("button",{onClick:()=>C(T.id),className:"w-full flex items-center gap-3 p-3 hover:bg-slate-50 rounded-lg transition-colors text-left",children:[o.has(T.id)?u.jsx(wo,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}):u.jsx(xo,{className:"w-5 h-5 text-slate-400 flex-shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:T.name}),u.jsx("p",{className:"text-xs text-slate-500 truncate",children:T.category_path})]})]},T.id)),n.length===0&&u.jsx("p",{className:"text-center text-slate-500 py-8",children:"No categories available. Upload categories first."})]})]}),u.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h3",{className:"font-semibold text-slate-900",children:["Select Prompts (",a.size,")"]}),u.jsx("button",{onClick:Z,className:"text-sm text-blue-600 hover:text-blue-700",children:a.size===s.length?"Deselect All":"Select All"})]}),N&&u.jsx("div",{className:"bg-yellow-50 border border-yellow-200 text-sm text-yellow-800 px-4 py-2 rounded-lg mb-4",role:"alert",children:N}),u.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:s.map(T=>u.jsxs("div",{className:"p-3 hover:bg-slate-50 rounded-lg transition-colors",children:[u.jsxs("button",{onClick:()=>I(T.id),className:"w-full flex items-center gap-3 text-left",children:[a.has(T.id)?u.jsx(wo,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}):u.jsx(xo,{className:"w-5 h-5 text-slate-400 flex-shrink-0"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium text-slate-900",children:T.name}),u.jsxs("p",{className:"text-xs text-slate-500",children:["Level ",T.level,"  ",T.type]})]})]}),T.name==="Geography"&&a.has(T.id)&&Pe.length>0&&u.jsxs("div",{className:"pl-8 pt-3 space-y-2",children:[u.jsx("p",{className:"text-xs font-semibold text-slate-600",children:"Select countries to include:"}),Pe.map(R=>u.jsxs("button",{onClick:()=>Tt(T.id,R),className:"w-full flex items-center gap-3 text-left",children:[(S[T.id]||new Set).has(R)?u.jsx(wo,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}):u.jsx(xo,{className:"w-4 h-4 text-slate-400 flex-shrink-0"}),u.jsx("span",{className:"text-sm text-slate-800",children:R})]},R))]})]},T.id))})]})]}),y&&u.jsxs("div",{className:"text-center bg-red-50 border border-red-200 text-sm text-red-700 px-4 py-3 rounded-lg mb-4 max-w-4xl mx-auto",role:"alert",children:[u.jsx("strong",{className:"font-bold",children:"An error occurred: "}),u.jsx("span",{children:y})]}),u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{onClick:le,disabled:m||o.size===0,className:"inline-flex items-center gap-2 px-8 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m?u.jsxs(u.Fragment,{children:[u.jsx(Hh,{className:"w-5 h-5 animate-spin"}),"Generating..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Jg,{className:"w-5 h-5"}),"Generate Facets"]})})})]})}function ov(){const{user:t}=nn(),[e,n]=O.useState([]),[r,s]=O.useState(""),[i,o]=O.useState(""),[l,a]=O.useState(!1);O.useEffect(()=>{(t==null?void 0:t.role)==="admin"&&c()},[t]);const c=async()=>{const{data:v}=await F.from("clients").select("*").order("created_at",{ascending:!1});n(v||[])},d=async()=>{if(!(!r.trim()||!t)){a(!0);try{const{error:v}=await F.from("clients").insert({name:r,contact_email:i,is_active:!0,created_by:t.id});if(v)throw v;s(""),o(""),await c()}catch(v){console.error("Error creating client:",v)}finally{a(!1)}}},h=async(v,w)=>{await F.from("clients").update({is_active:!w}).eq("id",v),await c()},m=async v=>{confirm("Are you sure? This will delete all data associated with this client.")&&(await F.from("clients").delete().eq("id",v),await c())};return(t==null?void 0:t.role)!=="admin"?u.jsx("div",{className:"text-center py-8 text-slate-500",children:"Access denied. Admin privileges required."}):u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Client Management"}),u.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6 mb-6",children:[u.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Create New Client"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsx("input",{type:"text",value:r,onChange:v=>s(v.target.value),placeholder:"Client Name",className:"px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),u.jsx("input",{type:"email",value:i,onChange:v=>o(v.target.value),placeholder:"Contact Email",className:"px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),u.jsxs("button",{onClick:d,disabled:l||!r.trim(),className:"inline-flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[u.jsx(Vh,{className:"w-5 h-5"}),"Create Client"]})]}),u.jsx("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:u.jsxs("table",{className:"w-full",children:[u.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Client Name"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Contact Email"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Status"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Created"}),u.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Actions"})]})}),u.jsxs("tbody",{className:"divide-y divide-slate-200",children:[e.map(v=>u.jsxs("tr",{className:"hover:bg-slate-50",children:[u.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-900",children:v.name}),u.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:v.contact_email||"-"}),u.jsx("td",{className:"px-6 py-4",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v.is_active?"bg-green-100 text-green-700":"bg-slate-100 text-slate-700"}`,children:v.is_active?"Active":"Inactive"})}),u.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:new Date(v.created_at).toLocaleDateString()}),u.jsx("td",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>h(v.id,v.is_active),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:v.is_active?"Deactivate":"Activate",children:v.is_active?u.jsx(Xg,{className:"w-4 h-4"}):u.jsx(Yg,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>m(v.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Delete",children:u.jsx(Wh,{className:"w-4 h-4"})})]})})]},v.id)),e.length===0&&u.jsx("tr",{children:u.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-500",children:"No clients yet. Create your first client to get started."})})]})]})})]})}function lv(){const{user:t,signOut:e}=nn(),[n,r]=O.useState("dashboard"),[s,i]=O.useState({facets_recommended:0,jobs_in_progress:0,jobs_yet_to_start:0,pending_categories:0,downloads:0,total_projects:0});O.useEffect(()=>{o()},[t]);const o=async()=>{var f,p,y;if(!t)return;const c=t.role==="admin"?{}:{client_id:t.client_id},[d,h,m,v]=await Promise.all([F.from("facet_generation_jobs").select("status").match(c),F.from("categories").select("id").match(c),F.from("export_history").select("id").match(c),F.from("facet_generation_jobs").select("id").match(c)]),w=d.data||[],x=w.filter(k=>k.status==="completed").length,j=w.filter(k=>k.status==="processing").length,g=w.filter(k=>k.status==="pending").length;i({facets_recommended:x,jobs_in_progress:j,jobs_yet_to_start:g,pending_categories:((f=h.data)==null?void 0:f.length)||0,downloads:((p=m.data)==null?void 0:p.length)||0,total_projects:((y=v.data)==null?void 0:y.length)||0})},l=[{id:"dashboard",label:"Dashboard",icon:qg},{id:"projects",label:"Projects",icon:Zu},{id:"upload",label:"Upload Categories",icon:qh},{id:"prompts",label:"Prompt Templates",icon:Fh},{id:"generate",label:"Generate Facets",icon:Hh}];(t==null?void 0:t.role)==="admin"&&l.push({id:"clients",label:"Manage Clients",icon:ev});const a=()=>{switch(n){case"dashboard":return u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:(t==null?void 0:t.role)==="admin"?"Admin Dashboard":"Dashboard"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:u.jsx(zh,{className:"w-6 h-6 text-green-600"})}),u.jsx("span",{className:"text-3xl font-bold text-slate-900",children:s.facets_recommended})]}),u.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Facets Recommended"}),u.jsx("p",{className:"text-sm text-slate-600",children:"Successfully generated"})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:u.jsx(Zg,{className:"w-6 h-6 text-blue-600"})}),u.jsx("span",{className:"text-3xl font-bold text-slate-900",children:s.jobs_in_progress})]}),u.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"In Progress"}),u.jsx("p",{className:"text-sm text-slate-600",children:"Currently processing"})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:u.jsx(Bg,{className:"w-6 h-6 text-yellow-600"})}),u.jsx("span",{className:"text-3xl font-bold text-slate-900",children:s.jobs_yet_to_start})]}),u.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Yet to Start"}),u.jsx("p",{className:"text-sm text-slate-600",children:"Pending jobs"})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:"p-3 bg-slate-100 rounded-lg",children:u.jsx(Fg,{className:"w-6 h-6 text-slate-600"})}),u.jsx("span",{className:"text-3xl font-bold text-slate-900",children:s.pending_categories})]}),u.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Categories"}),u.jsx("p",{className:"text-sm text-slate-600",children:"Total uploaded"})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:u.jsx(ba,{className:"w-6 h-6 text-indigo-600"})}),u.jsx("span",{className:"text-3xl font-bold text-slate-900",children:s.downloads})]}),u.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Downloaded Outputs"}),u.jsx("p",{className:"text-sm text-slate-600",children:"Export history"})]}),u.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:u.jsx(Zu,{className:"w-6 h-6 text-purple-600"})}),u.jsx("span",{className:"text-3xl font-bold text-slate-900",children:s.total_projects})]}),u.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Total Projects"}),u.jsx("p",{className:"text-sm text-slate-600",children:"All time"})]})]}),u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[u.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Quick Actions"}),u.jsxs("div",{className:"flex flex-wrap gap-3",children:[u.jsx("button",{onClick:()=>r("projects"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create New Project"}),u.jsx("button",{onClick:()=>r("upload"),className:"px-4 py-2 bg-white border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Upload Categories"}),u.jsx("button",{onClick:()=>r("generate"),className:"px-4 py-2 bg-white border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Generate Facets"})]})]})]});case"projects":return u.jsx(nv,{});case"upload":return u.jsx(rv,{});case"prompts":return u.jsx(sv,{});case"generate":return u.jsx(iv,{onComplete:()=>r("dashboard")});case"clients":return(t==null?void 0:t.role)==="admin"?u.jsx(ov,{}):null;default:return null}};return u.jsxs("div",{className:"min-h-screen bg-slate-50 flex",children:[u.jsxs("aside",{className:"w-64 bg-white border-r border-slate-200",children:[u.jsxs("div",{className:"p-6 border-b border-slate-200",children:[u.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"Facet Builder Pro"}),u.jsx("p",{className:"text-sm text-slate-600 mt-1",children:t==null?void 0:t.email}),(t==null?void 0:t.role)==="admin"&&u.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded",children:"Admin"})]}),u.jsx("nav",{className:"p-4",children:l.map(c=>{const d=c.icon;return u.jsxs("button",{onClick:()=>r(c.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg mb-1 transition-colors ${n===c.id?"bg-blue-50 text-blue-700 font-medium":"text-slate-700 hover:bg-slate-50"}`,children:[u.jsx(d,{className:"w-5 h-5"}),c.label]},c.id)})}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 w-64 p-4 border-t border-slate-200",children:u.jsxs("button",{onClick:e,className:"w-full flex items-center gap-3 px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[u.jsx(Kg,{className:"w-5 h-5"}),"Sign Out"]})})]}),u.jsx("main",{className:"flex-1 p-8 overflow-auto",children:a()})]})}function av(){const{user:t,loading:e}=nn();return e?u.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Bh,{className:"w-8 h-8 text-blue-600 animate-spin mx-auto mb-4"}),u.jsx("p",{className:"text-slate-600",children:"Loading..."})]})}):t?u.jsx(lv,{}):u.jsx(tv,{})}mh(document.getElementById("root")).render(u.jsx(O.StrictMode,{children:u.jsx(Dg,{children:u.jsx(av,{})})}));
