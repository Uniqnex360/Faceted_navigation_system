(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Lu={exports:{}},Ys={},Iu={exports:{}},I={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ir=Symbol.for("react.element"),Eh=Symbol.for("react.portal"),Ch=Symbol.for("react.fragment"),Nh=Symbol.for("react.strict_mode"),Th=Symbol.for("react.profiler"),Ph=Symbol.for("react.provider"),Oh=Symbol.for("react.context"),Rh=Symbol.for("react.forward_ref"),Ah=Symbol.for("react.suspense"),$h=Symbol.for("react.memo"),Lh=Symbol.for("react.lazy"),ia=Symbol.iterator;function Ih(t){return t===null||typeof t!="object"?null:(t=ia&&t[ia]||t["@@iterator"],typeof t=="function"?t:null)}var Uu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Du=Object.assign,zu={};function Fn(t,e,n){this.props=t,this.context=e,this.refs=zu,this.updater=n||Uu}Fn.prototype.isReactComponent={};Fn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Mu(){}Mu.prototype=Fn.prototype;function il(t,e,n){this.props=t,this.context=e,this.refs=zu,this.updater=n||Uu}var ol=il.prototype=new Mu;ol.constructor=il;Du(ol,Fn.prototype);ol.isPureReactComponent=!0;var oa=Array.isArray,Fu=Object.prototype.hasOwnProperty,ll={current:null},Bu={key:!0,ref:!0,__self:!0,__source:!0};function Wu(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Fu.call(e,r)&&!Bu.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ir,type:t,key:i,ref:o,props:s,_owner:ll.current}}function Uh(t,e){return{$$typeof:Ir,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function al(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ir}function Dh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var la=/\/+/g;function xi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Dh(""+t.key):e.toString(36)}function fs(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ir:case Eh:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+xi(o,0):r,oa(s)?(n="",t!=null&&(n=t.replace(la,"$&/")+"/"),fs(s,e,n,"",function(u){return u})):s!=null&&(al(s)&&(s=Uh(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(la,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",oa(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+xi(i,l);o+=fs(i,e,n,a,s)}else if(a=Ih(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+xi(i,l++),o+=fs(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function qr(t,e,n){if(t==null)return t;var r=[],s=0;return fs(t,r,"","",function(i){return e.call(n,i,s++)}),r}function zh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ve={current:null},ps={transition:null},Mh={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:ps,ReactCurrentOwner:ll};function Hu(){throw Error("act(...) is not supported in production builds of React.")}I.Children={map:qr,forEach:function(t,e,n){qr(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return qr(t,function(){e++}),e},toArray:function(t){return qr(t,function(e){return e})||[]},only:function(t){if(!al(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};I.Component=Fn;I.Fragment=Ch;I.Profiler=Th;I.PureComponent=il;I.StrictMode=Nh;I.Suspense=Ah;I.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mh;I.act=Hu;I.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Du({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ll.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Fu.call(e,a)&&!Bu.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ir,type:t.type,key:s,ref:i,props:r,_owner:o}};I.createContext=function(t){return t={$$typeof:Oh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ph,_context:t},t.Consumer=t};I.createElement=Wu;I.createFactory=function(t){var e=Wu.bind(null,t);return e.type=t,e};I.createRef=function(){return{current:null}};I.forwardRef=function(t){return{$$typeof:Rh,render:t}};I.isValidElement=al;I.lazy=function(t){return{$$typeof:Lh,_payload:{_status:-1,_result:t},_init:zh}};I.memo=function(t,e){return{$$typeof:$h,type:t,compare:e===void 0?null:e}};I.startTransition=function(t){var e=ps.transition;ps.transition={};try{t()}finally{ps.transition=e}};I.unstable_act=Hu;I.useCallback=function(t,e){return ve.current.useCallback(t,e)};I.useContext=function(t){return ve.current.useContext(t)};I.useDebugValue=function(){};I.useDeferredValue=function(t){return ve.current.useDeferredValue(t)};I.useEffect=function(t,e){return ve.current.useEffect(t,e)};I.useId=function(){return ve.current.useId()};I.useImperativeHandle=function(t,e,n){return ve.current.useImperativeHandle(t,e,n)};I.useInsertionEffect=function(t,e){return ve.current.useInsertionEffect(t,e)};I.useLayoutEffect=function(t,e){return ve.current.useLayoutEffect(t,e)};I.useMemo=function(t,e){return ve.current.useMemo(t,e)};I.useReducer=function(t,e,n){return ve.current.useReducer(t,e,n)};I.useRef=function(t){return ve.current.useRef(t)};I.useState=function(t){return ve.current.useState(t)};I.useSyncExternalStore=function(t,e,n){return ve.current.useSyncExternalStore(t,e,n)};I.useTransition=function(){return ve.current.useTransition()};I.version="18.3.1";Iu.exports=I;var O=Iu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fh=O,Bh=Symbol.for("react.element"),Wh=Symbol.for("react.fragment"),Hh=Object.prototype.hasOwnProperty,Vh=Fh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qh={key:!0,ref:!0,__self:!0,__source:!0};function Vu(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Hh.call(e,r)&&!qh.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Bh,type:t,key:i,ref:o,props:s,_owner:Vh.current}}Ys.Fragment=Wh;Ys.jsx=Vu;Ys.jsxs=Vu;Lu.exports=Ys;var c=Lu.exports,qu={exports:{}},Te={},Ku={exports:{}},Gu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,A){var $=N.length;N.push(A);e:for(;0<$;){var J=$-1>>>1,re=N[J];if(0<s(re,A))N[J]=A,N[$]=re,$=J;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var A=N[0],$=N.pop();if($!==A){N[0]=$;e:for(var J=0,re=N.length,Hr=re>>>1;J<Hr;){var zt=2*(J+1)-1,_i=N[zt],Mt=zt+1,Vr=N[Mt];if(0>s(_i,$))Mt<re&&0>s(Vr,_i)?(N[J]=Vr,N[Mt]=$,J=Mt):(N[J]=_i,N[zt]=$,J=zt);else if(Mt<re&&0>s(Vr,$))N[J]=Vr,N[Mt]=$,J=Mt;else break e}}return A}function s(N,A){var $=N.sortIndex-A.sortIndex;return $!==0?$:N.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],d=1,h=null,m=3,v=!1,y=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(N){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=N)r(u),A.sortIndex=A.expirationTime,e(a,A);else break;A=n(u)}}function w(N){if(_=!1,p(N),!y)if(n(a)!==null)y=!0,yi(S);else{var A=n(u);A!==null&&wi(w,A.startTime-N)}}function S(N,A){y=!1,_&&(_=!1,g(T),T=-1),v=!0;var $=m;try{for(p(A),h=n(a);h!==null&&(!(h.expirationTime>A)||N&&!ue());){var J=h.callback;if(typeof J=="function"){h.callback=null,m=h.priorityLevel;var re=J(h.expirationTime<=A);A=t.unstable_now(),typeof re=="function"?h.callback=re:h===n(a)&&r(a),p(A)}else r(a);h=n(a)}if(h!==null)var Hr=!0;else{var zt=n(u);zt!==null&&wi(w,zt.startTime-A),Hr=!1}return Hr}finally{h=null,m=$,v=!1}}var j=!1,b=null,T=-1,E=5,P=-1;function ue(){return!(t.unstable_now()-P<E)}function ft(){if(b!==null){var N=t.unstable_now();P=N;var A=!0;try{A=b(!0,N)}finally{A?De():(j=!1,b=null)}}else j=!1}var De;if(typeof f=="function")De=function(){f(ft)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,jh=et.port2;et.port1.onmessage=ft,De=function(){jh.postMessage(null)}}else De=function(){k(ft,0)};function yi(N){b=N,j||(j=!0,De())}function wi(N,A){T=k(function(){N(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,yi(S))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(N){switch(m){case 1:case 2:case 3:var A=3;break;default:A=m}var $=m;m=A;try{return N()}finally{m=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,A){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var $=m;m=N;try{return A()}finally{m=$}},t.unstable_scheduleCallback=function(N,A,$){var J=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?J+$:J):$=J,N){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=$+re,N={id:d++,callback:A,priorityLevel:N,startTime:$,expirationTime:re,sortIndex:-1},$>J?(N.sortIndex=$,e(u,N),n(a)===null&&N===n(u)&&(_?(g(T),T=-1):_=!0,wi(w,$-J))):(N.sortIndex=re,e(a,N),y||v||(y=!0,yi(S))),N},t.unstable_shouldYield=ue,t.unstable_wrapCallback=function(N){var A=m;return function(){var $=m;m=A;try{return N.apply(this,arguments)}finally{m=$}}}})(Gu);Ku.exports=Gu;var Kh=Ku.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gh=O,Ne=Kh;function x(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qu=new Set,yr={};function rn(t,e){An(t,e),An(t+"Capture",e)}function An(t,e){for(yr[t]=e,t=0;t<e.length;t++)Qu.add(e[t])}var at=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),to=Object.prototype.hasOwnProperty,Qh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aa={},ua={};function Jh(t){return to.call(ua,t)?!0:to.call(aa,t)?!1:Qh.test(t)?ua[t]=!0:(aa[t]=!0,!1)}function Yh(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Xh(t,e,n,r){if(e===null||typeof e>"u"||Yh(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ye(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ae[t]=new ye(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ae[e]=new ye(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ae[t]=new ye(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ae[t]=new ye(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ae[t]=new ye(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ae[t]=new ye(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ae[t]=new ye(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ae[t]=new ye(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ae[t]=new ye(t,5,!1,t.toLowerCase(),null,!1,!1)});var ul=/[\-:]([a-z])/g;function cl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ul,cl);ae[e]=new ye(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ul,cl);ae[e]=new ye(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ul,cl);ae[e]=new ye(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ae[t]=new ye(t,1,!1,t.toLowerCase(),null,!1,!1)});ae.xlinkHref=new ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ae[t]=new ye(t,1,!1,t.toLowerCase(),null,!0,!0)});function dl(t,e,n,r){var s=ae.hasOwnProperty(e)?ae[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Xh(e,n,s,r)&&(n=null),r||s===null?Jh(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ht=Gh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kr=Symbol.for("react.element"),mn=Symbol.for("react.portal"),gn=Symbol.for("react.fragment"),hl=Symbol.for("react.strict_mode"),no=Symbol.for("react.profiler"),Ju=Symbol.for("react.provider"),Yu=Symbol.for("react.context"),fl=Symbol.for("react.forward_ref"),ro=Symbol.for("react.suspense"),so=Symbol.for("react.suspense_list"),pl=Symbol.for("react.memo"),vt=Symbol.for("react.lazy"),Xu=Symbol.for("react.offscreen"),ca=Symbol.iterator;function qn(t){return t===null||typeof t!="object"?null:(t=ca&&t[ca]||t["@@iterator"],typeof t=="function"?t:null)}var G=Object.assign,ki;function tr(t){if(ki===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ki=e&&e[1]||""}return`
`+ki+t}var Si=!1;function ji(t,e){if(!t||Si)return"";Si=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Si=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?tr(t):""}function Zh(t){switch(t.tag){case 5:return tr(t.type);case 16:return tr("Lazy");case 13:return tr("Suspense");case 19:return tr("SuspenseList");case 0:case 2:case 15:return t=ji(t.type,!1),t;case 11:return t=ji(t.type.render,!1),t;case 1:return t=ji(t.type,!0),t;default:return""}}function io(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gn:return"Fragment";case mn:return"Portal";case no:return"Profiler";case hl:return"StrictMode";case ro:return"Suspense";case so:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Yu:return(t.displayName||"Context")+".Consumer";case Ju:return(t._context.displayName||"Context")+".Provider";case fl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case pl:return e=t.displayName||null,e!==null?e:io(t.type)||"Memo";case vt:e=t._payload,t=t._init;try{return io(t(e))}catch{}}return null}function ef(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return io(e);case 8:return e===hl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zu(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tf(t){var e=Zu(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gr(t){t._valueTracker||(t._valueTracker=tf(t))}function ec(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Zu(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function oo(t,e){var n=e.checked;return G({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function da(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Rt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tc(t,e){e=e.checked,e!=null&&dl(t,"checked",e,!1)}function lo(t,e){tc(t,e);var n=Rt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ao(t,e.type,n):e.hasOwnProperty("defaultValue")&&ao(t,e.type,Rt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ha(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ao(t,e,n){(e!=="number"||bs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var nr=Array.isArray;function Cn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Rt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function uo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(x(91));return G({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fa(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(x(92));if(nr(n)){if(1<n.length)throw Error(x(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Rt(n)}}function nc(t,e){var n=Rt(e.value),r=Rt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function pa(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function co(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qr,sc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qr=Qr||document.createElement("div"),Qr.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nf=["Webkit","ms","Moz","O"];Object.keys(or).forEach(function(t){nf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),or[e]=or[t]})});function ic(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||or.hasOwnProperty(t)&&or[t]?(""+e).trim():e+"px"}function oc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ic(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var rf=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ho(t,e){if(e){if(rf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(x(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(x(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(x(61))}if(e.style!=null&&typeof e.style!="object")throw Error(x(62))}}function fo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var po=null;function ml(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mo=null,Nn=null,Tn=null;function ma(t){if(t=zr(t)){if(typeof mo!="function")throw Error(x(280));var e=t.stateNode;e&&(e=ni(e),mo(t.stateNode,t.type,e))}}function lc(t){Nn?Tn?Tn.push(t):Tn=[t]:Nn=t}function ac(){if(Nn){var t=Nn,e=Tn;if(Tn=Nn=null,ma(t),e)for(t=0;t<e.length;t++)ma(e[t])}}function uc(t,e){return t(e)}function cc(){}var bi=!1;function dc(t,e,n){if(bi)return t(e,n);bi=!0;try{return uc(t,e,n)}finally{bi=!1,(Nn!==null||Tn!==null)&&(cc(),ac())}}function _r(t,e){var n=t.stateNode;if(n===null)return null;var r=ni(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(x(231,e,typeof n));return n}var go=!1;if(at)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){go=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{go=!1}function sf(t,e,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var lr=!1,Es=null,Cs=!1,vo=null,of={onError:function(t){lr=!0,Es=t}};function lf(t,e,n,r,s,i,o,l,a){lr=!1,Es=null,sf.apply(of,arguments)}function af(t,e,n,r,s,i,o,l,a){if(lf.apply(this,arguments),lr){if(lr){var u=Es;lr=!1,Es=null}else throw Error(x(198));Cs||(Cs=!0,vo=u)}}function sn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ga(t){if(sn(t)!==t)throw Error(x(188))}function uf(t){var e=t.alternate;if(!e){if(e=sn(t),e===null)throw Error(x(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ga(s),t;if(i===r)return ga(s),e;i=i.sibling}throw Error(x(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(x(189))}}if(n.alternate!==r)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?t:e}function fc(t){return t=uf(t),t!==null?pc(t):null}function pc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pc(t);if(e!==null)return e;t=t.sibling}return null}var mc=Ne.unstable_scheduleCallback,va=Ne.unstable_cancelCallback,cf=Ne.unstable_shouldYield,df=Ne.unstable_requestPaint,Y=Ne.unstable_now,hf=Ne.unstable_getCurrentPriorityLevel,gl=Ne.unstable_ImmediatePriority,gc=Ne.unstable_UserBlockingPriority,Ns=Ne.unstable_NormalPriority,ff=Ne.unstable_LowPriority,vc=Ne.unstable_IdlePriority,Xs=null,Xe=null;function pf(t){if(Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(Xs,t,void 0,(t.current.flags&128)===128)}catch{}}var Ve=Math.clz32?Math.clz32:vf,mf=Math.log,gf=Math.LN2;function vf(t){return t>>>=0,t===0?32:31-(mf(t)/gf|0)|0}var Jr=64,Yr=4194304;function rr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ts(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=rr(l):(i&=o,i!==0&&(r=rr(i)))}else o=n&~s,o!==0?r=rr(o):i!==0&&(r=rr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ve(e),s=1<<n,r|=t[n],e&=~s;return r}function yf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wf(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ve(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=yf(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function yo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yc(){var t=Jr;return Jr<<=1,!(Jr&4194240)&&(Jr=64),t}function Ei(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ur(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ve(e),t[e]=n}function _f(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ve(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function vl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ve(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var z=0;function wc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _c,yl,xc,kc,Sc,wo=!1,Xr=[],jt=null,bt=null,Et=null,xr=new Map,kr=new Map,wt=[],xf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ya(t,e){switch(t){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":bt=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":xr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kr.delete(e.pointerId)}}function Gn(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=zr(e),e!==null&&yl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function kf(t,e,n,r,s){switch(e){case"focusin":return jt=Gn(jt,t,e,n,r,s),!0;case"dragenter":return bt=Gn(bt,t,e,n,r,s),!0;case"mouseover":return Et=Gn(Et,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return xr.set(i,Gn(xr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,kr.set(i,Gn(kr.get(i)||null,t,e,n,r,s)),!0}return!1}function jc(t){var e=Kt(t.target);if(e!==null){var n=sn(e);if(n!==null){if(e=n.tag,e===13){if(e=hc(n),e!==null){t.blockedOn=e,Sc(t.priority,function(){xc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ms(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_o(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);po=r,n.target.dispatchEvent(r),po=null}else return e=zr(n),e!==null&&yl(e),t.blockedOn=n,!1;e.shift()}return!0}function wa(t,e,n){ms(t)&&n.delete(e)}function Sf(){wo=!1,jt!==null&&ms(jt)&&(jt=null),bt!==null&&ms(bt)&&(bt=null),Et!==null&&ms(Et)&&(Et=null),xr.forEach(wa),kr.forEach(wa)}function Qn(t,e){t.blockedOn===e&&(t.blockedOn=null,wo||(wo=!0,Ne.unstable_scheduleCallback(Ne.unstable_NormalPriority,Sf)))}function Sr(t){function e(s){return Qn(s,t)}if(0<Xr.length){Qn(Xr[0],t);for(var n=1;n<Xr.length;n++){var r=Xr[n];r.blockedOn===t&&(r.blockedOn=null)}}for(jt!==null&&Qn(jt,t),bt!==null&&Qn(bt,t),Et!==null&&Qn(Et,t),xr.forEach(e),kr.forEach(e),n=0;n<wt.length;n++)r=wt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<wt.length&&(n=wt[0],n.blockedOn===null);)jc(n),n.blockedOn===null&&wt.shift()}var Pn=ht.ReactCurrentBatchConfig,Ps=!0;function jf(t,e,n,r){var s=z,i=Pn.transition;Pn.transition=null;try{z=1,wl(t,e,n,r)}finally{z=s,Pn.transition=i}}function bf(t,e,n,r){var s=z,i=Pn.transition;Pn.transition=null;try{z=4,wl(t,e,n,r)}finally{z=s,Pn.transition=i}}function wl(t,e,n,r){if(Ps){var s=_o(t,e,n,r);if(s===null)Ii(t,e,r,Os,n),ya(t,r);else if(kf(s,t,e,n,r))r.stopPropagation();else if(ya(t,r),e&4&&-1<xf.indexOf(t)){for(;s!==null;){var i=zr(s);if(i!==null&&_c(i),i=_o(t,e,n,r),i===null&&Ii(t,e,r,Os,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ii(t,e,r,null,n)}}var Os=null;function _o(t,e,n,r){if(Os=null,t=ml(r),t=Kt(t),t!==null)if(e=sn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Os=t,null}function bc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hf()){case gl:return 1;case gc:return 4;case Ns:case ff:return 16;case vc:return 536870912;default:return 16}default:return 16}}var kt=null,_l=null,gs=null;function Ec(){if(gs)return gs;var t,e=_l,n=e.length,r,s="value"in kt?kt.value:kt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return gs=s.slice(t,1<r?1-r:void 0)}function vs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zr(){return!0}function _a(){return!1}function Pe(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Zr:_a,this.isPropagationStopped=_a,this}return G(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zr)},persist:function(){},isPersistent:Zr}),e}var Bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xl=Pe(Bn),Dr=G({},Bn,{view:0,detail:0}),Ef=Pe(Dr),Ci,Ni,Jn,Zs=G({},Dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jn&&(Jn&&t.type==="mousemove"?(Ci=t.screenX-Jn.screenX,Ni=t.screenY-Jn.screenY):Ni=Ci=0,Jn=t),Ci)},movementY:function(t){return"movementY"in t?t.movementY:Ni}}),xa=Pe(Zs),Cf=G({},Zs,{dataTransfer:0}),Nf=Pe(Cf),Tf=G({},Dr,{relatedTarget:0}),Ti=Pe(Tf),Pf=G({},Bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Of=Pe(Pf),Rf=G({},Bn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Af=Pe(Rf),$f=G({},Bn,{data:0}),ka=Pe($f),Lf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},If={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Df(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Uf[t])?!!e[t]:!1}function kl(){return Df}var zf=G({},Dr,{key:function(t){if(t.key){var e=Lf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?If[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kl,charCode:function(t){return t.type==="keypress"?vs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Mf=Pe(zf),Ff=G({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sa=Pe(Ff),Bf=G({},Dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kl}),Wf=Pe(Bf),Hf=G({},Bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vf=Pe(Hf),qf=G({},Zs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Kf=Pe(qf),Gf=[9,13,27,32],Sl=at&&"CompositionEvent"in window,ar=null;at&&"documentMode"in document&&(ar=document.documentMode);var Qf=at&&"TextEvent"in window&&!ar,Cc=at&&(!Sl||ar&&8<ar&&11>=ar),ja=" ",ba=!1;function Nc(t,e){switch(t){case"keyup":return Gf.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vn=!1;function Jf(t,e){switch(t){case"compositionend":return Tc(e);case"keypress":return e.which!==32?null:(ba=!0,ja);case"textInput":return t=e.data,t===ja&&ba?null:t;default:return null}}function Yf(t,e){if(vn)return t==="compositionend"||!Sl&&Nc(t,e)?(t=Ec(),gs=_l=kt=null,vn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Cc&&e.locale!=="ko"?null:e.data;default:return null}}var Xf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ea(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Xf[t.type]:e==="textarea"}function Pc(t,e,n,r){lc(r),e=Rs(e,"onChange"),0<e.length&&(n=new xl("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ur=null,jr=null;function Zf(t){Fc(t,0)}function ei(t){var e=_n(t);if(ec(e))return t}function ep(t,e){if(t==="change")return e}var Oc=!1;if(at){var Pi;if(at){var Oi="oninput"in document;if(!Oi){var Ca=document.createElement("div");Ca.setAttribute("oninput","return;"),Oi=typeof Ca.oninput=="function"}Pi=Oi}else Pi=!1;Oc=Pi&&(!document.documentMode||9<document.documentMode)}function Na(){ur&&(ur.detachEvent("onpropertychange",Rc),jr=ur=null)}function Rc(t){if(t.propertyName==="value"&&ei(jr)){var e=[];Pc(e,jr,t,ml(t)),dc(Zf,e)}}function tp(t,e,n){t==="focusin"?(Na(),ur=e,jr=n,ur.attachEvent("onpropertychange",Rc)):t==="focusout"&&Na()}function np(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ei(jr)}function rp(t,e){if(t==="click")return ei(e)}function sp(t,e){if(t==="input"||t==="change")return ei(e)}function ip(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ke=typeof Object.is=="function"?Object.is:ip;function br(t,e){if(Ke(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!to.call(e,s)||!Ke(t[s],e[s]))return!1}return!0}function Ta(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pa(t,e){var n=Ta(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ta(n)}}function Ac(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ac(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $c(){for(var t=window,e=bs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bs(t.document)}return e}function jl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function op(t){var e=$c(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ac(n.ownerDocument.documentElement,n)){if(r!==null&&jl(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Pa(n,i);var o=Pa(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lp=at&&"documentMode"in document&&11>=document.documentMode,yn=null,xo=null,cr=null,ko=!1;function Oa(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ko||yn==null||yn!==bs(r)||(r=yn,"selectionStart"in r&&jl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),cr&&br(cr,r)||(cr=r,r=Rs(xo,"onSelect"),0<r.length&&(e=new xl("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yn)))}function es(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var wn={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionend:es("Transition","TransitionEnd")},Ri={},Lc={};at&&(Lc=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);function ti(t){if(Ri[t])return Ri[t];if(!wn[t])return t;var e=wn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Lc)return Ri[t]=e[n];return t}var Ic=ti("animationend"),Uc=ti("animationiteration"),Dc=ti("animationstart"),zc=ti("transitionend"),Mc=new Map,Ra="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $t(t,e){Mc.set(t,e),rn(e,[t])}for(var Ai=0;Ai<Ra.length;Ai++){var $i=Ra[Ai],ap=$i.toLowerCase(),up=$i[0].toUpperCase()+$i.slice(1);$t(ap,"on"+up)}$t(Ic,"onAnimationEnd");$t(Uc,"onAnimationIteration");$t(Dc,"onAnimationStart");$t("dblclick","onDoubleClick");$t("focusin","onFocus");$t("focusout","onBlur");$t(zc,"onTransitionEnd");An("onMouseEnter",["mouseout","mouseover"]);An("onMouseLeave",["mouseout","mouseover"]);An("onPointerEnter",["pointerout","pointerover"]);An("onPointerLeave",["pointerout","pointerover"]);rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rn("onBeforeInput",["compositionend","keypress","textInput","paste"]);rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cp=new Set("cancel close invalid load scroll toggle".split(" ").concat(sr));function Aa(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,af(r,e,void 0,t),t.currentTarget=null}function Fc(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Aa(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Aa(s,l,u),i=a}}}if(Cs)throw t=vo,Cs=!1,vo=null,t}function W(t,e){var n=e[Co];n===void 0&&(n=e[Co]=new Set);var r=t+"__bubble";n.has(r)||(Bc(e,t,2,!1),n.add(r))}function Li(t,e,n){var r=0;e&&(r|=4),Bc(n,t,r,e)}var ts="_reactListening"+Math.random().toString(36).slice(2);function Er(t){if(!t[ts]){t[ts]=!0,Qu.forEach(function(n){n!=="selectionchange"&&(cp.has(n)||Li(n,!1,t),Li(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ts]||(e[ts]=!0,Li("selectionchange",!1,e))}}function Bc(t,e,n,r){switch(bc(e)){case 1:var s=jf;break;case 4:s=bf;break;default:s=wl}n=s.bind(null,e,n,t),s=void 0,!go||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ii(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Kt(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}dc(function(){var u=i,d=ml(n),h=[];e:{var m=Mc.get(t);if(m!==void 0){var v=xl,y=t;switch(t){case"keypress":if(vs(n)===0)break e;case"keydown":case"keyup":v=Mf;break;case"focusin":y="focus",v=Ti;break;case"focusout":y="blur",v=Ti;break;case"beforeblur":case"afterblur":v=Ti;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=xa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Nf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Wf;break;case Ic:case Uc:case Dc:v=Of;break;case zc:v=Vf;break;case"scroll":v=Ef;break;case"wheel":v=Kf;break;case"copy":case"cut":case"paste":v=Af;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Sa}var _=(e&4)!==0,k=!_&&t==="scroll",g=_?m!==null?m+"Capture":null:m;_=[];for(var f=u,p;f!==null;){p=f;var w=p.stateNode;if(p.tag===5&&w!==null&&(p=w,g!==null&&(w=_r(f,g),w!=null&&_.push(Cr(f,w,p)))),k)break;f=f.return}0<_.length&&(m=new v(m,y,null,n,d),h.push({event:m,listeners:_}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==po&&(y=n.relatedTarget||n.fromElement)&&(Kt(y)||y[ut]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=u,y=y?Kt(y):null,y!==null&&(k=sn(y),y!==k||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(_=xa,w="onMouseLeave",g="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(_=Sa,w="onPointerLeave",g="onPointerEnter",f="pointer"),k=v==null?m:_n(v),p=y==null?m:_n(y),m=new _(w,f+"leave",v,n,d),m.target=k,m.relatedTarget=p,w=null,Kt(d)===u&&(_=new _(g,f+"enter",y,n,d),_.target=p,_.relatedTarget=k,w=_),k=w,v&&y)t:{for(_=v,g=y,f=0,p=_;p;p=ln(p))f++;for(p=0,w=g;w;w=ln(w))p++;for(;0<f-p;)_=ln(_),f--;for(;0<p-f;)g=ln(g),p--;for(;f--;){if(_===g||g!==null&&_===g.alternate)break t;_=ln(_),g=ln(g)}_=null}else _=null;v!==null&&$a(h,m,v,_,!1),y!==null&&k!==null&&$a(h,k,y,_,!0)}}e:{if(m=u?_n(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var S=ep;else if(Ea(m))if(Oc)S=sp;else{S=np;var j=tp}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=rp);if(S&&(S=S(t,u))){Pc(h,S,n,d);break e}j&&j(t,m,u),t==="focusout"&&(j=m._wrapperState)&&j.controlled&&m.type==="number"&&ao(m,"number",m.value)}switch(j=u?_n(u):window,t){case"focusin":(Ea(j)||j.contentEditable==="true")&&(yn=j,xo=u,cr=null);break;case"focusout":cr=xo=yn=null;break;case"mousedown":ko=!0;break;case"contextmenu":case"mouseup":case"dragend":ko=!1,Oa(h,n,d);break;case"selectionchange":if(lp)break;case"keydown":case"keyup":Oa(h,n,d)}var b;if(Sl)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else vn?Nc(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Cc&&n.locale!=="ko"&&(vn||T!=="onCompositionStart"?T==="onCompositionEnd"&&vn&&(b=Ec()):(kt=d,_l="value"in kt?kt.value:kt.textContent,vn=!0)),j=Rs(u,T),0<j.length&&(T=new ka(T,t,null,n,d),h.push({event:T,listeners:j}),b?T.data=b:(b=Tc(n),b!==null&&(T.data=b)))),(b=Qf?Jf(t,n):Yf(t,n))&&(u=Rs(u,"onBeforeInput"),0<u.length&&(d=new ka("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=b))}Fc(h,e)})}function Cr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rs(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=_r(t,n),i!=null&&r.unshift(Cr(t,i,s)),i=_r(t,e),i!=null&&r.push(Cr(t,i,s))),t=t.return}return r}function ln(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $a(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=_r(n,i),a!=null&&o.unshift(Cr(n,a,l))):s||(a=_r(n,i),a!=null&&o.push(Cr(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var dp=/\r\n?/g,hp=/\u0000|\uFFFD/g;function La(t){return(typeof t=="string"?t:""+t).replace(dp,`
`).replace(hp,"")}function ns(t,e,n){if(e=La(e),La(t)!==e&&n)throw Error(x(425))}function As(){}var So=null,jo=null;function bo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Eo=typeof setTimeout=="function"?setTimeout:void 0,fp=typeof clearTimeout=="function"?clearTimeout:void 0,Ia=typeof Promise=="function"?Promise:void 0,pp=typeof queueMicrotask=="function"?queueMicrotask:typeof Ia<"u"?function(t){return Ia.resolve(null).then(t).catch(mp)}:Eo;function mp(t){setTimeout(function(){throw t})}function Ui(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Sr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Sr(e)}function Ct(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ua(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Wn=Math.random().toString(36).slice(2),Ye="__reactFiber$"+Wn,Nr="__reactProps$"+Wn,ut="__reactContainer$"+Wn,Co="__reactEvents$"+Wn,gp="__reactListeners$"+Wn,vp="__reactHandles$"+Wn;function Kt(t){var e=t[Ye];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ut]||n[Ye]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ua(t);t!==null;){if(n=t[Ye])return n;t=Ua(t)}return e}t=n,n=t.parentNode}return null}function zr(t){return t=t[Ye]||t[ut],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _n(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(x(33))}function ni(t){return t[Nr]||null}var No=[],xn=-1;function Lt(t){return{current:t}}function H(t){0>xn||(t.current=No[xn],No[xn]=null,xn--)}function B(t,e){xn++,No[xn]=t.current,t.current=e}var At={},fe=Lt(At),ke=Lt(!1),Xt=At;function $n(t,e){var n=t.type.contextTypes;if(!n)return At;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Se(t){return t=t.childContextTypes,t!=null}function $s(){H(ke),H(fe)}function Da(t,e,n){if(fe.current!==At)throw Error(x(168));B(fe,e),B(ke,n)}function Wc(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(x(108,ef(t)||"Unknown",s));return G({},n,r)}function Ls(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||At,Xt=fe.current,B(fe,t),B(ke,ke.current),!0}function za(t,e,n){var r=t.stateNode;if(!r)throw Error(x(169));n?(t=Wc(t,e,Xt),r.__reactInternalMemoizedMergedChildContext=t,H(ke),H(fe),B(fe,t)):H(ke),B(ke,n)}var st=null,ri=!1,Di=!1;function Hc(t){st===null?st=[t]:st.push(t)}function yp(t){ri=!0,Hc(t)}function It(){if(!Di&&st!==null){Di=!0;var t=0,e=z;try{var n=st;for(z=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}st=null,ri=!1}catch(s){throw st!==null&&(st=st.slice(t+1)),mc(gl,It),s}finally{z=e,Di=!1}}return null}var kn=[],Sn=0,Is=null,Us=0,Oe=[],Re=0,Zt=null,it=1,ot="";function Wt(t,e){kn[Sn++]=Us,kn[Sn++]=Is,Is=t,Us=e}function Vc(t,e,n){Oe[Re++]=it,Oe[Re++]=ot,Oe[Re++]=Zt,Zt=t;var r=it;t=ot;var s=32-Ve(r)-1;r&=~(1<<s),n+=1;var i=32-Ve(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,it=1<<32-Ve(e)+s|n<<s|r,ot=i+t}else it=1<<i|n<<s|r,ot=t}function bl(t){t.return!==null&&(Wt(t,1),Vc(t,1,0))}function El(t){for(;t===Is;)Is=kn[--Sn],kn[Sn]=null,Us=kn[--Sn],kn[Sn]=null;for(;t===Zt;)Zt=Oe[--Re],Oe[Re]=null,ot=Oe[--Re],Oe[Re]=null,it=Oe[--Re],Oe[Re]=null}var Ce=null,Ee=null,V=!1,He=null;function qc(t,e){var n=Ae(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ma(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ce=t,Ee=Ct(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ce=t,Ee=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zt!==null?{id:it,overflow:ot}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ae(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ce=t,Ee=null,!0):!1;default:return!1}}function To(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Po(t){if(V){var e=Ee;if(e){var n=e;if(!Ma(t,e)){if(To(t))throw Error(x(418));e=Ct(n.nextSibling);var r=Ce;e&&Ma(t,e)?qc(r,n):(t.flags=t.flags&-4097|2,V=!1,Ce=t)}}else{if(To(t))throw Error(x(418));t.flags=t.flags&-4097|2,V=!1,Ce=t}}}function Fa(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ce=t}function rs(t){if(t!==Ce)return!1;if(!V)return Fa(t),V=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!bo(t.type,t.memoizedProps)),e&&(e=Ee)){if(To(t))throw Kc(),Error(x(418));for(;e;)qc(t,e),e=Ct(e.nextSibling)}if(Fa(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ee=Ct(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ee=null}}else Ee=Ce?Ct(t.stateNode.nextSibling):null;return!0}function Kc(){for(var t=Ee;t;)t=Ct(t.nextSibling)}function Ln(){Ee=Ce=null,V=!1}function Cl(t){He===null?He=[t]:He.push(t)}var wp=ht.ReactCurrentBatchConfig;function Yn(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(x(309));var r=n.stateNode}if(!r)throw Error(x(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(x(284));if(!n._owner)throw Error(x(290,t))}return t}function ss(t,e){throw t=Object.prototype.toString.call(e),Error(x(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ba(t){var e=t._init;return e(t._payload)}function Gc(t){function e(g,f){if(t){var p=g.deletions;p===null?(g.deletions=[f],g.flags|=16):p.push(f)}}function n(g,f){if(!t)return null;for(;f!==null;)e(g,f),f=f.sibling;return null}function r(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(g,f){return g=Ot(g,f),g.index=0,g.sibling=null,g}function i(g,f,p){return g.index=p,t?(p=g.alternate,p!==null?(p=p.index,p<f?(g.flags|=2,f):p):(g.flags|=2,f)):(g.flags|=1048576,f)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,f,p,w){return f===null||f.tag!==6?(f=Vi(p,g.mode,w),f.return=g,f):(f=s(f,p),f.return=g,f)}function a(g,f,p,w){var S=p.type;return S===gn?d(g,f,p.props.children,w,p.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===vt&&Ba(S)===f.type)?(w=s(f,p.props),w.ref=Yn(g,f,p),w.return=g,w):(w=js(p.type,p.key,p.props,null,g.mode,w),w.ref=Yn(g,f,p),w.return=g,w)}function u(g,f,p,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==p.containerInfo||f.stateNode.implementation!==p.implementation?(f=qi(p,g.mode,w),f.return=g,f):(f=s(f,p.children||[]),f.return=g,f)}function d(g,f,p,w,S){return f===null||f.tag!==7?(f=Yt(p,g.mode,w,S),f.return=g,f):(f=s(f,p),f.return=g,f)}function h(g,f,p){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Vi(""+f,g.mode,p),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Kr:return p=js(f.type,f.key,f.props,null,g.mode,p),p.ref=Yn(g,null,f),p.return=g,p;case mn:return f=qi(f,g.mode,p),f.return=g,f;case vt:var w=f._init;return h(g,w(f._payload),p)}if(nr(f)||qn(f))return f=Yt(f,g.mode,p,null),f.return=g,f;ss(g,f)}return null}function m(g,f,p,w){var S=f!==null?f.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return S!==null?null:l(g,f,""+p,w);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Kr:return p.key===S?a(g,f,p,w):null;case mn:return p.key===S?u(g,f,p,w):null;case vt:return S=p._init,m(g,f,S(p._payload),w)}if(nr(p)||qn(p))return S!==null?null:d(g,f,p,w,null);ss(g,p)}return null}function v(g,f,p,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(p)||null,l(f,g,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Kr:return g=g.get(w.key===null?p:w.key)||null,a(f,g,w,S);case mn:return g=g.get(w.key===null?p:w.key)||null,u(f,g,w,S);case vt:var j=w._init;return v(g,f,p,j(w._payload),S)}if(nr(w)||qn(w))return g=g.get(p)||null,d(f,g,w,S,null);ss(f,w)}return null}function y(g,f,p,w){for(var S=null,j=null,b=f,T=f=0,E=null;b!==null&&T<p.length;T++){b.index>T?(E=b,b=null):E=b.sibling;var P=m(g,b,p[T],w);if(P===null){b===null&&(b=E);break}t&&b&&P.alternate===null&&e(g,b),f=i(P,f,T),j===null?S=P:j.sibling=P,j=P,b=E}if(T===p.length)return n(g,b),V&&Wt(g,T),S;if(b===null){for(;T<p.length;T++)b=h(g,p[T],w),b!==null&&(f=i(b,f,T),j===null?S=b:j.sibling=b,j=b);return V&&Wt(g,T),S}for(b=r(g,b);T<p.length;T++)E=v(b,g,T,p[T],w),E!==null&&(t&&E.alternate!==null&&b.delete(E.key===null?T:E.key),f=i(E,f,T),j===null?S=E:j.sibling=E,j=E);return t&&b.forEach(function(ue){return e(g,ue)}),V&&Wt(g,T),S}function _(g,f,p,w){var S=qn(p);if(typeof S!="function")throw Error(x(150));if(p=S.call(p),p==null)throw Error(x(151));for(var j=S=null,b=f,T=f=0,E=null,P=p.next();b!==null&&!P.done;T++,P=p.next()){b.index>T?(E=b,b=null):E=b.sibling;var ue=m(g,b,P.value,w);if(ue===null){b===null&&(b=E);break}t&&b&&ue.alternate===null&&e(g,b),f=i(ue,f,T),j===null?S=ue:j.sibling=ue,j=ue,b=E}if(P.done)return n(g,b),V&&Wt(g,T),S;if(b===null){for(;!P.done;T++,P=p.next())P=h(g,P.value,w),P!==null&&(f=i(P,f,T),j===null?S=P:j.sibling=P,j=P);return V&&Wt(g,T),S}for(b=r(g,b);!P.done;T++,P=p.next())P=v(b,g,T,P.value,w),P!==null&&(t&&P.alternate!==null&&b.delete(P.key===null?T:P.key),f=i(P,f,T),j===null?S=P:j.sibling=P,j=P);return t&&b.forEach(function(ft){return e(g,ft)}),V&&Wt(g,T),S}function k(g,f,p,w){if(typeof p=="object"&&p!==null&&p.type===gn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Kr:e:{for(var S=p.key,j=f;j!==null;){if(j.key===S){if(S=p.type,S===gn){if(j.tag===7){n(g,j.sibling),f=s(j,p.props.children),f.return=g,g=f;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===vt&&Ba(S)===j.type){n(g,j.sibling),f=s(j,p.props),f.ref=Yn(g,j,p),f.return=g,g=f;break e}n(g,j);break}else e(g,j);j=j.sibling}p.type===gn?(f=Yt(p.props.children,g.mode,w,p.key),f.return=g,g=f):(w=js(p.type,p.key,p.props,null,g.mode,w),w.ref=Yn(g,f,p),w.return=g,g=w)}return o(g);case mn:e:{for(j=p.key;f!==null;){if(f.key===j)if(f.tag===4&&f.stateNode.containerInfo===p.containerInfo&&f.stateNode.implementation===p.implementation){n(g,f.sibling),f=s(f,p.children||[]),f.return=g,g=f;break e}else{n(g,f);break}else e(g,f);f=f.sibling}f=qi(p,g.mode,w),f.return=g,g=f}return o(g);case vt:return j=p._init,k(g,f,j(p._payload),w)}if(nr(p))return y(g,f,p,w);if(qn(p))return _(g,f,p,w);ss(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,f!==null&&f.tag===6?(n(g,f.sibling),f=s(f,p),f.return=g,g=f):(n(g,f),f=Vi(p,g.mode,w),f.return=g,g=f),o(g)):n(g,f)}return k}var In=Gc(!0),Qc=Gc(!1),Ds=Lt(null),zs=null,jn=null,Nl=null;function Tl(){Nl=jn=zs=null}function Pl(t){var e=Ds.current;H(Ds),t._currentValue=e}function Oo(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function On(t,e){zs=t,Nl=jn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xe=!0),t.firstContext=null)}function Ie(t){var e=t._currentValue;if(Nl!==t)if(t={context:t,memoizedValue:e,next:null},jn===null){if(zs===null)throw Error(x(308));jn=t,zs.dependencies={lanes:0,firstContext:t}}else jn=jn.next=t;return e}var Gt=null;function Ol(t){Gt===null?Gt=[t]:Gt.push(t)}function Jc(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ol(e)):(n.next=s.next,s.next=n),e.interleaved=n,ct(t,r)}function ct(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yt=!1;function Rl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Nt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,D&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ct(t,n)}return s=r.interleaved,s===null?(e.next=e,Ol(r)):(e.next=s.next,s.next=e),r.interleaved=e,ct(t,n)}function ys(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vl(t,n)}}function Wa(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ms(t,e,n,r){var s=t.updateQueue;yt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(i!==null){var h=s.baseState;o=0,d=u=a=null,l=i;do{var m=l.lane,v=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,_=l;switch(m=e,v=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){h=y.call(v,h,m);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,m=typeof y=="function"?y.call(v,h,m):y,m==null)break e;h=G({},h,m);break e;case 2:yt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,a=h):d=d.next=v,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(a=h),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);tn|=o,t.lanes=o,t.memoizedState=h}}function Ha(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(x(191,s));s.call(r)}}}var Mr={},Ze=Lt(Mr),Tr=Lt(Mr),Pr=Lt(Mr);function Qt(t){if(t===Mr)throw Error(x(174));return t}function Al(t,e){switch(B(Pr,e),B(Tr,t),B(Ze,Mr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:co(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=co(e,t)}H(Ze),B(Ze,e)}function Un(){H(Ze),H(Tr),H(Pr)}function Xc(t){Qt(Pr.current);var e=Qt(Ze.current),n=co(e,t.type);e!==n&&(B(Tr,t),B(Ze,n))}function $l(t){Tr.current===t&&(H(Ze),H(Tr))}var q=Lt(0);function Fs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var zi=[];function Ll(){for(var t=0;t<zi.length;t++)zi[t]._workInProgressVersionPrimary=null;zi.length=0}var ws=ht.ReactCurrentDispatcher,Mi=ht.ReactCurrentBatchConfig,en=0,K=null,te=null,se=null,Bs=!1,dr=!1,Or=0,_p=0;function ce(){throw Error(x(321))}function Il(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ke(t[n],e[n]))return!1;return!0}function Ul(t,e,n,r,s,i){if(en=i,K=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ws.current=t===null||t.memoizedState===null?jp:bp,t=n(r,s),dr){i=0;do{if(dr=!1,Or=0,25<=i)throw Error(x(301));i+=1,se=te=null,e.updateQueue=null,ws.current=Ep,t=n(r,s)}while(dr)}if(ws.current=Ws,e=te!==null&&te.next!==null,en=0,se=te=K=null,Bs=!1,e)throw Error(x(300));return t}function Dl(){var t=Or!==0;return Or=0,t}function Qe(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return se===null?K.memoizedState=se=t:se=se.next=t,se}function Ue(){if(te===null){var t=K.alternate;t=t!==null?t.memoizedState:null}else t=te.next;var e=se===null?K.memoizedState:se.next;if(e!==null)se=e,te=t;else{if(t===null)throw Error(x(310));te=t,t={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},se===null?K.memoizedState=se=t:se=se.next=t}return se}function Rr(t,e){return typeof e=="function"?e(t):e}function Fi(t){var e=Ue(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=te,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var d=u.lane;if((en&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,K.lanes|=d,tn|=d}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,Ke(r,e.memoizedState)||(xe=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,K.lanes|=i,tn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Bi(t){var e=Ue(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ke(i,e.memoizedState)||(xe=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Zc(){}function ed(t,e){var n=K,r=Ue(),s=e(),i=!Ke(r.memoizedState,s);if(i&&(r.memoizedState=s,xe=!0),r=r.queue,zl(rd.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||se!==null&&se.memoizedState.tag&1){if(n.flags|=2048,Ar(9,nd.bind(null,n,r,s,e),void 0,null),ie===null)throw Error(x(349));en&30||td(n,e,s)}return s}function td(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=K.updateQueue,e===null?(e={lastEffect:null,stores:null},K.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function nd(t,e,n,r){e.value=n,e.getSnapshot=r,sd(e)&&id(t)}function rd(t,e,n){return n(function(){sd(e)&&id(t)})}function sd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ke(t,n)}catch{return!0}}function id(t){var e=ct(t,1);e!==null&&qe(e,t,1,-1)}function Va(t){var e=Qe();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:t},e.queue=t,t=t.dispatch=Sp.bind(null,K,t),[e.memoizedState,t]}function Ar(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=K.updateQueue,e===null?(e={lastEffect:null,stores:null},K.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function od(){return Ue().memoizedState}function _s(t,e,n,r){var s=Qe();K.flags|=t,s.memoizedState=Ar(1|e,n,void 0,r===void 0?null:r)}function si(t,e,n,r){var s=Ue();r=r===void 0?null:r;var i=void 0;if(te!==null){var o=te.memoizedState;if(i=o.destroy,r!==null&&Il(r,o.deps)){s.memoizedState=Ar(e,n,i,r);return}}K.flags|=t,s.memoizedState=Ar(1|e,n,i,r)}function qa(t,e){return _s(8390656,8,t,e)}function zl(t,e){return si(2048,8,t,e)}function ld(t,e){return si(4,2,t,e)}function ad(t,e){return si(4,4,t,e)}function ud(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cd(t,e,n){return n=n!=null?n.concat([t]):null,si(4,4,ud.bind(null,e,t),n)}function Ml(){}function dd(t,e){var n=Ue();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Il(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function hd(t,e){var n=Ue();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Il(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function fd(t,e,n){return en&21?(Ke(n,e)||(n=yc(),K.lanes|=n,tn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xe=!0),t.memoizedState=n)}function xp(t,e){var n=z;z=n!==0&&4>n?n:4,t(!0);var r=Mi.transition;Mi.transition={};try{t(!1),e()}finally{z=n,Mi.transition=r}}function pd(){return Ue().memoizedState}function kp(t,e,n){var r=Pt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},md(t))gd(e,n);else if(n=Jc(t,e,n,r),n!==null){var s=ge();qe(n,t,r,s),vd(n,e,r)}}function Sp(t,e,n){var r=Pt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(md(t))gd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Ke(l,o)){var a=e.interleaved;a===null?(s.next=s,Ol(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=Jc(t,e,s,r),n!==null&&(s=ge(),qe(n,t,r,s),vd(n,e,r))}}function md(t){var e=t.alternate;return t===K||e!==null&&e===K}function gd(t,e){dr=Bs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function vd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vl(t,n)}}var Ws={readContext:Ie,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useInsertionEffect:ce,useLayoutEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useMutableSource:ce,useSyncExternalStore:ce,useId:ce,unstable_isNewReconciler:!1},jp={readContext:Ie,useCallback:function(t,e){return Qe().memoizedState=[t,e===void 0?null:e],t},useContext:Ie,useEffect:qa,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_s(4194308,4,ud.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _s(4194308,4,t,e)},useInsertionEffect:function(t,e){return _s(4,2,t,e)},useMemo:function(t,e){var n=Qe();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qe();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=kp.bind(null,K,t),[r.memoizedState,t]},useRef:function(t){var e=Qe();return t={current:t},e.memoizedState=t},useState:Va,useDebugValue:Ml,useDeferredValue:function(t){return Qe().memoizedState=t},useTransition:function(){var t=Va(!1),e=t[0];return t=xp.bind(null,t[1]),Qe().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=K,s=Qe();if(V){if(n===void 0)throw Error(x(407));n=n()}else{if(n=e(),ie===null)throw Error(x(349));en&30||td(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,qa(rd.bind(null,r,i,t),[t]),r.flags|=2048,Ar(9,nd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Qe(),e=ie.identifierPrefix;if(V){var n=ot,r=it;n=(r&~(1<<32-Ve(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Or++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_p++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bp={readContext:Ie,useCallback:dd,useContext:Ie,useEffect:zl,useImperativeHandle:cd,useInsertionEffect:ld,useLayoutEffect:ad,useMemo:hd,useReducer:Fi,useRef:od,useState:function(){return Fi(Rr)},useDebugValue:Ml,useDeferredValue:function(t){var e=Ue();return fd(e,te.memoizedState,t)},useTransition:function(){var t=Fi(Rr)[0],e=Ue().memoizedState;return[t,e]},useMutableSource:Zc,useSyncExternalStore:ed,useId:pd,unstable_isNewReconciler:!1},Ep={readContext:Ie,useCallback:dd,useContext:Ie,useEffect:zl,useImperativeHandle:cd,useInsertionEffect:ld,useLayoutEffect:ad,useMemo:hd,useReducer:Bi,useRef:od,useState:function(){return Bi(Rr)},useDebugValue:Ml,useDeferredValue:function(t){var e=Ue();return te===null?e.memoizedState=t:fd(e,te.memoizedState,t)},useTransition:function(){var t=Bi(Rr)[0],e=Ue().memoizedState;return[t,e]},useMutableSource:Zc,useSyncExternalStore:ed,useId:pd,unstable_isNewReconciler:!1};function Fe(t,e){if(t&&t.defaultProps){e=G({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ro(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:G({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ii={isMounted:function(t){return(t=t._reactInternals)?sn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ge(),s=Pt(t),i=lt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Nt(t,i,s),e!==null&&(qe(e,t,s,r),ys(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ge(),s=Pt(t),i=lt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Nt(t,i,s),e!==null&&(qe(e,t,s,r),ys(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ge(),r=Pt(t),s=lt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Nt(t,s,r),e!==null&&(qe(e,t,r,n),ys(e,t,r))}};function Ka(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!br(n,r)||!br(s,i):!0}function yd(t,e,n){var r=!1,s=At,i=e.contextType;return typeof i=="object"&&i!==null?i=Ie(i):(s=Se(e)?Xt:fe.current,r=e.contextTypes,i=(r=r!=null)?$n(t,s):At),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ii,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ga(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ii.enqueueReplaceState(e,e.state,null)}function Ao(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Rl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ie(i):(i=Se(e)?Xt:fe.current,s.context=$n(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ro(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ii.enqueueReplaceState(s,s.state,null),Ms(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Dn(t,e){try{var n="",r=e;do n+=Zh(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Wi(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $o(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Cp=typeof WeakMap=="function"?WeakMap:Map;function wd(t,e,n){n=lt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vs||(Vs=!0,Ho=r),$o(t,e)},n}function _d(t,e,n){n=lt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){$o(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){$o(t,e),typeof r!="function"&&(Tt===null?Tt=new Set([this]):Tt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Qa(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Cp;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Fp.bind(null,t,e,n),e.then(t,t))}function Ja(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ya(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=lt(-1,1),e.tag=2,Nt(n,e,1))),n.lanes|=1),t)}var Np=ht.ReactCurrentOwner,xe=!1;function me(t,e,n,r){e.child=t===null?Qc(e,null,n,r):In(e,t.child,n,r)}function Xa(t,e,n,r,s){n=n.render;var i=e.ref;return On(e,s),r=Ul(t,e,n,r,i,s),n=Dl(),t!==null&&!xe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,dt(t,e,s)):(V&&n&&bl(e),e.flags|=1,me(t,e,r,s),e.child)}function Za(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Gl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,xd(t,e,i,r,s)):(t=js(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:br,n(o,r)&&t.ref===e.ref)return dt(t,e,s)}return e.flags|=1,t=Ot(i,r),t.ref=e.ref,t.return=e,e.child=t}function xd(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(br(i,r)&&t.ref===e.ref)if(xe=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(xe=!0);else return e.lanes=t.lanes,dt(t,e,s)}return Lo(t,e,n,r,s)}function kd(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},B(En,be),be|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,B(En,be),be|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,B(En,be),be|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,B(En,be),be|=r;return me(t,e,s,n),e.child}function Sd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Lo(t,e,n,r,s){var i=Se(n)?Xt:fe.current;return i=$n(e,i),On(e,s),n=Ul(t,e,n,r,i,s),r=Dl(),t!==null&&!xe?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,dt(t,e,s)):(V&&r&&bl(e),e.flags|=1,me(t,e,n,s),e.child)}function eu(t,e,n,r,s){if(Se(n)){var i=!0;Ls(e)}else i=!1;if(On(e,s),e.stateNode===null)xs(t,e),yd(e,n,r),Ao(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ie(u):(u=Se(n)?Xt:fe.current,u=$n(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Ga(e,o,r,u),yt=!1;var m=e.memoizedState;o.state=m,Ms(e,r,o,s),a=e.memoizedState,l!==r||m!==a||ke.current||yt?(typeof d=="function"&&(Ro(e,n,d,r),a=e.memoizedState),(l=yt||Ka(e,n,l,r,m,a,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Yc(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Fe(e.type,l),o.props=u,h=e.pendingProps,m=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ie(a):(a=Se(n)?Xt:fe.current,a=$n(e,a));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==a)&&Ga(e,o,r,a),yt=!1,m=e.memoizedState,o.state=m,Ms(e,r,o,s);var y=e.memoizedState;l!==h||m!==y||ke.current||yt?(typeof v=="function"&&(Ro(e,n,v,r),y=e.memoizedState),(u=yt||Ka(e,n,u,r,m,y,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Io(t,e,n,r,i,s)}function Io(t,e,n,r,s,i){Sd(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&za(e,n,!1),dt(t,e,i);r=e.stateNode,Np.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=In(e,t.child,null,i),e.child=In(e,null,l,i)):me(t,e,l,i),e.memoizedState=r.state,s&&za(e,n,!0),e.child}function jd(t){var e=t.stateNode;e.pendingContext?Da(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Da(t,e.context,!1),Al(t,e.containerInfo)}function tu(t,e,n,r,s){return Ln(),Cl(s),e.flags|=256,me(t,e,n,r),e.child}var Uo={dehydrated:null,treeContext:null,retryLane:0};function Do(t){return{baseLanes:t,cachePool:null,transitions:null}}function bd(t,e,n){var r=e.pendingProps,s=q.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),B(q,s&1),t===null)return Po(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ai(o,r,0,null),t=Yt(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Do(n),e.memoizedState=Uo,t):Fl(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Tp(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Ot(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ot(l,i):(i=Yt(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Do(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Uo,r}return i=t.child,t=i.sibling,r=Ot(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Fl(t,e){return e=ai({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function is(t,e,n,r){return r!==null&&Cl(r),In(e,t.child,null,n),t=Fl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Tp(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Wi(Error(x(422))),is(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ai({mode:"visible",children:r.children},s,0,null),i=Yt(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&In(e,t.child,null,o),e.child.memoizedState=Do(o),e.memoizedState=Uo,i);if(!(e.mode&1))return is(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(x(419)),r=Wi(i,r,void 0),is(t,e,o,r)}if(l=(o&t.childLanes)!==0,xe||l){if(r=ie,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ct(t,s),qe(r,t,s,-1))}return Kl(),r=Wi(Error(x(421))),is(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Bp.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ee=Ct(s.nextSibling),Ce=e,V=!0,He=null,t!==null&&(Oe[Re++]=it,Oe[Re++]=ot,Oe[Re++]=Zt,it=t.id,ot=t.overflow,Zt=e),e=Fl(e,r.children),e.flags|=4096,e)}function nu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Oo(t.return,e,n)}function Hi(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Ed(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(me(t,e,r.children,n),r=q.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nu(t,n,e);else if(t.tag===19)nu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(B(q,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Fs(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Hi(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Fs(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Hi(e,!0,n,null,i);break;case"together":Hi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function dt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),tn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(x(153));if(e.child!==null){for(t=e.child,n=Ot(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ot(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Pp(t,e,n){switch(e.tag){case 3:jd(e),Ln();break;case 5:Xc(e);break;case 1:Se(e.type)&&Ls(e);break;case 4:Al(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;B(Ds,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(B(q,q.current&1),e.flags|=128,null):n&e.child.childLanes?bd(t,e,n):(B(q,q.current&1),t=dt(t,e,n),t!==null?t.sibling:null);B(q,q.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ed(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),B(q,q.current),r)break;return null;case 22:case 23:return e.lanes=0,kd(t,e,n)}return dt(t,e,n)}var Cd,zo,Nd,Td;Cd=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zo=function(){};Nd=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Qt(Ze.current);var i=null;switch(n){case"input":s=oo(t,s),r=oo(t,r),i=[];break;case"select":s=G({},s,{value:void 0}),r=G({},r,{value:void 0}),i=[];break;case"textarea":s=uo(t,s),r=uo(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=As)}ho(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&W("scroll",t),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Td=function(t,e,n,r){n!==r&&(e.flags|=4)};function Xn(t,e){if(!V)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function de(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Op(t,e,n){var r=e.pendingProps;switch(El(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(e),null;case 1:return Se(e.type)&&$s(),de(e),null;case 3:return r=e.stateNode,Un(),H(ke),H(fe),Ll(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(rs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,He!==null&&(Ko(He),He=null))),zo(t,e),de(e),null;case 5:$l(e);var s=Qt(Pr.current);if(n=e.type,t!==null&&e.stateNode!=null)Nd(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(x(166));return de(e),null}if(t=Qt(Ze.current),rs(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ye]=e,r[Nr]=i,t=(e.mode&1)!==0,n){case"dialog":W("cancel",r),W("close",r);break;case"iframe":case"object":case"embed":W("load",r);break;case"video":case"audio":for(s=0;s<sr.length;s++)W(sr[s],r);break;case"source":W("error",r);break;case"img":case"image":case"link":W("error",r),W("load",r);break;case"details":W("toggle",r);break;case"input":da(r,i),W("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},W("invalid",r);break;case"textarea":fa(r,i),W("invalid",r)}ho(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&ns(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ns(r.textContent,l,t),s=["children",""+l]):yr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&W("scroll",r)}switch(n){case"input":Gr(r),ha(r,i,!0);break;case"textarea":Gr(r),pa(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=As)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ye]=e,t[Nr]=r,Cd(t,e,!1,!1),e.stateNode=t;e:{switch(o=fo(n,r),n){case"dialog":W("cancel",t),W("close",t),s=r;break;case"iframe":case"object":case"embed":W("load",t),s=r;break;case"video":case"audio":for(s=0;s<sr.length;s++)W(sr[s],t);s=r;break;case"source":W("error",t),s=r;break;case"img":case"image":case"link":W("error",t),W("load",t),s=r;break;case"details":W("toggle",t),s=r;break;case"input":da(t,r),s=oo(t,r),W("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=G({},r,{value:void 0}),W("invalid",t);break;case"textarea":fa(t,r),s=uo(t,r),W("invalid",t);break;default:s=r}ho(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?oc(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&sc(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&wr(t,a):typeof a=="number"&&wr(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(yr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&W("scroll",t):a!=null&&dl(t,i,a,o))}switch(n){case"input":Gr(t),ha(t,r,!1);break;case"textarea":Gr(t),pa(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Rt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Cn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Cn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=As)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return de(e),null;case 6:if(t&&e.stateNode!=null)Td(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(x(166));if(n=Qt(Pr.current),Qt(Ze.current),rs(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ye]=e,(i=r.nodeValue!==n)&&(t=Ce,t!==null))switch(t.tag){case 3:ns(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ns(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ye]=e,e.stateNode=r}return de(e),null;case 13:if(H(q),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(V&&Ee!==null&&e.mode&1&&!(e.flags&128))Kc(),Ln(),e.flags|=98560,i=!1;else if(i=rs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(x(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(x(317));i[Ye]=e}else Ln(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;de(e),i=!1}else He!==null&&(Ko(He),He=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||q.current&1?ne===0&&(ne=3):Kl())),e.updateQueue!==null&&(e.flags|=4),de(e),null);case 4:return Un(),zo(t,e),t===null&&Er(e.stateNode.containerInfo),de(e),null;case 10:return Pl(e.type._context),de(e),null;case 17:return Se(e.type)&&$s(),de(e),null;case 19:if(H(q),i=e.memoizedState,i===null)return de(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Xn(i,!1);else{if(ne!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Fs(t),o!==null){for(e.flags|=128,Xn(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return B(q,q.current&1|2),e.child}t=t.sibling}i.tail!==null&&Y()>zn&&(e.flags|=128,r=!0,Xn(i,!1),e.lanes=4194304)}else{if(!r)if(t=Fs(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!V)return de(e),null}else 2*Y()-i.renderingStartTime>zn&&n!==1073741824&&(e.flags|=128,r=!0,Xn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Y(),e.sibling=null,n=q.current,B(q,r?n&1|2:n&1),e):(de(e),null);case 22:case 23:return ql(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?be&1073741824&&(de(e),e.subtreeFlags&6&&(e.flags|=8192)):de(e),null;case 24:return null;case 25:return null}throw Error(x(156,e.tag))}function Rp(t,e){switch(El(e),e.tag){case 1:return Se(e.type)&&$s(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Un(),H(ke),H(fe),Ll(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $l(e),null;case 13:if(H(q),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(x(340));Ln()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return H(q),null;case 4:return Un(),null;case 10:return Pl(e.type._context),null;case 22:case 23:return ql(),null;case 24:return null;default:return null}}var os=!1,he=!1,Ap=typeof WeakSet=="function"?WeakSet:Set,C=null;function bn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Q(t,e,r)}else n.current=null}function Mo(t,e,n){try{n()}catch(r){Q(t,e,r)}}var ru=!1;function $p(t,e){if(So=Ps,t=$c(),jl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,d=0,h=t,m=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)m=h,h=v;for(;;){if(h===t)break t;if(m===n&&++u===s&&(l=o),m===i&&++d===r&&(a=o),(v=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=v}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(jo={focusedElem:t,selectionRange:n},Ps=!1,C=e;C!==null;)if(e=C,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,C=t;else for(;C!==null;){e=C;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,k=y.memoizedState,g=e.stateNode,f=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:Fe(e.type,_),k);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(w){Q(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,C=t;break}C=e.return}return y=ru,ru=!1,y}function hr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Mo(e,n,i)}s=s.next}while(s!==r)}}function oi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Fo(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Pd(t){var e=t.alternate;e!==null&&(t.alternate=null,Pd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ye],delete e[Nr],delete e[Co],delete e[gp],delete e[vp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Od(t){return t.tag===5||t.tag===3||t.tag===4}function su(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Od(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bo(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=As));else if(r!==4&&(t=t.child,t!==null))for(Bo(t,e,n),t=t.sibling;t!==null;)Bo(t,e,n),t=t.sibling}function Wo(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Wo(t,e,n),t=t.sibling;t!==null;)Wo(t,e,n),t=t.sibling}var oe=null,Be=!1;function pt(t,e,n){for(n=n.child;n!==null;)Rd(t,e,n),n=n.sibling}function Rd(t,e,n){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(Xs,n)}catch{}switch(n.tag){case 5:he||bn(n,e);case 6:var r=oe,s=Be;oe=null,pt(t,e,n),oe=r,Be=s,oe!==null&&(Be?(t=oe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):oe.removeChild(n.stateNode));break;case 18:oe!==null&&(Be?(t=oe,n=n.stateNode,t.nodeType===8?Ui(t.parentNode,n):t.nodeType===1&&Ui(t,n),Sr(t)):Ui(oe,n.stateNode));break;case 4:r=oe,s=Be,oe=n.stateNode.containerInfo,Be=!0,pt(t,e,n),oe=r,Be=s;break;case 0:case 11:case 14:case 15:if(!he&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Mo(n,e,o),s=s.next}while(s!==r)}pt(t,e,n);break;case 1:if(!he&&(bn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Q(n,e,l)}pt(t,e,n);break;case 21:pt(t,e,n);break;case 22:n.mode&1?(he=(r=he)||n.memoizedState!==null,pt(t,e,n),he=r):pt(t,e,n);break;default:pt(t,e,n)}}function iu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Ap),e.forEach(function(r){var s=Wp.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ze(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:oe=l.stateNode,Be=!1;break e;case 3:oe=l.stateNode.containerInfo,Be=!0;break e;case 4:oe=l.stateNode.containerInfo,Be=!0;break e}l=l.return}if(oe===null)throw Error(x(160));Rd(i,o,s),oe=null,Be=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){Q(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ad(e,t),e=e.sibling}function Ad(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ze(e,t),Ge(t),r&4){try{hr(3,t,t.return),oi(3,t)}catch(_){Q(t,t.return,_)}try{hr(5,t,t.return)}catch(_){Q(t,t.return,_)}}break;case 1:ze(e,t),Ge(t),r&512&&n!==null&&bn(n,n.return);break;case 5:if(ze(e,t),Ge(t),r&512&&n!==null&&bn(n,n.return),t.flags&32){var s=t.stateNode;try{wr(s,"")}catch(_){Q(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&tc(s,i),fo(l,o);var u=fo(l,i);for(o=0;o<a.length;o+=2){var d=a[o],h=a[o+1];d==="style"?oc(s,h):d==="dangerouslySetInnerHTML"?sc(s,h):d==="children"?wr(s,h):dl(s,d,h,u)}switch(l){case"input":lo(s,i);break;case"textarea":nc(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Cn(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?Cn(s,!!i.multiple,i.defaultValue,!0):Cn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Nr]=i}catch(_){Q(t,t.return,_)}}break;case 6:if(ze(e,t),Ge(t),r&4){if(t.stateNode===null)throw Error(x(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){Q(t,t.return,_)}}break;case 3:if(ze(e,t),Ge(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sr(e.containerInfo)}catch(_){Q(t,t.return,_)}break;case 4:ze(e,t),Ge(t);break;case 13:ze(e,t),Ge(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Hl=Y())),r&4&&iu(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(he=(u=he)||d,ze(e,t),he=u):ze(e,t),Ge(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(C=t,d=t.child;d!==null;){for(h=C=d;C!==null;){switch(m=C,v=m.child,m.tag){case 0:case 11:case 14:case 15:hr(4,m,m.return);break;case 1:bn(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(_){Q(r,n,_)}}break;case 5:bn(m,m.return);break;case 22:if(m.memoizedState!==null){lu(h);continue}}v!==null?(v.return=m,C=v):lu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=ic("display",o))}catch(_){Q(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Q(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ze(e,t),Ge(t),r&4&&iu(t);break;case 21:break;default:ze(e,t),Ge(t)}}function Ge(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Od(n)){var r=n;break e}n=n.return}throw Error(x(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(wr(s,""),r.flags&=-33);var i=su(t);Wo(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=su(t);Bo(t,l,o);break;default:throw Error(x(161))}}catch(a){Q(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Lp(t,e,n){C=t,$d(t)}function $d(t,e,n){for(var r=(t.mode&1)!==0;C!==null;){var s=C,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||os;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||he;l=os;var u=he;if(os=o,(he=a)&&!u)for(C=s;C!==null;)o=C,a=o.child,o.tag===22&&o.memoizedState!==null?au(s):a!==null?(a.return=o,C=a):au(s);for(;i!==null;)C=i,$d(i),i=i.sibling;C=s,os=l,he=u}ou(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,C=i):ou(t)}}function ou(t){for(;C!==null;){var e=C;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:he||oi(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!he)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Fe(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ha(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ha(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Sr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}he||e.flags&512&&Fo(e)}catch(m){Q(e,e.return,m)}}if(e===t){C=null;break}if(n=e.sibling,n!==null){n.return=e.return,C=n;break}C=e.return}}function lu(t){for(;C!==null;){var e=C;if(e===t){C=null;break}var n=e.sibling;if(n!==null){n.return=e.return,C=n;break}C=e.return}}function au(t){for(;C!==null;){var e=C;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{oi(4,e)}catch(a){Q(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){Q(e,s,a)}}var i=e.return;try{Fo(e)}catch(a){Q(e,i,a)}break;case 5:var o=e.return;try{Fo(e)}catch(a){Q(e,o,a)}}}catch(a){Q(e,e.return,a)}if(e===t){C=null;break}var l=e.sibling;if(l!==null){l.return=e.return,C=l;break}C=e.return}}var Ip=Math.ceil,Hs=ht.ReactCurrentDispatcher,Bl=ht.ReactCurrentOwner,$e=ht.ReactCurrentBatchConfig,D=0,ie=null,X=null,le=0,be=0,En=Lt(0),ne=0,$r=null,tn=0,li=0,Wl=0,fr=null,we=null,Hl=0,zn=1/0,nt=null,Vs=!1,Ho=null,Tt=null,ls=!1,St=null,qs=0,pr=0,Vo=null,ks=-1,Ss=0;function ge(){return D&6?Y():ks!==-1?ks:ks=Y()}function Pt(t){return t.mode&1?D&2&&le!==0?le&-le:wp.transition!==null?(Ss===0&&(Ss=yc()),Ss):(t=z,t!==0||(t=window.event,t=t===void 0?16:bc(t.type)),t):1}function qe(t,e,n,r){if(50<pr)throw pr=0,Vo=null,Error(x(185));Ur(t,n,r),(!(D&2)||t!==ie)&&(t===ie&&(!(D&2)&&(li|=n),ne===4&&_t(t,le)),je(t,r),n===1&&D===0&&!(e.mode&1)&&(zn=Y()+500,ri&&It()))}function je(t,e){var n=t.callbackNode;wf(t,e);var r=Ts(t,t===ie?le:0);if(r===0)n!==null&&va(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&va(n),e===1)t.tag===0?yp(uu.bind(null,t)):Hc(uu.bind(null,t)),pp(function(){!(D&6)&&It()}),n=null;else{switch(wc(r)){case 1:n=gl;break;case 4:n=gc;break;case 16:n=Ns;break;case 536870912:n=vc;break;default:n=Ns}n=Bd(n,Ld.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ld(t,e){if(ks=-1,Ss=0,D&6)throw Error(x(327));var n=t.callbackNode;if(Rn()&&t.callbackNode!==n)return null;var r=Ts(t,t===ie?le:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ks(t,r);else{e=r;var s=D;D|=2;var i=Ud();(ie!==t||le!==e)&&(nt=null,zn=Y()+500,Jt(t,e));do try{zp();break}catch(l){Id(t,l)}while(!0);Tl(),Hs.current=i,D=s,X!==null?e=0:(ie=null,le=0,e=ne)}if(e!==0){if(e===2&&(s=yo(t),s!==0&&(r=s,e=qo(t,s))),e===1)throw n=$r,Jt(t,0),_t(t,r),je(t,Y()),n;if(e===6)_t(t,r);else{if(s=t.current.alternate,!(r&30)&&!Up(s)&&(e=Ks(t,r),e===2&&(i=yo(t),i!==0&&(r=i,e=qo(t,i))),e===1))throw n=$r,Jt(t,0),_t(t,r),je(t,Y()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(x(345));case 2:Ht(t,we,nt);break;case 3:if(_t(t,r),(r&130023424)===r&&(e=Hl+500-Y(),10<e)){if(Ts(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ge(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Eo(Ht.bind(null,t,we,nt),e);break}Ht(t,we,nt);break;case 4:if(_t(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Ve(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Y()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ip(r/1960))-r,10<r){t.timeoutHandle=Eo(Ht.bind(null,t,we,nt),r);break}Ht(t,we,nt);break;case 5:Ht(t,we,nt);break;default:throw Error(x(329))}}}return je(t,Y()),t.callbackNode===n?Ld.bind(null,t):null}function qo(t,e){var n=fr;return t.current.memoizedState.isDehydrated&&(Jt(t,e).flags|=256),t=Ks(t,e),t!==2&&(e=we,we=n,e!==null&&Ko(e)),t}function Ko(t){we===null?we=t:we.push.apply(we,t)}function Up(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ke(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _t(t,e){for(e&=~Wl,e&=~li,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ve(e),r=1<<n;t[n]=-1,e&=~r}}function uu(t){if(D&6)throw Error(x(327));Rn();var e=Ts(t,0);if(!(e&1))return je(t,Y()),null;var n=Ks(t,e);if(t.tag!==0&&n===2){var r=yo(t);r!==0&&(e=r,n=qo(t,r))}if(n===1)throw n=$r,Jt(t,0),_t(t,e),je(t,Y()),n;if(n===6)throw Error(x(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ht(t,we,nt),je(t,Y()),null}function Vl(t,e){var n=D;D|=1;try{return t(e)}finally{D=n,D===0&&(zn=Y()+500,ri&&It())}}function nn(t){St!==null&&St.tag===0&&!(D&6)&&Rn();var e=D;D|=1;var n=$e.transition,r=z;try{if($e.transition=null,z=1,t)return t()}finally{z=r,$e.transition=n,D=e,!(D&6)&&It()}}function ql(){be=En.current,H(En)}function Jt(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fp(n)),X!==null)for(n=X.return;n!==null;){var r=n;switch(El(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$s();break;case 3:Un(),H(ke),H(fe),Ll();break;case 5:$l(r);break;case 4:Un();break;case 13:H(q);break;case 19:H(q);break;case 10:Pl(r.type._context);break;case 22:case 23:ql()}n=n.return}if(ie=t,X=t=Ot(t.current,null),le=be=e,ne=0,$r=null,Wl=li=tn=0,we=fr=null,Gt!==null){for(e=0;e<Gt.length;e++)if(n=Gt[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Gt=null}return t}function Id(t,e){do{var n=X;try{if(Tl(),ws.current=Ws,Bs){for(var r=K.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Bs=!1}if(en=0,se=te=K=null,dr=!1,Or=0,Bl.current=null,n===null||n.return===null){ne=1,$r=e,X=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=le,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Ja(o);if(v!==null){v.flags&=-257,Ya(v,o,l,i,e),v.mode&1&&Qa(i,u,e),e=v,a=u;var y=e.updateQueue;if(y===null){var _=new Set;_.add(a),e.updateQueue=_}else y.add(a);break e}else{if(!(e&1)){Qa(i,u,e),Kl();break e}a=Error(x(426))}}else if(V&&l.mode&1){var k=Ja(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Ya(k,o,l,i,e),Cl(Dn(a,l));break e}}i=a=Dn(a,l),ne!==4&&(ne=2),fr===null?fr=[i]:fr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=wd(i,a,e);Wa(i,g);break e;case 1:l=a;var f=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Tt===null||!Tt.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=_d(i,l,e);Wa(i,w);break e}}i=i.return}while(i!==null)}zd(n)}catch(S){e=S,X===n&&n!==null&&(X=n=n.return);continue}break}while(!0)}function Ud(){var t=Hs.current;return Hs.current=Ws,t===null?Ws:t}function Kl(){(ne===0||ne===3||ne===2)&&(ne=4),ie===null||!(tn&268435455)&&!(li&268435455)||_t(ie,le)}function Ks(t,e){var n=D;D|=2;var r=Ud();(ie!==t||le!==e)&&(nt=null,Jt(t,e));do try{Dp();break}catch(s){Id(t,s)}while(!0);if(Tl(),D=n,Hs.current=r,X!==null)throw Error(x(261));return ie=null,le=0,ne}function Dp(){for(;X!==null;)Dd(X)}function zp(){for(;X!==null&&!cf();)Dd(X)}function Dd(t){var e=Fd(t.alternate,t,be);t.memoizedProps=t.pendingProps,e===null?zd(t):X=e,Bl.current=null}function zd(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Rp(n,e),n!==null){n.flags&=32767,X=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ne=6,X=null;return}}else if(n=Op(n,e,be),n!==null){X=n;return}if(e=e.sibling,e!==null){X=e;return}X=e=t}while(e!==null);ne===0&&(ne=5)}function Ht(t,e,n){var r=z,s=$e.transition;try{$e.transition=null,z=1,Mp(t,e,n,r)}finally{$e.transition=s,z=r}return null}function Mp(t,e,n,r){do Rn();while(St!==null);if(D&6)throw Error(x(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(x(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(_f(t,i),t===ie&&(X=ie=null,le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ls||(ls=!0,Bd(Ns,function(){return Rn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=$e.transition,$e.transition=null;var o=z;z=1;var l=D;D|=4,Bl.current=null,$p(t,n),Ad(n,t),op(jo),Ps=!!So,jo=So=null,t.current=n,Lp(n),df(),D=l,z=o,$e.transition=i}else t.current=n;if(ls&&(ls=!1,St=t,qs=s),i=t.pendingLanes,i===0&&(Tt=null),pf(n.stateNode),je(t,Y()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Vs)throw Vs=!1,t=Ho,Ho=null,t;return qs&1&&t.tag!==0&&Rn(),i=t.pendingLanes,i&1?t===Vo?pr++:(pr=0,Vo=t):pr=0,It(),null}function Rn(){if(St!==null){var t=wc(qs),e=$e.transition,n=z;try{if($e.transition=null,z=16>t?16:t,St===null)var r=!1;else{if(t=St,St=null,qs=0,D&6)throw Error(x(331));var s=D;for(D|=4,C=t.current;C!==null;){var i=C,o=i.child;if(C.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(C=u;C!==null;){var d=C;switch(d.tag){case 0:case 11:case 15:hr(8,d,i)}var h=d.child;if(h!==null)h.return=d,C=h;else for(;C!==null;){d=C;var m=d.sibling,v=d.return;if(Pd(d),d===u){C=null;break}if(m!==null){m.return=v,C=m;break}C=v}}}var y=i.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var k=_.sibling;_.sibling=null,_=k}while(_!==null)}}C=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,C=o;else e:for(;C!==null;){if(i=C,i.flags&2048)switch(i.tag){case 0:case 11:case 15:hr(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,C=g;break e}C=i.return}}var f=t.current;for(C=f;C!==null;){o=C;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,C=p;else e:for(o=f;C!==null;){if(l=C,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:oi(9,l)}}catch(S){Q(l,l.return,S)}if(l===o){C=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,C=w;break e}C=l.return}}if(D=s,It(),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(Xs,t)}catch{}r=!0}return r}finally{z=n,$e.transition=e}}return!1}function cu(t,e,n){e=Dn(n,e),e=wd(t,e,1),t=Nt(t,e,1),e=ge(),t!==null&&(Ur(t,1,e),je(t,e))}function Q(t,e,n){if(t.tag===3)cu(t,t,n);else for(;e!==null;){if(e.tag===3){cu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Tt===null||!Tt.has(r))){t=Dn(n,t),t=_d(e,t,1),e=Nt(e,t,1),t=ge(),e!==null&&(Ur(e,1,t),je(e,t));break}}e=e.return}}function Fp(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ge(),t.pingedLanes|=t.suspendedLanes&n,ie===t&&(le&n)===n&&(ne===4||ne===3&&(le&130023424)===le&&500>Y()-Hl?Jt(t,0):Wl|=n),je(t,e)}function Md(t,e){e===0&&(t.mode&1?(e=Yr,Yr<<=1,!(Yr&130023424)&&(Yr=4194304)):e=1);var n=ge();t=ct(t,e),t!==null&&(Ur(t,e,n),je(t,n))}function Bp(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Md(t,n)}function Wp(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(x(314))}r!==null&&r.delete(e),Md(t,n)}var Fd;Fd=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ke.current)xe=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return xe=!1,Pp(t,e,n);xe=!!(t.flags&131072)}else xe=!1,V&&e.flags&1048576&&Vc(e,Us,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;xs(t,e),t=e.pendingProps;var s=$n(e,fe.current);On(e,n),s=Ul(null,e,r,t,s,n);var i=Dl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Se(r)?(i=!0,Ls(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Rl(e),s.updater=ii,e.stateNode=s,s._reactInternals=e,Ao(e,r,t,n),e=Io(null,e,r,!0,i,n)):(e.tag=0,V&&i&&bl(e),me(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(xs(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Vp(r),t=Fe(r,t),s){case 0:e=Lo(null,e,r,t,n);break e;case 1:e=eu(null,e,r,t,n);break e;case 11:e=Xa(null,e,r,t,n);break e;case 14:e=Za(null,e,r,Fe(r.type,t),n);break e}throw Error(x(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Fe(r,s),Lo(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Fe(r,s),eu(t,e,r,s,n);case 3:e:{if(jd(e),t===null)throw Error(x(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Yc(t,e),Ms(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Dn(Error(x(423)),e),e=tu(t,e,r,n,s);break e}else if(r!==s){s=Dn(Error(x(424)),e),e=tu(t,e,r,n,s);break e}else for(Ee=Ct(e.stateNode.containerInfo.firstChild),Ce=e,V=!0,He=null,n=Qc(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ln(),r===s){e=dt(t,e,n);break e}me(t,e,r,n)}e=e.child}return e;case 5:return Xc(e),t===null&&Po(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,bo(r,s)?o=null:i!==null&&bo(r,i)&&(e.flags|=32),Sd(t,e),me(t,e,o,n),e.child;case 6:return t===null&&Po(e),null;case 13:return bd(t,e,n);case 4:return Al(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=In(e,null,r,n):me(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Fe(r,s),Xa(t,e,r,s,n);case 7:return me(t,e,e.pendingProps,n),e.child;case 8:return me(t,e,e.pendingProps.children,n),e.child;case 12:return me(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,B(Ds,r._currentValue),r._currentValue=o,i!==null)if(Ke(i.value,o)){if(i.children===s.children&&!ke.current){e=dt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=lt(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Oo(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(x(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Oo(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}me(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,On(e,n),s=Ie(s),r=r(s),e.flags|=1,me(t,e,r,n),e.child;case 14:return r=e.type,s=Fe(r,e.pendingProps),s=Fe(r.type,s),Za(t,e,r,s,n);case 15:return xd(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Fe(r,s),xs(t,e),e.tag=1,Se(r)?(t=!0,Ls(e)):t=!1,On(e,n),yd(e,r,s),Ao(e,r,s,n),Io(null,e,r,!0,t,n);case 19:return Ed(t,e,n);case 22:return kd(t,e,n)}throw Error(x(156,e.tag))};function Bd(t,e){return mc(t,e)}function Hp(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ae(t,e,n,r){return new Hp(t,e,n,r)}function Gl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vp(t){if(typeof t=="function")return Gl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fl)return 11;if(t===pl)return 14}return 2}function Ot(t,e){var n=t.alternate;return n===null?(n=Ae(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function js(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Gl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case gn:return Yt(n.children,s,i,e);case hl:o=8,s|=8;break;case no:return t=Ae(12,n,e,s|2),t.elementType=no,t.lanes=i,t;case ro:return t=Ae(13,n,e,s),t.elementType=ro,t.lanes=i,t;case so:return t=Ae(19,n,e,s),t.elementType=so,t.lanes=i,t;case Xu:return ai(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ju:o=10;break e;case Yu:o=9;break e;case fl:o=11;break e;case pl:o=14;break e;case vt:o=16,r=null;break e}throw Error(x(130,t==null?t:typeof t,""))}return e=Ae(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Yt(t,e,n,r){return t=Ae(7,t,r,e),t.lanes=n,t}function ai(t,e,n,r){return t=Ae(22,t,r,e),t.elementType=Xu,t.lanes=n,t.stateNode={isHidden:!1},t}function Vi(t,e,n){return t=Ae(6,t,null,e),t.lanes=n,t}function qi(t,e,n){return e=Ae(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qp(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ei(0),this.expirationTimes=Ei(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ql(t,e,n,r,s,i,o,l,a){return t=new qp(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ae(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rl(i),t}function Kp(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Wd(t){if(!t)return At;t=t._reactInternals;e:{if(sn(t)!==t||t.tag!==1)throw Error(x(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Se(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(x(171))}if(t.tag===1){var n=t.type;if(Se(n))return Wc(t,n,e)}return e}function Hd(t,e,n,r,s,i,o,l,a){return t=Ql(n,r,!0,t,s,i,o,l,a),t.context=Wd(null),n=t.current,r=ge(),s=Pt(n),i=lt(r,s),i.callback=e??null,Nt(n,i,s),t.current.lanes=s,Ur(t,s,r),je(t,r),t}function ui(t,e,n,r){var s=e.current,i=ge(),o=Pt(s);return n=Wd(n),e.context===null?e.context=n:e.pendingContext=n,e=lt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Nt(s,e,o),t!==null&&(qe(t,s,o,i),ys(t,s,o)),o}function Gs(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function du(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jl(t,e){du(t,e),(t=t.alternate)&&du(t,e)}function Gp(){return null}var Vd=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yl(t){this._internalRoot=t}ci.prototype.render=Yl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(x(409));ui(t,e,null,null)};ci.prototype.unmount=Yl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;nn(function(){ui(null,t,null,null)}),e[ut]=null}};function ci(t){this._internalRoot=t}ci.prototype.unstable_scheduleHydration=function(t){if(t){var e=kc();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wt.length&&e!==0&&e<wt[n].priority;n++);wt.splice(n,0,t),n===0&&jc(t)}};function Xl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function di(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hu(){}function Qp(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Gs(o);i.call(u)}}var o=Hd(e,r,t,0,null,!1,!1,"",hu);return t._reactRootContainer=o,t[ut]=o.current,Er(t.nodeType===8?t.parentNode:t),nn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Gs(a);l.call(u)}}var a=Ql(t,0,!1,null,null,!1,!1,"",hu);return t._reactRootContainer=a,t[ut]=a.current,Er(t.nodeType===8?t.parentNode:t),nn(function(){ui(e,a,n,r)}),a}function hi(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Gs(o);l.call(a)}}ui(e,o,t,s)}else o=Qp(n,e,t,s,r);return Gs(o)}_c=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=rr(e.pendingLanes);n!==0&&(vl(e,n|1),je(e,Y()),!(D&6)&&(zn=Y()+500,It()))}break;case 13:nn(function(){var r=ct(t,1);if(r!==null){var s=ge();qe(r,t,1,s)}}),Jl(t,1)}};yl=function(t){if(t.tag===13){var e=ct(t,134217728);if(e!==null){var n=ge();qe(e,t,134217728,n)}Jl(t,134217728)}};xc=function(t){if(t.tag===13){var e=Pt(t),n=ct(t,e);if(n!==null){var r=ge();qe(n,t,e,r)}Jl(t,e)}};kc=function(){return z};Sc=function(t,e){var n=z;try{return z=t,e()}finally{z=n}};mo=function(t,e,n){switch(e){case"input":if(lo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ni(r);if(!s)throw Error(x(90));ec(r),lo(r,s)}}}break;case"textarea":nc(t,n);break;case"select":e=n.value,e!=null&&Cn(t,!!n.multiple,e,!1)}};uc=Vl;cc=nn;var Jp={usingClientEntryPoint:!1,Events:[zr,_n,ni,lc,ac,Vl]},Zn={findFiberByHostInstance:Kt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yp={bundleType:Zn.bundleType,version:Zn.version,rendererPackageName:Zn.rendererPackageName,rendererConfig:Zn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ht.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fc(t),t===null?null:t.stateNode},findFiberByHostInstance:Zn.findFiberByHostInstance||Gp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var as=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!as.isDisabled&&as.supportsFiber)try{Xs=as.inject(Yp),Xe=as}catch{}}Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jp;Te.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xl(e))throw Error(x(200));return Kp(t,e,null,n)};Te.createRoot=function(t,e){if(!Xl(t))throw Error(x(299));var n=!1,r="",s=Vd;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ql(t,1,!1,null,null,n,!1,r,s),t[ut]=e.current,Er(t.nodeType===8?t.parentNode:t),new Yl(e)};Te.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(x(188)):(t=Object.keys(t).join(","),Error(x(268,t)));return t=fc(e),t=t===null?null:t.stateNode,t};Te.flushSync=function(t){return nn(t)};Te.hydrate=function(t,e,n){if(!di(e))throw Error(x(200));return hi(null,t,e,!0,n)};Te.hydrateRoot=function(t,e,n){if(!Xl(t))throw Error(x(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Vd;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Hd(e,null,t,1,n??null,s,!1,i,o),t[ut]=e.current,Er(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ci(e)};Te.render=function(t,e,n){if(!di(e))throw Error(x(200));return hi(null,t,e,!1,n)};Te.unmountComponentAtNode=function(t){if(!di(t))throw Error(x(40));return t._reactRootContainer?(nn(function(){hi(null,null,t,!1,function(){t._reactRootContainer=null,t[ut]=null})}),!0):!1};Te.unstable_batchedUpdates=Vl;Te.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!di(n))throw Error(x(200));if(t==null||t._reactInternals===void 0)throw Error(x(38));return hi(t,e,n,!1,r)};Te.version="18.3.1-next-f1338f8080-20240426";function qd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qd)}catch(t){console.error(t)}}qd(),qu.exports=Te;var Xp=qu.exports,Kd,fu=Xp;Kd=fu.createRoot,fu.hydrateRoot;const Zp="modulepreload",em=function(t){return"/"+t},pu={},Fr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(a=>{if(a=em(a),a in pu)return;pu[a]=!0;const u=a.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Zp,u||(h.as="script"),h.crossOrigin="",h.href=a,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((m,v)=>{h.addEventListener("load",m),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},tm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Fr(async()=>{const{default:r}=await Promise.resolve().then(()=>Hn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Zl extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class nm extends Zl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class mu extends Zl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class gu extends Zl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Go;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Go||(Go={}));var rm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class sm{constructor(e,{headers:n={},customFetch:r,region:s=Go.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=tm(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return rm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:a}=n;a||(a=this.region);const u=new URL(`${this.url}/${e}`);a&&a!=="any"&&(l["x-region"]=a,u.searchParams.set("forceFunctionRegion",a));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(_=>{throw new nm(_)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new mu(h);if(!h.ok)throw new gu(h);let v=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return v==="application/json"?y=yield h.json():v==="application/octet-stream"?y=yield h.blob():v==="text/event-stream"?y=h:v==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof gu||s instanceof mu?s.context:void 0}}})}}var _e={},ea={},fi={},Br={},pi={},mi={},im=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Mn=im();const om=Mn.fetch,Gd=Mn.fetch.bind(Mn),Qd=Mn.Headers,lm=Mn.Request,am=Mn.Response,Hn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Qd,Request:lm,Response:am,default:Gd,fetch:om},Symbol.toStringTag,{value:"Module"})),um=bh(Hn);var gi={};Object.defineProperty(gi,"__esModule",{value:!0});let cm=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};gi.default=cm;var Jd=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mi,"__esModule",{value:!0});const dm=Jd(um),hm=Jd(gi);let fm=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=dm.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a,u;let d=null,h=null,m=null,v=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const f=await i.text();f===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=f:h=JSON.parse(f))}const k=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),g=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");k&&g&&g.length>1&&(m=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,v=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const k=await i.text();try{d=JSON.parse(k),Array.isArray(d)&&i.status===404&&(h=[],d=null,v=200,y="OK")}catch{i.status===404&&k===""?(v=204,y="No Content"):d={message:k}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,v=200,y="OK"),d&&this.shouldThrowOnError)throw new hm.default(d)}return{error:d,data:h,count:m,status:v,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};mi.default=fm;var pm=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pi,"__esModule",{value:!0});const mm=pm(mi);let gm=class extends mm.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};pi.default=gm;var vm=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Br,"__esModule",{value:!0});const ym=vm(pi);let wm=class extends ym.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Br.default=wm;var _m=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fi,"__esModule",{value:!0});const er=_m(Br);let xm=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new er.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new er.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(a.length>0){const u=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new er.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new er.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new er.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};fi.default=xm;var Yd=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ea,"__esModule",{value:!0});const km=Yd(fi),Sm=Yd(Br);let jm=class Xd{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new km.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Xd(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let l;const a=new URL(`${this.url}/rpc/${e}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([h,m])=>m!==void 0).map(([h,m])=>[h,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([h,m])=>{a.searchParams.append(h,m)})):(l="POST",u=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new Sm.default({method:l,url:a,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};ea.default=jm;var Vn=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_e,"__esModule",{value:!0});_e.PostgrestError=_e.PostgrestBuilder=_e.PostgrestTransformBuilder=_e.PostgrestFilterBuilder=_e.PostgrestQueryBuilder=_e.PostgrestClient=void 0;const Zd=Vn(ea);_e.PostgrestClient=Zd.default;const eh=Vn(fi);_e.PostgrestQueryBuilder=eh.default;const th=Vn(Br);_e.PostgrestFilterBuilder=th.default;const nh=Vn(pi);_e.PostgrestTransformBuilder=nh.default;const rh=Vn(mi);_e.PostgrestBuilder=rh.default;const sh=Vn(gi);_e.PostgrestError=sh.default;var bm=_e.default={PostgrestClient:Zd.default,PostgrestQueryBuilder:eh.default,PostgrestFilterBuilder:th.default,PostgrestTransformBuilder:nh.default,PostgrestBuilder:rh.default,PostgrestError:sh.default};const{PostgrestClient:Em,PostgrestQueryBuilder:Gg,PostgrestFilterBuilder:Qg,PostgrestTransformBuilder:Jg,PostgrestBuilder:Yg,PostgrestError:Xg}=bm;class Cm{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Nm="2.15.5",Tm=`realtime-js/${Nm}`,Pm="1.0.0",Qo=1e4,Om=1e3,Rm=100;var mr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(mr||(mr={}));var Z;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Z||(Z={}));var We;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(We||(We={}));var Jo;(function(t){t.websocket="websocket"})(Jo||(Jo={}));var qt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(qt||(qt={}));class Am{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const a=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:u}}}class ih{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var F;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(F||(F={}));const vu=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=$m(o,t,e,s),i),{})},$m=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?oh(i,o):Yo(o)},oh=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Dm(e,n)}switch(t){case F.bool:return Lm(e);case F.float4:case F.float8:case F.int2:case F.int4:case F.int8:case F.numeric:case F.oid:return Im(e);case F.json:case F.jsonb:return Um(e);case F.timestamp:return zm(e);case F.abstime:case F.date:case F.daterange:case F.int4range:case F.int8range:case F.money:case F.reltime:case F.text:case F.time:case F.timestamptz:case F.timetz:case F.tsrange:case F.tstzrange:return Yo(e);default:return Yo(e)}},Yo=t=>t,Lm=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Im=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Um=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Dm=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>oh(e,l))}return t},zm=t=>typeof t=="string"?t.replace(" ","T"):t,lh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Ki{constructor(e,n,r={},s=Qo){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var yu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(yu||(yu={}));class gr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=gr.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=gr.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},a={};return this.map(i,(u,d)=>{o[u]||(a[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const m=d.map(k=>k.presence_ref),v=h.map(k=>k.presence_ref),y=d.filter(k=>v.indexOf(k.presence_ref)<0),_=h.filter(k=>m.indexOf(k.presence_ref)<0);y.length>0&&(l[u]=y),_.length>0&&(a[u]=_)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:a},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(a),d.length>0){const h=e[l].map(v=>v.presence_ref),m=d.filter(v=>h.indexOf(v.presence_ref)<0);e[l].unshift(...m)}r(l,d,a)}),this.map(o,(l,a)=>{let u=e[l];if(!u)return;const d=a.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,s(l,u,a),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(wu||(wu={}));var vr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(vr||(vr={}));var rt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(rt||(rt={}));class ta{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Z.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ki(this,We.join,this.params,this.timeout),this.rejoinTimer=new ih(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Z.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Z.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Z.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Z.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Z.errored,this.rejoinTimer.scheduleTimeout())}),this._on(We.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new gr(this),this.broadcastEndpointURL=lh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Z.closed){const{config:{broadcast:o,presence:l,private:a}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[vr.PRESENCE]&&this.bindings[vr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:a};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(rt.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(rt.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket.setAuth(),v===void 0){e==null||e(rt.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,k=(y=_==null?void 0:_.length)!==null&&y!==void 0?y:0,g=[];for(let f=0;f<k;f++){const p=_[f],{filter:{event:w,schema:S,table:j,filter:b}}=p,T=v&&v[f];if(T&&T.event===w&&T.schema===S&&T.table===j&&T.filter===b)g.push(Object.assign(Object.assign({},p),{id:T.id}));else{this.unsubscribe(),this.state=Z.errored,e==null||e(rt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(rt.SUBSCRIBED);return}}).receive("error",v=>{this.state=Z.errored,e==null||e(rt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(rt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Z.joined&&e===vr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Z.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(We.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Ki(this,We.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Z.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ki(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Rm){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:u,join:d}=We;if(r&&[l,a,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,_,k;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((k=(_=v.filter)===null||_===void 0?void 0:_.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(v=>v.callback(m,r)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var y,_,k,g,f,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const w=v.id,S=(y=v.filter)===null||y===void 0?void 0:y.event;return w&&((_=n.ids)===null||_===void 0?void 0:_.includes(w))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const w=(f=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return w==="*"||w===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof m=="object"&&"ids"in m){const y=m.data,{schema:_,table:k,commit_timestamp:g,type:f,errors:p}=y;m=Object.assign(Object.assign({},{schema:_,table:k,commit_timestamp:g,eventType:f,new:{},old:{},errors:p}),this._getPayloadRecords(y))}v.callback(m,r)})}_isClosed(){return this.state===Z.closed}_isJoined(){return this.state===Z.joined}_isJoining(){return this.state===Z.joining}_isLeaving(){return this.state===Z.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ta.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(We.close,{},e)}_onError(e){this._on(We.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Z.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=vu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=vu(e.columns,e.old_record)),n}}const Gi=()=>{},us={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Mm=[1e3,2e3,5e3,1e4],Fm=1e4,Bm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Wm{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Qo,this.transport=null,this.heartbeatIntervalMs=us.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gi,this.ref=0,this.reconnectTimer=null,this.logger=Gi,this.conn=null,this.sendBuffer=[],this.serializer=new Am,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Fr(async()=>{const{default:l}=await Promise.resolve().then(()=>Hn);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Jo.websocket}`,this.httpEndpoint=lh(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Cm.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Pm}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case mr.connecting:return qt.Connecting;case mr.open:return qt.Open;case mr.closing:return qt.Closing;default:return qt.Closed}}isConnected(){return this.connectionState()===qt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new ta(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Om,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},us.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",a=i.status||"";this.log("receive",`${a} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(We.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Bm],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Tm};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(We.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new ih(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},us.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,l,a,u,d;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Qo,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:us.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Gi,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:h=>Mm[h-1]||Fm,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(h,m)=>m(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class na extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ee(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Hm extends na{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Xo extends na{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Vm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const ah=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Fr(async()=>{const{default:r}=await Promise.resolve().then(()=>Hn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},qm=()=>Vm(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Fr(()=>Promise.resolve().then(()=>Hn),void 0)).Response:Response}),Zo=t=>{if(Array.isArray(t))return t.map(n=>Zo(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Zo(r)}),e},Km=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var on=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const Qi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Gm=(t,e,n)=>on(void 0,void 0,void 0,function*(){const r=yield qm();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new Hm(Qi(s),i,o))}).catch(s=>{e(new Xo(Qi(s),s))}):e(new Xo(Qi(t),t))}),Qm=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(Km(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function Wr(t,e,n,r,s,i){return on(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,Qm(e,r,s,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>Gm(a,l,r))})})}function Qs(t,e,n,r){return on(this,void 0,void 0,function*(){return Wr(t,"GET",e,n,r)})}function Je(t,e,n,r,s){return on(this,void 0,void 0,function*(){return Wr(t,"POST",e,r,s,n)})}function el(t,e,n,r,s){return on(this,void 0,void 0,function*(){return Wr(t,"PUT",e,r,s,n)})}function Jm(t,e,n,r){return on(this,void 0,void 0,function*(){return Wr(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function uh(t,e,n,r,s){return on(this,void 0,void 0,function*(){return Wr(t,"DELETE",e,r,s,n)})}var pe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const Ym={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_u={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Xm{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=ah(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return pe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},_u),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield(e=="PUT"?el:Je)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ee(i))return{data:null,error:i};throw i}})}upload(e,n,r){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return pe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const u=Object.assign({upsert:_u.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl)):(a=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield el(this.fetch,l.toString(),a,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ee(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,n){return pe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Je(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new na("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}update(e,n,r){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return pe(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ee(s))return{data:null,error:s};throw s}})}copy(e,n,r){return pe(this,void 0,void 0,function*(){try{return{data:{path:(yield Je(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ee(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return pe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Je(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ee(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return pe(this,void 0,void 0,function*(){try{const s=yield Je(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ee(s))return{data:null,error:s};throw s}})}download(e,n){return pe(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Qs(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ee(l))return{data:null,error:l};throw l}})}info(e){return pe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Qs(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Zo(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}exists(e){return pe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Jm(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r)&&r instanceof Xo){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&s.push(a);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return pe(this,void 0,void 0,function*(){try{return{data:yield uh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}})}list(e,n,r){return pe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Ym),n),{prefix:e||""});return{data:yield Je(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ee(s))return{data:null,error:s};throw s}})}listV2(e,n){return pe(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Je(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Zm="2.12.1",e0={"X-Client-Info":`storage-js/${Zm}`};var an=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class t0{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},e0),n),this.fetch=ah(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return an(this,void 0,void 0,function*(){try{return{data:yield Qs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ee(e))return{data:null,error:e};throw e}})}getBucket(e){return an(this,void 0,void 0,function*(){try{return{data:yield Qs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return an(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return an(this,void 0,void 0,function*(){try{return{data:yield el(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}emptyBucket(e){return an(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}})}deleteBucket(e){return an(this,void 0,void 0,function*(){try{return{data:yield uh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}})}}class n0 extends t0{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new Xm(this.url,this.headers,e,this.fetch)}}const r0="2.57.4";let ir="";typeof Deno<"u"?ir="deno":typeof document<"u"?ir="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ir="react-native":ir="node";const s0={"X-Client-Info":`supabase-js-${ir}/${r0}`},i0={headers:s0},o0={schema:"public"},l0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},a0={};var u0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const c0=t=>{let e;return t?e=t:typeof fetch>"u"?e=Gd:e=fetch,(...n)=>e(...n)},d0=()=>typeof Headers>"u"?Qd:Headers,h0=(t,e,n)=>{const r=c0(n),s=d0();return(i,o)=>u0(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var f0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};function p0(t){return t.endsWith("/")?t:t+"/"}function m0(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:a,auth:u,realtime:d,global:h}=e,m={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>f0(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function g0(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(p0(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const ch="2.71.1",fn=30*1e3,tl=3,Ji=tl*fn,v0="http://localhost:9999",y0="supabase.auth.token",w0={"X-Client-Info":`gotrue-js/${ch}`},nl="X-Supabase-Api-Version",dh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,x0=10*60*1e3;class ra extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function R(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class k0 extends ra{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function S0(t){return R(t)&&t.name==="AuthApiError"}class hh extends ra{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ut extends ra{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class gt extends Ut{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function j0(t){return R(t)&&t.name==="AuthSessionMissingError"}class cs extends Ut{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ds extends Ut{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class hs extends Ut{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function b0(t){return R(t)&&t.name==="AuthImplicitGrantRedirectError"}class xu extends Ut{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rl extends Ut{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Yi(t){return R(t)&&t.name==="AuthRetryableFetchError"}class ku extends Ut{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class sl extends Ut{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Js="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Su=` 	
\r=`.split(""),E0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Su.length;e+=1)t[Su[e].charCodeAt(0)]=-2;for(let e=0;e<Js.length;e+=1)t[Js[e].charCodeAt(0)]=e;return t})();function ju(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Js[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Js[r]),e.queuedBits-=6}}function fh(t,e,n){const r=E0[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function bu(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{T0(o,r,n)};for(let o=0;o<t.length;o+=1)fh(t.charCodeAt(o),s,i);return e.join("")}function C0(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function N0(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}C0(r,e)}}function T0(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function P0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)fh(t.charCodeAt(s),n,r);return new Uint8Array(e)}function O0(t){const e=[];return N0(t,n=>e.push(n)),new Uint8Array(e)}function R0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>ju(s,n,r)),ju(null,n,r),e.join("")}function A0(t){return Math.round(Date.now()/1e3)+t}function $0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Me=()=>typeof window<"u"&&typeof document<"u",Ft={tested:!1,writable:!1},ph=()=>{if(!Me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ft.tested)return Ft.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ft.tested=!0,Ft.writable=!0}catch{Ft.tested=!0,Ft.writable=!1}return Ft.writable};function L0(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const mh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Fr(async()=>{const{default:r}=await Promise.resolve().then(()=>Hn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},I0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",pn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Bt=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},mt=async(t,e)=>{await t.removeItem(e)};class vi{constructor(){this.promise=new vi.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}vi.promiseConstructor=Promise;function Xi(t){const e=t.split(".");if(e.length!==3)throw new sl("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!_0.test(e[r]))throw new sl("JWT not in base64url format");return{header:JSON.parse(bu(e[0])),payload:JSON.parse(bu(e[1])),signature:P0(e[2]),raw:{header:e[0],payload:e[1]}}}async function U0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function D0(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function z0(t){return("0"+t.toString(16)).substr(-2)}function M0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,z0).join("")}async function F0(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function B0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await F0(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function un(t,e,n=!1){const r=M0();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await pn(t,`${e}-code-verifier`,s);const i=await B0(r);return[i,r===i?"plain":"s256"]}const W0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function H0(t){const e=t.headers.get(nl);if(!e||!e.match(W0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function V0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function q0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const K0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function cn(t){if(!K0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zi(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Eu(t){return JSON.parse(JSON.stringify(t))}var G0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Vt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Q0=[502,503,504];async function Cu(t){var e;if(!I0(t))throw new rl(Vt(t),0);if(Q0.includes(t.status))throw new rl(Vt(t),t.status);let n;try{n=await t.json()}catch(i){throw new hh(Vt(i),i)}let r;const s=H0(t);if(s&&s.getTime()>=dh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new ku(Vt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new gt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new ku(Vt(n),t.status,n.weak_password.reasons);throw new k0(Vt(n),t.status||500,r)}const J0=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function L(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[nl]||(i[nl]=dh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await Y0(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function Y0(t,e,n,r,s,i){const o=J0(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(a){throw console.error(a),new rl(Vt(a),0)}if(l.ok||await Cu(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await Cu(a)}}function tt(t){var e;let n=null;tg(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=A0(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Nu(t){const e=tt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function xt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function X0(t){return{data:t,error:null}}function Z0(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=G0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function eg(t){return t}function tg(t){return t.access_token&&t.refresh_token&&t.expires_in}const eo=["global","local","others"];var ng=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class rg{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=mh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=eo[0]){if(eo.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${eo.join(", ")}`);try{return await L(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await L(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:xt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=ng(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Z0,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(R(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await L(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:xt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},d=await L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:eg});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(a=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return v.length>0&&(v.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(y.split(";")[1].split("=")[1]);u[`${k}Page`]=_}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(R(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){cn(e);try{return await L(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:xt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){cn(e);try{return await L(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:xt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){cn(e);try{return await L(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:xt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){cn(e.userId);try{const{data:n,error:r}=await L(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(R(n))return{data:null,error:n};throw n}}async _deleteFactor(e){cn(e.userId),cn(e.id);try{return{data:await L(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}}function Tu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function sg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const dn={debug:!!(globalThis&&ph()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ig extends gh{}async function og(t,e,n){dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),dn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw dn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ig(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(dn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}sg();const lg={url:v0,storageKey:y0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:w0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Pu(t,e,n){return await n()}const hn={};class Lr{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Lr.nextInstanceID,Lr.nextInstanceID+=1,this.instanceID>0&&Me()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},lg),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new rg({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=mh(s.fetch),this.lock=s.lock||Pu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Me()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=og:this.lock=Pu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:ph()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Tu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Tu(this.memoryStorage)),Me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=hn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){hn[this.storageKey]=Object.assign(Object.assign({},hn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=hn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){hn[this.storageKey]=Object.assign(Object.assign({},hn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ch}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=L0(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Me()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),b0(i)){const a=(e=i.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return R(n)?{error:n}:{error:new hh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:tt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:m}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await un(this.storage,this.storageKey)),i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:y},xform:tt})}else if("phone"in e){const{phone:d,password:h,options:m}=e;i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:tt})}else throw new ds("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Nu})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Nu})}else throw new ds("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new cs}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,l,a,u,d,h,m,v;let y,_;if("message"in e)y=e.message,_=e.signature;else{const{chain:k,wallet:g,statement:f,options:p}=e;let w;if(Me())if(typeof g=="object")w=g;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))w=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const S=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const j=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),f?{statement:f}:null));let b;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")b=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)b=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in b&&"signature"in b&&(typeof b.signedMessage=="string"||b.signedMessage instanceof Uint8Array)&&b.signature instanceof Uint8Array)y=typeof b.signedMessage=="string"?b.signedMessage:new TextDecoder().decode(b.signedMessage),_=b.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${S.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(b=>`- ${b}`)]:[]].join(`
`);const j=await w.signMessage(new TextEncoder().encode(y),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=j}}try{const{data:k,error:g}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:R0(_)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:tt});if(g)throw g;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new cs}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:g})}catch(k){if(R(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(e){const n=await Bt(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:tt});if(await mt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new cs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(R(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:tt}),{data:a,error:u}=l;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new cs}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:a}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await un(this.storage,this.storageKey));const{error:h}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:a}=e,{data:u,error:d}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ds("You must provide either an email or phone number.")}catch(l){if(R(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:tt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,u=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(R(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await un(this.storage,this.storageKey)),await L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:X0})}catch(i){if(R(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new gt;const{error:s}=await L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(R(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await L(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await L(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ds("You must provide either an email or phone number and a type")}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Bt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Ji:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Bt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Zi()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:xt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gt}:await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:xt})})}catch(n){if(R(n))return j0(n)&&(await this._removeSession(),await mt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new gt;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await un(this.storage,this.storageKey));const{data:u,error:d}=await L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:xt});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new gt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Xi(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(R(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new gt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Me())throw new hs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new hs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new xu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new xu("No code detected.");const{data:f,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:u}=e;if(!i||!l||!o||!u)throw new hs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;a&&(m=parseInt(a));const v=m-d;v*1e3<=fn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const y=m-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,m,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,m,d);const{data:_,error:k}=await this._getUser(i);if(k)throw k;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(R(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Bt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(S0(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await mt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=$0(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await un(this.storage,this.storageKey,!0));try{return await L(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(R(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,a,u,d;const{data:h,error:m}=i;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await L(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Me()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(R(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await L(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await D0(async s=>(s>0&&await U0(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:tt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Yi(i)&&Date.now()+o-r<fn})}catch(r){if(this._debug(n,"error",r),R(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Me()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Bt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Bt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await pn(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Zi()}else if(s&&!s.user&&!s.user){const o=await Bt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await mt(this.storage,this.storageKey+"-user"),await pn(this.storage,this.storageKey,s)):s.user=Zi()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ji;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Ji}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Yi(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new gt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new vi;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new gt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),R(i)){const o={session:null,error:i};return Yi(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await pn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Eu(s);await pn(this.storage,this.storageKey,i)}else{const s=Eu(n);await pn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await mt(this.storage,this.storageKey),await mt(this.storage,this.storageKey+"-code-verifier"),await mt(this.storage,this.storageKey+"-user"),this.userStorage&&await mt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Me()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),fn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/fn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${fn}ms, refresh threshold is ${tl} ticks`),s<=tl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof gh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Me()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await un(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await L(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:u}=await L(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(R(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(R(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Xi(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+x0>s)return r;const{data:i,error:o}=await L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};r=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=Xi(r);n!=null&&n.allowExpired||V0(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const d=q0(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,O0(`${l}.${a}`)))throw new sl("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}}Lr.nextInstanceID=0;const ag=Lr;class ug extends ag{constructor(e){super(e)}}var cg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function a(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class dg{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const l=g0(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const a=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:o0,realtime:a0,auth:Object.assign(Object.assign({},l0),{storageKey:a}),global:i0},d=m0(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=h0(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Em(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new n0(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new sm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return cg(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:l,lock:a,debug:u},d,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ug({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:a,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Wm(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const hg=(t,e,n)=>new dg(t,e,n);function fg(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}fg()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const pg=void 0,mg=void 0;throw new Error("Missing Supabase environment variables");const U=hg(pg,mg),vh=O.createContext(void 0);function gg({children:t}){const[e,n]=O.useState(null),[r,s]=O.useState(!0);O.useEffect(()=>{i();const{data:u}=U.auth.onAuthStateChange(()=>{(async()=>await i())()});return()=>{var d;(d=u==null?void 0:u.subscription)==null||d.unsubscribe()}},[]);const i=async()=>{try{const{data:{user:u}}=await U.auth.getUser();if(u){const{data:d}=await U.from("user_profiles").select("*").eq("id",u.id).maybeSingle();n(d)}else n(null)}catch(u){console.error("Error checking user:",u),n(null)}finally{s(!1)}},o=async(u,d)=>{const{error:h}=await U.auth.signInWithPassword({email:u,password:d});if(h)throw h;await i()},l=async(u,d,h,m,v)=>{const{data:y,error:_}=await U.auth.signUp({email:u,password:d});if(_)throw _;if(!y.user)throw new Error("User creation failed");const{error:k}=await U.from("user_profiles").insert({id:y.user.id,email:u,full_name:h,role:m,client_id:v||null,is_active:!0});if(k)throw k;await i()},a=async()=>{const{error:u}=await U.auth.signOut();if(u)throw u;n(null)};return c.jsx(vh.Provider,{value:{user:e,loading:r,signIn:o,signUp:l,signOut:a},children:t})}function Dt(){const t=O.useContext(vh);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),M=(t,e)=>{const n=O.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:a,...u},d)=>O.createElement("svg",{ref:d,...vg,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${yg(t)}`,l].join(" "),...u},[...e.map(([h,m])=>O.createElement(h,m)),...Array.isArray(a)?a:[a]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=M("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=M("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=M("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=M("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=M("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=M("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=M("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=M("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=M("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=M("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=M("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=M("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=M("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=M("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=M("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=M("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=M("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=M("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=M("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=M("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=M("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=M("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=M("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=M("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=M("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=M("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=M("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);function Lg(){const{signIn:t}=Dt(),[e,n]=O.useState(""),[r,s]=O.useState(""),[i,o]=O.useState(!1),[l,a]=O.useState(""),u=async d=>{d.preventDefault(),a(""),o(!0);try{await t(e,r)}catch(h){a(h instanceof Error?h.message:"Failed to sign in")}finally{o(!1)}};return c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-slate-100 flex items-center justify-center p-6",children:c.jsx("div",{className:"w-full max-w-md",children:c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-full mb-4",children:c.jsx(Au,{className:"w-8 h-8 text-white"})}),c.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Facet Builder Pro"}),c.jsx("p",{className:"text-slate-600",children:"Sign in to your account"})]}),c.jsxs("form",{onSubmit:u,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-700 mb-2",children:"Email Address"}),c.jsx("input",{type:"email",id:"email",value:e,onChange:d=>n(d.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"you@company.com",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-700 mb-2",children:"Password"}),c.jsx("input",{type:"password",id:"password",value:r,onChange:d=>s(d.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"",required:!0})]}),l&&c.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:l}),c.jsx("button",{type:"submit",disabled:i,className:"w-full py-3 px-6 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:i?c.jsxs(c.Fragment,{children:[c.jsx(_h,{className:"w-5 h-5 animate-spin"}),"Signing In..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Au,{className:"w-5 h-5"}),"Sign In"]})})]}),c.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200 text-center text-sm text-slate-600",children:[c.jsx("p",{children:"Demo Credentials:"}),c.jsxs("p",{className:"mt-2 font-mono text-xs",children:["Admin: admin@demo.com / Admin@123",c.jsx("br",{}),"Client: client@demo.com / Client@123"]})]})]})})})}function Ig(){const{user:t}=Dt(),[e,n]=O.useState([]),[r,s]=O.useState(""),[i,o]=O.useState(!1);O.useEffect(()=>{l()},[t]);const l=async()=>{if(!t)return;const h=U.from("facet_generation_jobs").select("*").order("created_at",{ascending:!1});t.role!=="admin"&&h.eq("client_id",t.client_id);const{data:m}=await h;n(m||[])},a=async()=>{if(!(!r.trim()||!t)){o(!0);try{const{error:h}=await U.from("facet_generation_jobs").insert({client_id:t.client_id||t.id,project_name:r,category_ids:[],status:"pending",created_by:t.id});if(h)throw h;s(""),await l()}catch(h){console.error("Error creating project:",h)}finally{o(!1)}}},u=async h=>{confirm("Are you sure you want to delete this project?")&&(await U.from("facet_generation_jobs").delete().eq("id",h),await l())},d=h=>{switch(h){case"completed":return"bg-green-100 text-green-700";case"processing":return"bg-blue-100 text-blue-700";case"failed":return"bg-red-100 text-red-700";default:return"bg-yellow-100 text-yellow-700"}};return c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Project Management"}),c.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6 mb-6",children:[c.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Create New Project"}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("input",{type:"text",value:r,onChange:h=>s(h.target.value),placeholder:"Enter project name",className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),c.jsxs("button",{onClick:a,disabled:i||!r.trim(),className:"inline-flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[c.jsx(kg,{className:"w-5 h-5"}),"Create Project"]})]})]}),c.jsx("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Project Name"}),c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Categories"}),c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Progress"}),c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Created"}),c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Actions"})]})}),c.jsxs("tbody",{className:"divide-y divide-slate-200",children:[e.map(h=>c.jsxs("tr",{className:"hover:bg-slate-50",children:[c.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-900",children:h.project_name||"Untitled Project"}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${d(h.status)}`,children:h.status})}),c.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:h.total_categories}),c.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[h.progress,"%"]}),c.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:new Date(h.created_at).toLocaleDateString()}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:c.jsx(xg,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>u(h.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:c.jsx(kh,{className:"w-4 h-4"})})]})})]},h.id)),e.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"px-6 py-8 text-center text-slate-500",children:"No projects yet. Create your first project to get started."})})]})]})})]})}function Ug(){const{user:t}=Dt(),[e,n]=O.useState(null),[r,s]=O.useState(!1),[i,o]=O.useState(null),l=h=>{h.target.files&&h.target.files[0]&&(n(h.target.files[0]),o(null))},a=h=>h.trim().split(`
`).map(v=>{const y=[];let _="",k=!1;for(let g=0;g<v.length;g++){const f=v[g];f==='"'?k=!k:f===","&&!k?(y.push(_.trim()),_=""):_+=f}return y.push(_.trim()),y}),u=async()=>{if(!(!e||!t)){s(!0),o(null);try{const h=await e.text(),m=a(h),v=m[0],_=m.slice(1).map(f=>{const p=f[0]||"",w=p.split(">").map(b=>b.trim()),S=w.length,j=w[w.length-1]||"";return{client_id:t.client_id||t.id,category_path:p,level:S,name:j,metadata:{}}}).filter(f=>f.name);let k=0,g=0;for(const f of _){const{error:p}=await U.from("categories").insert(f);p?g++:k++}o({success:k,failed:g}),n(null)}catch(h){console.error("Error uploading categories:",h),o({success:0,failed:1})}finally{s(!1)}}},d=()=>{const h=`Category Path,Level,Description
Marine Safety Equipment > Personal Flotation > Life Jackets,3,End category
Marine Safety Equipment > Personal Flotation > Life Vests,3,End category
Marine Safety Equipment > Fire Safety > Fire Extinguishers,3,End category`,m=new Blob([h],{type:"text/csv"}),v=URL.createObjectURL(m),y=document.createElement("a");y.href=v,y.download="category-upload-template.csv",y.click()};return c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Upload Categories"}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[c.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Upload CSV File"}),c.jsx("div",{className:"mb-4",children:c.jsxs("label",{className:"block w-full cursor-pointer",children:[c.jsx("div",{className:"flex items-center justify-center w-full h-32 px-4 transition bg-white border-2 border-slate-300 border-dashed rounded-lg hover:border-blue-400",children:c.jsx("div",{className:"text-center",children:e?c.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[c.jsx(wh,{className:"w-6 h-6"}),c.jsx("span",{className:"font-medium",children:e.name})]}):c.jsxs(c.Fragment,{children:[c.jsx(Sh,{className:"w-8 h-8 text-slate-400 mx-auto mb-2"}),c.jsx("p",{className:"text-sm text-slate-600",children:"Click to upload or drag and drop"}),c.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"CSV files only"})]})})}),c.jsx("input",{type:"file",accept:".csv",onChange:l,className:"hidden"})]})}),c.jsx("button",{onClick:u,disabled:!e||r,className:"w-full py-3 px-6 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?"Uploading...":"Upload Categories"}),i&&c.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 text-green-700 mb-2",children:[c.jsx(yh,{className:"w-5 h-5"}),c.jsx("span",{className:"font-medium",children:"Upload Complete"})]}),c.jsxs("p",{className:"text-sm text-slate-600",children:["Successfully uploaded: ",i.success," categories",i.failed>0&&` (${i.failed} failed)`]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[c.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"CSV Format Requirements"}),c.jsxs("div",{className:"space-y-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Required Columns:"}),c.jsxs("ul",{className:"list-disc list-inside text-slate-600 space-y-1",children:[c.jsx("li",{children:'Category Path (e.g., "L1 > L2 > L3")'}),c.jsx("li",{children:"Level (1-10)"}),c.jsx("li",{children:"Description (optional)"})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-slate-900 mb-2",children:"Example:"}),c.jsx("div",{className:"bg-slate-50 p-3 rounded font-mono text-xs overflow-x-auto",children:"Marine Safety Equipment > Life Jackets,2,Category"})]}),c.jsxs("button",{onClick:d,className:"inline-flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors",children:[c.jsx(sa,{className:"w-4 h-4"}),"Download Template"]})]})]})]})]})}function Dg(){const{user:t}=Dt(),[e,n]=O.useState([]),[r,s]=O.useState(null),[i,o]=O.useState(""),[l,a]=O.useState(""),[u,d]=O.useState(!1),[h,m]=O.useState(!1);O.useEffect(()=>{v()},[t]);const v=async()=>{if(!t)return;const f=U.from("prompt_templates").select("*").order("level",{ascending:!0}).order("execution_order",{ascending:!0});t.role!=="admin"&&f.or(`client_id.eq.${t.client_id},client_id.is.null`);const{data:p}=await f;n(p||[])},y=f=>{s(f),o(f.template_content),a(""),d(!0)},_=async()=>{if(!(!r||!t)){m(!0);try{const f=(r.current_version||1)+1;await U.from("prompt_versions").insert({prompt_template_id:r.id,version:f,template_content:i,variables:r.variables,edited_by:t.id,change_notes:l,is_active:!0}),await U.from("prompt_versions").update({is_active:!1}).eq("prompt_template_id",r.id).neq("version",f),await U.from("prompt_templates").update({template_content:i,current_version:f,updated_at:new Date().toISOString()}).eq("id",r.id),d(!1),s(null),await v()}catch(f){console.error("Error saving prompt version:",f)}finally{m(!1)}}},k=async(f,p)=>{t&&(p?await U.from("master_templates").delete().eq("prompt_template_id",f):await U.from("master_templates").insert({client_id:t.client_id||t.id,prompt_template_id:f,level_start:2,level_end:10,is_master:!0}),await v())},g=async f=>{const{data:p}=await U.from("master_templates").select("id").eq("prompt_template_id",f).maybeSingle();return!!p};return c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Prompt Template Management"}),u&&r?c.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6 mb-6",children:[c.jsxs("h3",{className:"font-semibold text-slate-900 mb-4",children:["Edit: ",r.name]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Template Content"}),c.jsx("textarea",{value:i,onChange:f=>o(f.target.value),rows:8,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Change Notes"}),c.jsx("input",{type:"text",value:l,onChange:f=>a(f.target.value),placeholder:"Describe what you changed...",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{onClick:_,disabled:h,className:"inline-flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[c.jsx(Tg,{className:"w-4 h-4"}),h?"Saving...":"Save New Version"]}),c.jsx("button",{onClick:()=>{d(!1),s(null)},className:"px-6 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors",children:"Cancel"})]})]})]}):c.jsx("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Name"}),c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Level"}),c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Type"}),c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Version"}),c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Master Template"}),c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-200",children:e.map(f=>c.jsxs("tr",{className:"hover:bg-slate-50",children:[c.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-900",children:f.name}),c.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:["Level ",f.level]}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-medium",children:f.type})}),c.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:["v",f.current_version||1]}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("button",{onClick:async()=>{const p=await g(f.id);k(f.id,p)},className:"text-yellow-500 hover:text-yellow-600",children:c.jsx(Pg,{className:"w-5 h-5"})})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>y(f),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:c.jsx(Eg,{className:"w-4 h-4"})}),c.jsx("button",{className:"p-1 text-slate-600 hover:bg-slate-50 rounded",children:c.jsx(Sg,{className:"w-4 h-4"})})]})})]},f.id))})]})}),c.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[c.jsx("h4",{className:"font-semibold text-slate-900 mb-2",children:"Version Control"}),c.jsx("p",{className:"text-sm text-slate-600",children:"All prompt edits are automatically versioned. The system uses the latest version for facet generation. Mark prompts with Level 2-10 as master templates for comprehensive facet building."})]})]})}function zg({onComplete:t}){const{user:e}=Dt(),[n,r]=O.useState([]),[s,i]=O.useState([]),[o,l]=O.useState(new Set),[a,u]=O.useState(new Set),[d,h]=O.useState(""),[m,v]=O.useState(!1),[y,_]=O.useState([]),[k,g]=O.useState(null);O.useEffect(()=>{f()},[e]);const f=async()=>{if(!e)return;const E=e.role==="admin"?{}:{client_id:e.client_id},[P,ue]=await Promise.all([U.from("categories").select("*").match(E).order("category_path"),U.from("prompt_templates").select("*").order("level").order("execution_order")]);r(P.data||[]),i(ue.data||[])},p=E=>{const P=new Set(o);P.has(E)?P.delete(E):P.add(E),l(P)},w=E=>{const P=new Set(a);P.has(E)?P.delete(E):P.add(E),u(P)},S=()=>{o.size===n.length?l(new Set):l(new Set(n.map(E=>E.id)))},j=()=>{a.size===s.length?u(new Set):u(new Set(s.map(E=>E.id)))},b=async()=>{if(!(!e||o.size===0)){v(!0);try{const{data:E,error:P}=await U.from("facet_generation_jobs").insert({client_id:e.client_id||e.id,project_name:d,category_ids:Array.from(o),selected_prompts:Array.from(a),status:"processing",total_categories:o.size,processed_categories:0,created_by:e.id}).select().maybeSingle();if(P||!E)throw P;if(g(E.id),!(await fetch("undefined/functions/v1/generate-facets-ai",{method:"POST",headers:{Authorization:"Bearer undefined","Content-Type":"application/json"},body:JSON.stringify({job_id:E.id,category_ids:Array.from(o),prompt_ids:Array.from(a)})})).ok)throw new Error("Generation failed");const{data:De}=await U.from("recommended_facets").select("*").eq("job_id",E.id).order("sort_order");_(De||[]),await U.from("facet_generation_jobs").update({status:"completed",progress:100,processed_categories:o.size,completed_at:new Date().toISOString()}).eq("id",E.id)}catch(E){console.error("Error generating facets:",E)}finally{v(!1)}}},T=async()=>{if(!k)return;const{data:E}=await U.from("recommended_facets").select("*").eq("job_id",k).order("sort_order");if(!E)return;const P=["Category,Facet Name,Possible Values,Priority,Confidence Score,Filling %",...E.map(et=>`"${et.category_id}","${et.facet_name}","${et.possible_values}","${et.priority}",${et.confidence_score},${et.filling_percentage}`)].join(`
`),ue=new Blob([P],{type:"text/csv"}),ft=URL.createObjectURL(ue),De=document.createElement("a");De.href=ft,De.download=`facets-${k}.csv`,De.click(),await U.from("export_history").insert({client_id:(e==null?void 0:e.client_id)||(e==null?void 0:e.id),job_id:k,category_ids:Array.from(o),format:"csv",exported_by:e==null?void 0:e.id})};return y.length>0?c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Generated Facets"}),c.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-6 mb-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"font-semibold text-slate-900",children:[y.length," facets generated"]}),c.jsxs("p",{className:"text-sm text-slate-600 mt-1",children:["For ",o.size," categories"]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{onClick:T,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(sa,{className:"w-4 h-4"}),"Export"]}),c.jsx("button",{onClick:t,className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors",children:"Back to Dashboard"})]})]})}),c.jsx("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Facet Name"}),c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Possible Values"}),c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Priority"}),c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Confidence"}),c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Filling %"})]})}),c.jsx("tbody",{className:"divide-y divide-slate-200",children:y.map(E=>c.jsxs("tr",{className:"hover:bg-slate-50",children:[c.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-900",children:E.facet_name}),c.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 max-w-md truncate",children:E.possible_values}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E.priority==="High"?"bg-red-100 text-red-700":E.priority==="Medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:E.priority})}),c.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[E.confidence_score,"/10"]}),c.jsxs("td",{className:"px-6 py-4 text-sm text-slate-600",children:[E.filling_percentage,"%"]})]},E.id))})]})})]}):c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Generate Facets"}),c.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6 mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Project Name"}),c.jsx("input",{type:"text",value:d,onChange:E=>h(E.target.value),placeholder:"Enter project name",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[c.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"font-semibold text-slate-900",children:["Select Categories (",o.size,")"]}),c.jsx("button",{onClick:S,className:"text-sm text-blue-600 hover:text-blue-700",children:o.size===n.length?"Deselect All":"Select All"})]}),c.jsxs("div",{className:"max-h-96 overflow-y-auto space-y-2",children:[n.map(E=>c.jsxs("button",{onClick:()=>p(E.id),className:"w-full flex items-center gap-3 p-3 hover:bg-slate-50 rounded-lg transition-colors text-left",children:[o.has(E.id)?c.jsx(Ou,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}):c.jsx($u,{className:"w-5 h-5 text-slate-400 flex-shrink-0"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-slate-900 truncate",children:E.name}),c.jsx("p",{className:"text-xs text-slate-500 truncate",children:E.category_path})]})]},E.id)),n.length===0&&c.jsx("p",{className:"text-center text-slate-500 py-8",children:"No categories available. Upload categories first."})]})]}),c.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"font-semibold text-slate-900",children:["Select Prompts (",a.size,")"]}),c.jsx("button",{onClick:j,className:"text-sm text-blue-600 hover:text-blue-700",children:a.size===s.length?"Deselect All":"Select All"})]}),c.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:s.map(E=>c.jsxs("button",{onClick:()=>w(E.id),className:"w-full flex items-center gap-3 p-3 hover:bg-slate-50 rounded-lg transition-colors text-left",children:[a.has(E.id)?c.jsx(Ou,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}):c.jsx($u,{className:"w-5 h-5 text-slate-400 flex-shrink-0"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-slate-900",children:E.name}),c.jsxs("p",{className:"text-xs text-slate-500",children:["Level ",E.level,"  ",E.type]})]})]},E.id))})]})]}),c.jsx("div",{className:"flex justify-center",children:c.jsx("button",{onClick:b,disabled:m||o.size===0,className:"inline-flex items-center gap-2 px-8 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:m?c.jsxs(c.Fragment,{children:[c.jsx(xh,{className:"w-5 h-5 animate-spin"}),"Generating..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Cg,{className:"w-5 h-5"}),"Generate Facets"]})})})]})}function Mg(){const{user:t}=Dt(),[e,n]=O.useState([]),[r,s]=O.useState(""),[i,o]=O.useState(""),[l,a]=O.useState(!1);O.useEffect(()=>{(t==null?void 0:t.role)==="admin"&&u()},[t]);const u=async()=>{const{data:v}=await U.from("clients").select("*").order("created_at",{ascending:!1});n(v||[])},d=async()=>{if(!(!r.trim()||!t)){a(!0);try{const{error:v}=await U.from("clients").insert({name:r,contact_email:i,is_active:!0,created_by:t.id});if(v)throw v;s(""),o(""),await u()}catch(v){console.error("Error creating client:",v)}finally{a(!1)}}},h=async(v,y)=>{await U.from("clients").update({is_active:!y}).eq("id",v),await u()},m=async v=>{confirm("Are you sure? This will delete all data associated with this client.")&&(await U.from("clients").delete().eq("id",v),await u())};return(t==null?void 0:t.role)!=="admin"?c.jsx("div",{className:"text-center py-8 text-slate-500",children:"Access denied. Admin privileges required."}):c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Client Management"}),c.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 p-6 mb-6",children:[c.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Create New Client"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsx("input",{type:"text",value:r,onChange:v=>s(v.target.value),placeholder:"Client Name",className:"px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),c.jsx("input",{type:"email",value:i,onChange:v=>o(v.target.value),placeholder:"Contact Email",className:"px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("button",{onClick:d,disabled:l||!r.trim(),className:"inline-flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[c.jsx(Ng,{className:"w-5 h-5"}),"Create Client"]})]}),c.jsx("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Client Name"}),c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Contact Email"}),c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Created"}),c.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold text-slate-900",children:"Actions"})]})}),c.jsxs("tbody",{className:"divide-y divide-slate-200",children:[e.map(v=>c.jsxs("tr",{className:"hover:bg-slate-50",children:[c.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-900",children:v.name}),c.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:v.contact_email||"-"}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v.is_active?"bg-green-100 text-green-700":"bg-slate-100 text-slate-700"}`,children:v.is_active?"Active":"Inactive"})}),c.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:new Date(v.created_at).toLocaleDateString()}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>h(v.id,v.is_active),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:v.is_active?"Deactivate":"Activate",children:v.is_active?c.jsx(Rg,{className:"w-4 h-4"}):c.jsx(Og,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>m(v.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Delete",children:c.jsx(kh,{className:"w-4 h-4"})})]})})]},v.id)),e.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-500",children:"No clients yet. Create your first client to get started."})})]})]})})]})}function Fg(){const{user:t,signOut:e}=Dt(),[n,r]=O.useState("dashboard"),[s,i]=O.useState({facets_recommended:0,jobs_in_progress:0,jobs_yet_to_start:0,pending_categories:0,downloads:0,total_projects:0});O.useEffect(()=>{o()},[t]);const o=async()=>{var f,p,w;if(!t)return;const u=t.role==="admin"?{}:{client_id:t.client_id},[d,h,m,v]=await Promise.all([U.from("facet_generation_jobs").select("status").match(u),U.from("categories").select("id").match(u),U.from("export_history").select("id").match(u),U.from("facet_generation_jobs").select("id").match(u)]),y=d.data||[],_=y.filter(S=>S.status==="completed").length,k=y.filter(S=>S.status==="processing").length,g=y.filter(S=>S.status==="pending").length;i({facets_recommended:_,jobs_in_progress:k,jobs_yet_to_start:g,pending_categories:((f=h.data)==null?void 0:f.length)||0,downloads:((p=m.data)==null?void 0:p.length)||0,total_projects:((w=v.data)==null?void 0:w.length)||0})},l=[{id:"dashboard",label:"Dashboard",icon:jg},{id:"projects",label:"Projects",icon:Ru},{id:"upload",label:"Upload Categories",icon:Sh},{id:"prompts",label:"Prompt Templates",icon:wh},{id:"generate",label:"Generate Facets",icon:xh}];(t==null?void 0:t.role)==="admin"&&l.push({id:"clients",label:"Manage Clients",icon:$g});const a=()=>{switch(n){case"dashboard":return c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:(t==null?void 0:t.role)==="admin"?"Admin Dashboard":"Dashboard"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:c.jsx(yh,{className:"w-6 h-6 text-green-600"})}),c.jsx("span",{className:"text-3xl font-bold text-slate-900",children:s.facets_recommended})]}),c.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Facets Recommended"}),c.jsx("p",{className:"text-sm text-slate-600",children:"Successfully generated"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:c.jsx(Ag,{className:"w-6 h-6 text-blue-600"})}),c.jsx("span",{className:"text-3xl font-bold text-slate-900",children:s.jobs_in_progress})]}),c.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"In Progress"}),c.jsx("p",{className:"text-sm text-slate-600",children:"Currently processing"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:c.jsx(_g,{className:"w-6 h-6 text-yellow-600"})}),c.jsx("span",{className:"text-3xl font-bold text-slate-900",children:s.jobs_yet_to_start})]}),c.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Yet to Start"}),c.jsx("p",{className:"text-sm text-slate-600",children:"Pending jobs"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:"p-3 bg-slate-100 rounded-lg",children:c.jsx(wg,{className:"w-6 h-6 text-slate-600"})}),c.jsx("span",{className:"text-3xl font-bold text-slate-900",children:s.pending_categories})]}),c.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Categories"}),c.jsx("p",{className:"text-sm text-slate-600",children:"Total uploaded"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:c.jsx(sa,{className:"w-6 h-6 text-indigo-600"})}),c.jsx("span",{className:"text-3xl font-bold text-slate-900",children:s.downloads})]}),c.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Downloaded Outputs"}),c.jsx("p",{className:"text-sm text-slate-600",children:"Export history"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-slate-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:c.jsx(Ru,{className:"w-6 h-6 text-purple-600"})}),c.jsx("span",{className:"text-3xl font-bold text-slate-900",children:s.total_projects})]}),c.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Total Projects"}),c.jsx("p",{className:"text-sm text-slate-600",children:"All time"})]})]}),c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[c.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:"Quick Actions"}),c.jsxs("div",{className:"flex flex-wrap gap-3",children:[c.jsx("button",{onClick:()=>r("projects"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create New Project"}),c.jsx("button",{onClick:()=>r("upload"),className:"px-4 py-2 bg-white border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Upload Categories"}),c.jsx("button",{onClick:()=>r("generate"),className:"px-4 py-2 bg-white border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Generate Facets"})]})]})]});case"projects":return c.jsx(Ig,{});case"upload":return c.jsx(Ug,{});case"prompts":return c.jsx(Dg,{});case"generate":return c.jsx(zg,{onComplete:()=>r("dashboard")});case"clients":return(t==null?void 0:t.role)==="admin"?c.jsx(Mg,{}):null;default:return null}};return c.jsxs("div",{className:"min-h-screen bg-slate-50 flex",children:[c.jsxs("aside",{className:"w-64 bg-white border-r border-slate-200",children:[c.jsxs("div",{className:"p-6 border-b border-slate-200",children:[c.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"Facet Builder Pro"}),c.jsx("p",{className:"text-sm text-slate-600 mt-1",children:t==null?void 0:t.email}),(t==null?void 0:t.role)==="admin"&&c.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded",children:"Admin"})]}),c.jsx("nav",{className:"p-4",children:l.map(u=>{const d=u.icon;return c.jsxs("button",{onClick:()=>r(u.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg mb-1 transition-colors ${n===u.id?"bg-blue-50 text-blue-700 font-medium":"text-slate-700 hover:bg-slate-50"}`,children:[c.jsx(d,{className:"w-5 h-5"}),u.label]},u.id)})}),c.jsx("div",{className:"absolute bottom-0 left-0 right-0 w-64 p-4 border-t border-slate-200",children:c.jsxs("button",{onClick:e,className:"w-full flex items-center gap-3 px-4 py-3 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[c.jsx(bg,{className:"w-5 h-5"}),"Sign Out"]})})]}),c.jsx("main",{className:"flex-1 p-8 overflow-auto",children:a()})]})}function Bg(){const{user:t,loading:e}=Dt();return e?c.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(_h,{className:"w-8 h-8 text-blue-600 animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-slate-600",children:"Loading..."})]})}):t?c.jsx(Fg,{}):c.jsx(Lg,{})}Kd(document.getElementById("root")).render(c.jsx(O.StrictMode,{children:c.jsx(gg,{children:c.jsx(Bg,{})})}));
